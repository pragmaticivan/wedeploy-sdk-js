{"version":3,"file":"api.js","sources":["src/globals/globals.js","node_modules/metal/src/coreNamed.js","node_modules/metal/src/core.js","node_modules/metal/src/array/array.js","node_modules/metal/src/async/async.js","node_modules/metal/src/disposable/Disposable.js","node_modules/metal/src/object/object.js","node_modules/metal/src/string/string.js","src/api-query/Embodied.js","src/api-query/FilterBody.js","src/api-query/Geo.js","src/api-query/Range.js","src/api-query/Filter.js","node_modules/metal-uri/src/parseFromAnchor.js","node_modules/metal-uri/src/parse.js","node_modules/metal-structs/src/MultiMap.js","node_modules/metal-structs/src/TreeNode.js","node_modules/metal-uri/src/Uri.js","src/api/assertions.js","src/api/auth/Auth.js","src/api/ApiHelper.js","src/api/auth/AuthProvider.js","src/api/auth/FacebookAuthProvider.js","src/api/auth/GithubAuthProvider.js","src/api/auth/GoogleAuthProvider.js","node_modules/metal-storage/src/mechanism/StorageMechanism.js","node_modules/metal-storage/src/Storage.js","node_modules/metal-storage/src/mechanism/LocalStorageMechanism.js","src/api/auth/AuthApiHelper.js","src/api-query/Aggregation.js","src/api-query/Query.js","src/api/data/DataApiHelper.js","src/crypt/Base64.js","node_modules/metal-promise/src/promise/Promise.js","node_modules/metal-ajax/src/Ajax.js","src/api/Transport.js","src/api/ClientMessage.js","src/api/ClientResponse.js","src/api/browser/AjaxTransport.js","src/api/TransportFactory.js","src/api/ClientRequest.js","src/api/WeDeploy.js","src/env/browser.js"],"sourcesContent":["var globals = {};\n\nif (typeof window !== 'undefined') {\n\tglobals.window = window;\n}\n\nif (typeof document !== 'undefined') {\n\tglobals.document = document;\n}\n\nexport default globals;\n","'use strict';\n\n/**\n * A collection of core utility functions.\n * @const\n */\n\nlet compatibilityModeData_;\n\n/**\n * Counter for unique id.\n * @type {Number}\n * @private\n */\nlet uniqueIdCounter_ = 1;\n\n/**\n * Unique id property prefix.\n * @type {String}\n * @protected\n */\nexport const UID_PROPERTY = 'core_' + ((Math.random() * 1e9) >>> 0);\n\n/**\n * When defining a class Foo with an abstract method bar(), you can do:\n * Foo.prototype.bar = abstractMethod\n *\n * Now if a subclass of Foo fails to override bar(), an error will be thrown\n * when bar() is invoked.\n *\n * @type {!Function}\n * @throws {Error} when invoked to indicate the method should be overridden.\n */\nexport function abstractMethod() {\n\tthrow Error('Unimplemented abstract method');\n}\n\n/**\n * Loops constructor super classes collecting its properties values. If\n * property is not available on the super class `undefined` will be\n * collected as value for the class hierarchy position.\n * @param {!function()} constructor Class constructor.\n * @param {string} propertyName Property name to be collected.\n * @return {Array.<*>} Array of collected values.\n * TODO(*): Rethink superclass loop.\n */\nexport function collectSuperClassesProperty(constructor, propertyName) {\n\tvar propertyValues = [constructor[propertyName]];\n\twhile (constructor.__proto__ && !constructor.__proto__.isPrototypeOf(Function)) {\n\t\tconstructor = constructor.__proto__;\n\t\tpropertyValues.push(constructor[propertyName]);\n\t}\n\treturn propertyValues;\n}\n\n/**\n * Disables Metal.js's compatibility mode.\n */\nexport function disableCompatibilityMode() {\n\tcompatibilityModeData_ = undefined;\n}\n\n/**\n * Enables Metal.js's compatibility mode with the following features from rc\n * and 1.x versions:\n *     - Using \"key\" to reference component instances. In the current version\n *       this should be done via \"ref\" instead. This allows old code still\n *       using \"key\" to keep working like before. NOTE: this may cause\n *       problems, since \"key\" is meant to be used differently. Only use this\n *       if it's not possible to upgrade the code to use \"ref\" instead.\n * @param {Object=} opt_data Optional object with data to specify more\n *     details, such as:\n *         - renderers {Array} the template renderers that should be in\n *           compatibility mode, either their constructors or strings\n *           representing them (e.g. 'soy' or 'jsx'). By default, all the ones\n *           that extend from IncrementalDomRenderer.\n * @type {Object}\n */\nexport function enableCompatibilityMode(opt_data = {}) {\n\tcompatibilityModeData_ = opt_data;\n}\n\n/**\n * Returns the data used for compatibility mode, or nothing if it hasn't been\n * enabled.\n * @return {Object}\n */\nexport function getCompatibilityModeData() {\n\t// Compatibility mode can be set via the __METAL_COMPATIBILITY__ global var.\n\tif (compatibilityModeData_ === undefined) {\n\t\tif (typeof window !== 'undefined' && window.__METAL_COMPATIBILITY__) {\n\t\t\tenableCompatibilityMode(window.__METAL_COMPATIBILITY__);\n\t\t}\n\t}\n\treturn compatibilityModeData_;\n}\n\n/**\n * Gets the name of the given function. If the current browser doesn't\n * support the `name` property, this will calculate it from the function's\n * content string.\n * @param {!function()} fn\n * @return {string}\n */\nexport function getFunctionName(fn) {\n\tif (!fn.name) {\n\t\tvar str = fn.toString();\n\t\tfn.name = str.substring(9, str.indexOf('('));\n\t}\n\treturn fn.name;\n}\n\n/**\n * Gets an unique id. If `opt_object` argument is passed, the object is\n * mutated with an unique id. Consecutive calls with the same object\n * reference won't mutate the object again, instead the current object uid\n * returns. See {@link UID_PROPERTY}.\n * @param {Object=} opt_object Optional object to be mutated with the uid. If\n *     not specified this method only returns the uid.\n * @param {boolean=} opt_noInheritance Optional flag indicating if this\n *     object's uid property can be inherited from parents or not.\n * @throws {Error} when invoked to indicate the method should be overridden.\n */\nexport function getUid(opt_object, opt_noInheritance) {\n\tif (opt_object) {\n\t\tvar id = opt_object[UID_PROPERTY];\n\t\tif (opt_noInheritance && !opt_object.hasOwnProperty(UID_PROPERTY)) {\n\t\t\tid = null;\n\t\t}\n\t\treturn id || (opt_object[UID_PROPERTY] = uniqueIdCounter_++);\n\t}\n\treturn uniqueIdCounter_++;\n}\n\n/**\n * The identity function. Returns its first argument.\n * @param {*=} opt_returnValue The single value that will be returned.\n * @return {?} The first argument.\n */\nexport function identityFunction(opt_returnValue) {\n\treturn opt_returnValue;\n}\n\n/**\n * Returns true if the specified value is a boolean.\n * @param {?} val Variable to test.\n * @return {boolean} Whether variable is boolean.\n */\nexport function isBoolean(val) {\n\treturn typeof val === 'boolean';\n}\n\n/**\n * Returns true if the specified value is not undefined.\n * @param {?} val Variable to test.\n * @return {boolean} Whether variable is defined.\n */\nexport function isDef(val) {\n\treturn val !== undefined;\n}\n\n/**\n * Returns true if value is not undefined or null.\n * @param {*} val\n * @return {boolean}\n */\nexport function isDefAndNotNull(val) {\n\treturn isDef(val) && !isNull(val);\n}\n\n/**\n * Returns true if value is a document.\n * @param {*} val\n * @return {boolean}\n */\nexport function isDocument(val) {\n\treturn val && typeof val === 'object' && val.nodeType === 9;\n}\n\n/**\n * Returns true if value is a dom element.\n * @param {*} val\n * @return {boolean}\n */\nexport function isElement(val) {\n\treturn val && typeof val === 'object' && val.nodeType === 1;\n}\n\n/**\n * Returns true if the specified value is a function.\n * @param {?} val Variable to test.\n * @return {boolean} Whether variable is a function.\n */\nexport function isFunction(val) {\n\treturn typeof val === 'function';\n}\n\n/**\n * Returns true if value is null.\n * @param {*} val\n * @return {boolean}\n */\nexport function isNull(val) {\n\treturn val === null;\n}\n\n/**\n * Returns true if the specified value is a number.\n * @param {?} val Variable to test.\n * @return {boolean} Whether variable is a number.\n */\nexport function isNumber(val) {\n\treturn typeof val === 'number';\n}\n\n/**\n * Returns true if value is a window.\n * @param {*} val\n * @return {boolean}\n */\nexport function isWindow(val) {\n\treturn val !== null && val === val.window;\n}\n\n/**\n * Returns true if the specified value is an object. This includes arrays\n * and functions.\n * @param {?} val Variable to test.\n * @return {boolean} Whether variable is an object.\n */\nexport function isObject(val) {\n\tvar type = typeof val;\n\treturn type === 'object' && val !== null || type === 'function';\n}\n\n/**\n * Returns true if value is a Promise.\n * @param {*} val\n * @return {boolean}\n */\nexport function isPromise(val) {\n\treturn val && typeof val === 'object' && typeof val.then === 'function';\n}\n\n/**\n * Returns true if value is a string.\n * @param {*} val\n * @return {boolean}\n */\nexport function isString(val) {\n\treturn typeof val === 'string' || val instanceof String;\n}\n\n/**\n * Merges the values of a export function property a class with the values of that\n * property for all its super classes, and stores it as a new static\n * property of that class. If the export function property already existed, it won't\n * be recalculated.\n * @param {!function()} constructor Class constructor.\n * @param {string} propertyName Property name to be collected.\n * @param {function(*, *):*=} opt_mergeFn Function that receives an array filled\n *   with the values of the property for the current class and all its super classes.\n *   Should return the merged value to be stored on the current class.\n * @return {boolean} Returns true if merge happens, false otherwise.\n */\nexport function mergeSuperClassesProperty(constructor, propertyName, opt_mergeFn) {\n\tvar mergedName = propertyName + '_MERGED';\n\tif (constructor.hasOwnProperty(mergedName)) {\n\t\treturn false;\n\t}\n\n\tvar merged = collectSuperClassesProperty(constructor, propertyName);\n\tif (opt_mergeFn) {\n\t\tmerged = opt_mergeFn(merged);\n\t}\n\tconstructor[mergedName] = merged;\n\treturn true;\n}\n\n/**\n * Null function used for default values of callbacks, etc.\n * @return {void} Nothing.\n */\nexport function nullFunction() {}\n","'use strict';\n\n// This file exists just for backwards compatibility, making sure that old\n// default imports for this file still work. It's best to use the named exports\n// for each function instead though, since that allows bundlers like Rollup to\n// reduce the bundle size by removing unused code.\nimport * as core from './coreNamed';\n\nexport default core;\nexport { core };\nexport * from './coreNamed';\n","'use strict';\n\nimport { isDef } from '../core';\n\nclass array {\n\t/**\n\t * Checks if the given arrays have the same content.\n\t * @param {!Array<*>} arr1\n\t * @param {!Array<*>} arr2\n\t * @return {boolean}\n\t */\n\tstatic equal(arr1, arr2) {\n\t\tif (arr1.length !== arr2.length) {\n\t\t\treturn false;\n\t\t}\n\t\tfor (var i = 0; i < arr1.length; i++) {\n\t\t\tif (arr1[i] !== arr2[i]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Returns the first value in the given array that isn't undefined.\n\t * @param {!Array} arr\n\t * @return {*}\n\t */\n\tstatic firstDefinedValue(arr) {\n\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\tif (arr[i] !== undefined) {\n\t\t\t\treturn arr[i];\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Transforms the input nested array to become flat.\n\t * @param {Array.<*|Array.<*>>} arr Nested array to flatten.\n\t * @param {Array.<*>} opt_output Optional output array.\n\t * @return {Array.<*>} Flat array.\n\t */\n\tstatic flatten(arr, opt_output) {\n\t\tvar output = opt_output || [];\n\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t\tif (Array.isArray(arr[i])) {\n\t\t\t\tarray.flatten(arr[i], output);\n\t\t\t} else {\n\t\t\t\toutput.push(arr[i]);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Removes the first occurrence of a particular value from an array.\n\t * @param {Array.<T>} arr Array from which to remove value.\n\t * @param {T} obj Object to remove.\n\t * @return {boolean} True if an element was removed.\n\t * @template T\n\t */\n\tstatic remove(arr, obj) {\n\t\tvar i = arr.indexOf(obj);\n\t\tvar rv;\n\t\tif ( (rv = i >= 0) ) {\n\t\t\tarray.removeAt(arr, i);\n\t\t}\n\t\treturn rv;\n\t}\n\n\t/**\n\t * Removes from an array the element at index i\n\t * @param {Array} arr Array or array like object from which to remove value.\n\t * @param {number} i The index to remove.\n\t * @return {boolean} True if an element was removed.\n\t */\n\tstatic removeAt(arr, i) {\n\t\treturn Array.prototype.splice.call(arr, i, 1).length === 1;\n\t}\n\n\t/**\n\t * Slices the given array, just like Array.prototype.slice, but this\n\t * is faster and working on all array-like objects (like arguments).\n\t * @param {!Object} arr Array-like object to slice.\n\t * @param {number} start The index that should start the slice.\n\t * @param {number=} opt_end The index where the slice should end, not\n\t *   included in the final array. If not given, all elements after the\n\t *   start index will be included.\n\t * @return {!Array}\n\t */\n\tstatic slice(arr, start, opt_end) {\n\t\tvar sliced = [];\n\t\tvar end = isDef(opt_end) ? opt_end : arr.length;\n\t\tfor (var i = start; i < end; i++) {\n\t\t\tsliced.push(arr[i]);\n\t\t}\n\t\treturn sliced;\n\t}\n}\n\nexport default array;\n","/*!\n * Polyfill from Google's Closure Library.\n * Copyright 2013 The Closure Library Authors. All Rights Reserved.\n */\n\n'use strict';\n\nvar async = {};\n\n\n/**\n * Throw an item without interrupting the current execution context.  For\n * example, if processing a group of items in a loop, sometimes it is useful\n * to report an error while still allowing the rest of the batch to be\n * processed.\n * @param {*} exception\n */\nasync.throwException = function(exception) {\n\t// Each throw needs to be in its own context.\n\tasync.nextTick(function() {\n\t\tthrow exception;\n\t});\n};\n\n\n/**\n * Fires the provided callback just before the current callstack unwinds, or as\n * soon as possible after the current JS execution context.\n * @param {function(this:THIS)} callback\n * @param {THIS=} opt_context Object to use as the \"this value\" when calling\n *     the provided function.\n * @template THIS\n */\nasync.run = function(callback, opt_context) {\n\tif (!async.run.workQueueScheduled_) {\n\t\t// Nothing is currently scheduled, schedule it now.\n\t\tasync.nextTick(async.run.processWorkQueue);\n\t\tasync.run.workQueueScheduled_ = true;\n\t}\n\n\tasync.run.workQueue_.push(\n\t\tnew async.run.WorkItem_(callback, opt_context));\n};\n\n\n/** @private {boolean} */\nasync.run.workQueueScheduled_ = false;\n\n\n/** @private {!Array.<!async.run.WorkItem_>} */\nasync.run.workQueue_ = [];\n\n/**\n * Run any pending async.run work items. This function is not intended\n * for general use, but for use by entry point handlers to run items ahead of\n * async.nextTick.\n */\nasync.run.processWorkQueue = function() {\n\t// NOTE: additional work queue items may be pushed while processing.\n\twhile (async.run.workQueue_.length) {\n\t\t// Don't let the work queue grow indefinitely.\n\t\tvar workItems = async.run.workQueue_;\n\t\tasync.run.workQueue_ = [];\n\t\tfor (var i = 0; i < workItems.length; i++) {\n\t\t\tvar workItem = workItems[i];\n\t\t\ttry {\n\t\t\t\tworkItem.fn.call(workItem.scope);\n\t\t\t} catch (e) {\n\t\t\t\tasync.throwException(e);\n\t\t\t}\n\t\t}\n\t}\n\n\t// There are no more work items, reset the work queue.\n\tasync.run.workQueueScheduled_ = false;\n};\n\n\n/**\n * @constructor\n * @final\n * @struct\n * @private\n *\n * @param {function()} fn\n * @param {Object|null|undefined} scope\n */\nasync.run.WorkItem_ = function(fn, scope) {\n\t/** @const */\n\tthis.fn = fn;\n\t/** @const */\n\tthis.scope = scope;\n};\n\n\n/**\n * Fires the provided callbacks as soon as possible after the current JS\n * execution context. setTimeout(â€¦, 0) always takes at least 5ms for legacy\n * reasons.\n * @param {function(this:SCOPE)} callback Callback function to fire as soon as\n *     possible.\n * @param {SCOPE=} opt_context Object in whose scope to call the listener.\n * @template SCOPE\n */\nasync.nextTick = function(callback, opt_context) {\n\tvar cb = callback;\n\tif (opt_context) {\n\t\tcb = callback.bind(opt_context);\n\t}\n\tcb = async.nextTick.wrapCallback_(cb);\n\t// Introduced and currently only supported by IE10.\n\t// Verify if variable is defined on the current runtime (i.e., node, browser).\n\t// Can't use typeof enclosed in a function (such as core.isFunction) or an\n\t// exception will be thrown when the function is called on an environment\n\t// where the variable is undefined.\n\tif (typeof setImmediate === 'function') {\n\t\tsetImmediate(cb);\n\t\treturn;\n\t}\n\t// Look for and cache the custom fallback version of setImmediate.\n\tif (!async.nextTick.setImmediate_) {\n\t\tasync.nextTick.setImmediate_ = async.nextTick.getSetImmediateEmulator_();\n\t}\n\tasync.nextTick.setImmediate_(cb);\n};\n\n\n/**\n * Cache for the setImmediate implementation.\n * @type {function(function())}\n * @private\n */\nasync.nextTick.setImmediate_ = null;\n\n\n/**\n * Determines the best possible implementation to run a function as soon as\n * the JS event loop is idle.\n * @return {function(function())} The \"setImmediate\" implementation.\n * @private\n */\nasync.nextTick.getSetImmediateEmulator_ = function() {\n\t// Create a private message channel and use it to postMessage empty messages\n\t// to ourselves.\n\tvar Channel;\n\n\t// Verify if variable is defined on the current runtime (i.e., node, browser).\n\t// Can't use typeof enclosed in a function (such as core.isFunction) or an\n\t// exception will be thrown when the function is called on an environment\n\t// where the variable is undefined.\n\tif (typeof MessageChannel === 'function') {\n\t\tChannel = MessageChannel;\n\t}\n\n\t// If MessageChannel is not available and we are in a browser, implement\n\t// an iframe based polyfill in browsers that have postMessage and\n\t// document.addEventListener. The latter excludes IE8 because it has a\n\t// synchronous postMessage implementation.\n\tif (typeof Channel === 'undefined' && typeof window !== 'undefined' &&\n\t\twindow.postMessage && window.addEventListener) {\n\t\t/** @constructor */\n\t\tChannel = function() {\n\t\t\t// Make an empty, invisible iframe.\n\t\t\tvar iframe = document.createElement('iframe');\n\t\t\tiframe.style.display = 'none';\n\t\t\tiframe.src = '';\n\t\t\tdocument.documentElement.appendChild(iframe);\n\t\t\tvar win = iframe.contentWindow;\n\t\t\tvar doc = win.document;\n\t\t\tdoc.open();\n\t\t\tdoc.write('');\n\t\t\tdoc.close();\n\t\t\tvar message = 'callImmediate' + Math.random();\n\t\t\tvar origin = win.location.protocol + '//' + win.location.host;\n\t\t\tvar onmessage = function(e) {\n\t\t\t\t// Validate origin and message to make sure that this message was\n\t\t\t\t// intended for us.\n\t\t\t\tif (e.origin !== origin && e.data !== message) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.port1.onmessage();\n\t\t\t}.bind(this);\n\t\t\twin.addEventListener('message', onmessage, false);\n\t\t\tthis.port1 = {};\n\t\t\tthis.port2 = {\n\t\t\t\tpostMessage: function() {\n\t\t\t\t\twin.postMessage(message, origin);\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\t}\n\tif (typeof Channel !== 'undefined') {\n\t\tvar channel = new Channel();\n\t\t// Use a fifo linked list to call callbacks in the right order.\n\t\tvar head = {};\n\t\tvar tail = head;\n\t\tchannel.port1.onmessage = function() {\n\t\t\thead = head.next;\n\t\t\tvar cb = head.cb;\n\t\t\thead.cb = null;\n\t\t\tcb();\n\t\t};\n\t\treturn function(cb) {\n\t\t\ttail.next = {\n\t\t\t\tcb: cb\n\t\t\t};\n\t\t\ttail = tail.next;\n\t\t\tchannel.port2.postMessage(0);\n\t\t};\n\t}\n\t// Implementation for IE6-8: Script elements fire an asynchronous\n\t// onreadystatechange event when inserted into the DOM.\n\tif (typeof document !== 'undefined' && 'onreadystatechange' in\n\t\tdocument.createElement('script')) {\n\t\treturn function(cb) {\n\t\t\tvar script = document.createElement('script');\n\t\t\tscript.onreadystatechange = function() {\n\t\t\t\t// Clean up and call the callback.\n\t\t\t\tscript.onreadystatechange = null;\n\t\t\t\tscript.parentNode.removeChild(script);\n\t\t\t\tscript = null;\n\t\t\t\tcb();\n\t\t\t\tcb = null;\n\t\t\t};\n\t\t\tdocument.documentElement.appendChild(script);\n\t\t};\n\t}\n\t// Fall back to setTimeout with 0. In browsers this creates a delay of 5ms\n\t// or more.\n\treturn function(cb) {\n\t\tsetTimeout(cb, 0);\n\t};\n};\n\n\n/**\n * Helper function that is overrided to protect callbacks with entry point\n * monitor if the application monitors entry points.\n * @param {function()} callback Callback function to fire as soon as possible.\n * @return {function()} The wrapped callback.\n * @private\n */\nasync.nextTick.wrapCallback_ = function(opt_returnValue) {\n\treturn opt_returnValue;\n};\n\nexport default async;\n","'use strict';\n\n/**\n * Disposable utility. When inherited provides the `dispose` function to its\n * subclass, which is responsible for disposing of any object references\n * when an instance won't be used anymore. Subclasses should override\n * `disposeInternal` to implement any specific disposing logic.\n * @constructor\n */\nclass Disposable {\n\tconstructor() {\n\t\t/**\n\t\t * Flag indicating if this instance has already been disposed.\n\t\t * @type {boolean}\n\t\t * @protected\n\t\t */\n\t\tthis.disposed_ = false;\n\t}\n\n\t/**\n\t * Disposes of this instance's object references. Calls `disposeInternal`.\n\t */\n\tdispose() {\n\t\tif (!this.disposed_) {\n\t\t\tthis.disposeInternal();\n\t\t\tthis.disposed_ = true;\n\t\t}\n\t}\n\n\t/**\n\t * Subclasses should override this method to implement any specific\n\t * disposing logic (like clearing references and calling `dispose` on other\n\t * disposables).\n\t */\n\tdisposeInternal() {}\n\n\t/**\n\t * Checks if this instance has already been disposed.\n\t * @return {boolean}\n\t */\n\tisDisposed() {\n\t\treturn this.disposed_;\n\t}\n}\n\nexport default Disposable;\n","'use strict';\n\nclass object {\n\t/**\n\t * Copies all the members of a source object to a target object.\n\t * @param {Object} target Target object.\n\t * @param {...Object} var_args The objects from which values will be copied.\n\t * @return {Object} Returns the target object reference.\n\t */\n\tstatic mixin(target) {\n\t\tvar key, source;\n\t\tfor (var i = 1; i < arguments.length; i++) {\n\t\t\tsource = arguments[i];\n\t\t\tfor (key in source) {\n\t\t\t\ttarget[key] = source[key];\n\t\t\t}\n\t\t}\n\t\treturn target;\n\t}\n\n\t/**\n\t * Returns an object based on its fully qualified external name.\n\t * @param {string} name The fully qualified name.\n\t * @param {object=} opt_obj The object within which to look; default is\n\t *     <code>window</code>.\n\t * @return {?} The value (object or primitive) or, if not found, undefined.\n\t */\n\tstatic getObjectByName(name, opt_obj) {\n\t\tvar scope = opt_obj || window;\n\t\tvar parts = name.split('.');\n\t\treturn parts.reduce((part, key) => part[key], scope);\n\t}\n\n\t/**\n\t * Returns a new object with the same keys as the given one, but with\n\t * their values set to the return values of the specified function.\n\t * @param {!Object} obj\n\t * @param {!function(string, *)} fn\n\t * @return {!Object}\n\t */\n\tstatic map(obj, fn) {\n\t\tvar mappedObj = {};\n\t\tvar keys = Object.keys(obj);\n\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\tmappedObj[keys[i]] = fn(keys[i], obj[keys[i]]);\n\t\t}\n\t\treturn mappedObj;\n\t}\n\n\t/**\n\t * Checks if the two given objects are equal. This is done via a shallow\n\t * check, including only the keys directly contained by the 2 objects.\n\t * @return {boolean}\n\t */\n\tstatic shallowEqual(obj1, obj2) {\n\t\tif (obj1 === obj2) {\n\t\t\treturn true;\n\t\t}\n\n\t\tvar keys1 = Object.keys(obj1);\n\t\tvar keys2 = Object.keys(obj2);\n\t\tif (keys1.length !== keys2.length) {\n\t\t\treturn false;\n\t\t}\n\n\t\tfor (var i = 0; i < keys1.length; i++) {\n\t\t\tif (obj1[keys1[i]] !== obj2[keys1[i]]) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n}\n\nexport default object;\n","'use strict';\n\nclass string {\n\t/**\n\t * Compares the given strings without taking the case into account.\n\t * @param {string|number} str1\n\t * @param {string|number} str2\n\t * @return {number} Either -1, 0 or 1, according to if the first string is\n\t *     \"smaller\", equal or \"bigger\" than the second given string.\n\t */\n\tstatic caseInsensitiveCompare(str1, str2) {\n\t  var test1 = String(str1).toLowerCase();\n\t  var test2 = String(str2).toLowerCase();\n\n\t  if (test1 < test2) {\n\t    return -1;\n\t  } else if (test1 === test2) {\n\t    return 0;\n\t  } else {\n\t    return 1;\n\t  }\n\t}\n\n\t/**\n\t * Removes the breaking spaces from the left and right of the string and\n\t * collapses the sequences of breaking spaces in the middle into single spaces.\n\t * The original and the result strings render the same way in HTML.\n\t * @param {string} str A string in which to collapse spaces.\n\t * @return {string} Copy of the string with normalized breaking spaces.\n\t */\n\tstatic collapseBreakingSpaces(str) {\n\t\treturn str.replace(/[\\t\\r\\n ]+/g, ' ').replace(/^[\\t\\r\\n ]+|[\\t\\r\\n ]+$/g, '');\n\t}\n\n\t/**\n\t* Escapes characters in the string that are not safe to use in a RegExp.\n\t* @param {*} str The string to escape. If not a string, it will be casted\n\t*     to one.\n\t* @return {string} A RegExp safe, escaped copy of {@code s}.\n\t*/\n\tstatic escapeRegex(str) {\n\t\treturn String(str)\n\t\t\t.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, '\\\\$1')\n\t\t\t.replace(/\\x08/g, '\\\\x08');\n\t}\n\n\t/**\n\t* Returns a string with at least 64-bits of randomness.\n\t* @return {string} A random string, e.g. sn1s7vb4gcic.\n\t*/\n\tstatic getRandomString() {\n\t\tvar x = 2147483648;\n\t\treturn Math.floor(Math.random() * x).toString(36) +\n\t\t\tMath.abs(Math.floor(Math.random() * x) ^ Date.now()).toString(36);\n\t}\n\n\t/**\n\t * Calculates the hashcode for a string. The hashcode value is computed by\n\t * the sum algorithm: s[0]*31^(n-1) + s[1]*31^(n-2) + ... + s[n-1]. A nice\n\t * property of using 31 prime is that the multiplication can be replaced by\n\t * a shift and a subtraction for better performance: 31*i == (i<<5)-i.\n\t * Modern VMs do this sort of optimization automatically.\n\t * @param {String} val Target string.\n\t * @return {Number} Returns the string hashcode.\n\t */\n\tstatic hashCode(val) {\n\t\tvar hash = 0;\n\t\tfor (var i = 0, len = val.length; i < len; i++) {\n\t\t\thash = 31 * hash + val.charCodeAt(i);\n\t\t\thash %= 0x100000000;\n\t\t}\n\t\treturn hash;\n\t}\n\n\t/**\n\t * Replaces interval into the string with specified value, e.g.\n\t * `replaceInterval(\"abcde\", 1, 4, \"\")` returns \"ae\".\n\t * @param {string} str The input string.\n\t * @param {Number} start Start interval position to be replaced.\n\t * @param {Number} end End interval position to be replaced.\n\t * @param {string} value The value that replaces the specified interval.\n\t * @return {string}\n\t */\n\tstatic replaceInterval(str, start, end, value) {\n\t\treturn str.substring(0, start) + value + str.substring(end);\n\t}\n}\n\nexport default string;\n","'use strict';\n\n/**\n * Class responsible for storing an object that will be printed as JSON\n * when the `toString` method is called.\n */\nclass Embodied {\n\t/**\n\t * Constructs a Embodied instance.\n\t * @constructor\n\t */\n\tconstructor() {\n\t\tthis.body_ = {};\n\t}\n\n\t/**\n\t * Gets the json object that represents this instance.\n\t * @return {!Object}\n\t */\n\tbody() {\n\t\treturn this.body_;\n\t}\n\n\t/**\n\t * If the given object is an instance of Embodied, this will\n\t * return its body content. Otherwise this will return the\n\t * original object.\n\t * @param {*} obj\n\t * @return {*}\n\t * @static\n\t */\n\tstatic toBody(obj) {\n\t\treturn (obj instanceof Embodied) ? obj.body() : obj;\n\t}\n\n\t/**\n\t * Gets the json string that represents this instance.\n\t * @return {string}\n\t */\n\ttoString() {\n\t\treturn JSON.stringify(this.body());\n\t}\n}\n\nexport default Embodied;\n","'use strict';\n\nimport { core } from 'metal';\nimport Embodied from './Embodied';\n\n/**\n * Class responsible for storing and handling the body contents\n * of a Filter instance.\n */\nclass FilterBody {\n\t/**\n\t * Constructs a {@link FilterBody} instance.\n\t * @param {string} field The name of the field to filter by.\n\t * @param {*} operatorOrValue If a third param is given, this should\n\t *   be the filter's operator (like \">=\"). Otherwise, this will be\n\t *   used as the filter's value, and the filter's operator will be \"=\".\n\t * @param {*=} opt_value The filter's value.\n\t * @constructor\n\t */\n\tconstructor(field, operatorOrValue, opt_value) {\n\t\tvar obj = {\n\t\t\toperator: core.isDef(opt_value) ? operatorOrValue : '='\n\t\t};\n\n\t\tvar value = core.isDef(opt_value) ? opt_value : operatorOrValue;\n\n\t\tif (core.isDefAndNotNull(value)) {\n\t\t\tif (value instanceof Embodied) {\n\t\t\t\tvalue = value.body();\n\t\t\t}\n\t\t\tobj.value = value;\n\t\t}\n\n\t\tif (core.isDefAndNotNull(field)) {\n\t\t\tthis.createBody_(field, obj);\n\t\t} else {\n\t\t\tthis.createBody_('and', []);\n\t\t}\n\n\t}\n\n\t/**\n\t * Composes the current filter with the given operator.\n\t * @param {string} operator\n\t * @param {Filter=} opt_filter Another filter to compose this filter with,\n\t *   if the operator is not unary.\n\t */\n\tadd(operator, opt_filter) {\n\t\tif (opt_filter) {\n\t\t\tthis.addArrayOperator_(operator, opt_filter);\n\t\t} else {\n\t\t\tthis.createBody_(operator, this.body_);\n\t\t}\n\t}\n\n\t/**\n\t * Composes the current filter with an operator that stores its values in an array.\n\t * @param {string} operator\n\t * @param {!Filter} filter\n\t * @protected\n\t */\n\taddArrayOperator_(operator, filter) {\n\t\tif (!(this.body_[operator] instanceof Array)) {\n\t\t\tthis.createBody_(operator, [this.body_]);\n\t\t}\n\t\tthis.body_[operator].push(filter.body());\n\t}\n\n\t/**\n\t * Adds filters to be composed with this filter body using the given operator.\n\t * @param {string} operator\n\t * @param {...*} filters A variable amount of filters to be composed.\n\t */\n\taddMany(operator, ...filters) {\n\t\tfor (var i = 0; i < filters.length; i++) {\n\t\t\tthis.add(operator, filters[i]);\n\t\t}\n\t}\n\n\t/**\n\t * Creates a new body object, setting the requestd key to the given value.\n\t * @param {string} key The key to set in the new body object\n\t * @param {*} value The value the requested key should have in the new body object.\n\t * @protected\n\t */\n\tcreateBody_(key, value) {\n\t\tthis.body_ = {};\n\t\tthis.body_[key] = value;\n\t}\n\n\t/**\n\t * Gets the json object that represents this filter's body.\n\t * @return {!Object}\n\t */\n\tgetObject() {\n\t\treturn this.body_;\n\t}\n}\n\nexport default FilterBody;\n","'use strict';\n\nimport Embodied from './Embodied';\n\n/**\n * Class responsible for building different types of geometric\n * shapes.\n */\nclass Geo {\n\t/**\n\t * Creates a new {@link BoundingBox} instance.\n\t * @param {*} upperLeft The upper left point.\n\t * @param {*} lowerRight The lower right point.\n\t * @return {!BoundingBox}\n\t * @static\n\t */\n\tstatic boundingBox(upperLeft, lowerRight) {\n\t\treturn new Geo.BoundingBox(upperLeft, lowerRight);\n\t}\n\n\t/**\n\t * Creates a new {@link Circle} instance.\n\t * @param {*} center The circle's center coordinate.\n\t * @param {string} radius The circle's radius.\n\t * @return {!Circle}\n\t * @static\n\t */\n\tstatic circle(center, radius) {\n\t\treturn new Geo.Circle(center, radius);\n\t}\n\n\t/**\n\t * Creates a new {@link Line} instance.\n\t * @param {...*} points This line's points.\n\t * @return {!Line}\n\t * @static\n\t */\n\tstatic line(...points) {\n\t\treturn new Geo.Line(...points);\n\t}\n\n\t/**\n\t * Creates a new {@link Point} instance.\n\t * @param {number} lat The latitude coordinate\n\t * @param {number} lon The longitude coordinate\n\t * @return {!Point}\n\t * @static\n\t */\n\tstatic point(lat, lon) {\n\t\treturn new Geo.Point(lat, lon);\n\t}\n\n\t/**\n\t * Creates a new {@link Polygon} instance.\n\t * @param {...*} points This polygon's points.\n\t * @return {!Polygon}\n\t * @static\n\t */\n\tstatic polygon(...points) {\n\t\treturn new Geo.Polygon(...points);\n\t}\n}\n\n/**\n * Class that represents a point coordinate.\n * @extends {Embodied}\n */\nclass Point extends Embodied {\n\t/**\n\t * Constructs a {@link Point} instance.\n\t * @param {number} lat The latitude coordinate\n\t * @param {number} lon The longitude coordinate\n\t * @constructor\n\t */\n\tconstructor(lat, lon) {\n\t\tsuper();\n\t\tthis.body_ = [lat, lon];\n\t}\n}\nGeo.Point = Point;\n\n/**\n * Class that represents a line.\n * @extends {Embodied}\n */\nclass Line extends Embodied {\n\t/**\n\t * Constructs a {@link Line} instance.\n\t * @param {...*} points This line's points.\n\t * @constructor\n\t */\n\tconstructor(...points) {\n\t\tsuper();\n\t\tthis.body_ = {\n\t\t\ttype: 'linestring',\n\t\t\tcoordinates: points.map(point => Embodied.toBody(point))\n\t\t};\n\t}\n}\nGeo.Line = Line;\n\n/**\n * Class that represents a bounding box.\n * @extends {Embodied}\n */\nclass BoundingBox extends Embodied {\n\t/**\n\t * Constructs a {@link BoundingBox} instance.\n\t * @param {*} upperLeft The upper left point.\n\t * @param {*} lowerRight The lower right point.\n\t * @constructor\n\t */\n\tconstructor(upperLeft, lowerRight) {\n\t\tsuper();\n\t\tthis.body_ = {\n\t\t\ttype: 'envelope',\n\t\t\tcoordinates: [Embodied.toBody(upperLeft), Embodied.toBody(lowerRight)]\n\t\t};\n\t}\n\n\t/**\n\t * Gets this bounding box's points.\n\t * @return {!Array}\n\t */\n\tgetPoints() {\n\t\treturn this.body_.coordinates;\n\t}\n}\nGeo.BoundingBox = BoundingBox;\n\n/**\n * Class that represents a circle.\n * @extends {Embodied}\n */\nclass Circle extends Embodied {\n\t/**\n\t * Constructs a {@link Circle} instance.\n\t * @param {*} center The circle's center coordinate.\n\t * @param {string} radius The circle's radius.\n\t * @constructor\n\t */\n\tconstructor(center, radius) {\n\t\tsuper();\n\t\tthis.body_ = {\n\t\t\ttype: 'circle',\n\t\t\tcoordinates: Embodied.toBody(center),\n\t\t\tradius: radius\n\t\t};\n\t}\n\n\t/**\n\t * Gets this circle's center coordinate.\n\t * @return {*}\n\t */\n\tgetCenter() {\n\t\treturn this.body_.coordinates;\n\t}\n\n\t/**\n\t * Gets this circle's radius.\n\t * @return {string}\n\t */\n\tgetRadius() {\n\t\treturn this.body_.radius;\n\t}\n}\nGeo.Circle = Circle;\n\n/**\n * Class that represents a polygon.\n * @extends {Embodied}\n */\nclass Polygon extends Embodied {\n\t/**\n\t * Constructs a {@link Polygon} instance.\n\t * @param {...*} points This polygon's points.\n\t * @constructor\n\t */\n\tconstructor(...points) {\n\t\tsuper();\n\t\tthis.body_ = {\n\t\t\ttype: 'polygon',\n\t\t\tcoordinates: []\n\t\t};\n\t\tthis.addCoordinates_(...points);\n\t}\n\n\t/**\n\t * Adds the given points as coordinates for this polygon.\n\t * @param {...*} points\n\t * @protected\n\t */\n\taddCoordinates_(...points) {\n\t\tthis.body_.coordinates.push(points.map(point => Embodied.toBody(point)));\n\t}\n\n\t/**\n\t * Adds the given points as a hole inside this polygon.\n\t * @param  {...*} points\n\t * @chainnable\n\t */\n\thole(...points) {\n\t\tthis.addCoordinates_(...points);\n\t\treturn this;\n\t}\n}\nGeo.Polygon = Polygon;\n\nexport default Geo;\n","'use strict';\n\nimport { core } from 'metal';\nimport Embodied from './Embodied';\n\n/**\n * Class responsible for building range objects to be used by `Filter`.\n * @extends {Embodied}\n */\nclass Range extends Embodied {\n\t/**\n\t * Constructs a {@link Range} instance.\n\t * @param {*} from\n\t * @param {*} opt_to\n\t * @constructor\n\t */\n\tconstructor(from, opt_to) {\n\t\tsuper();\n\t\tif (core.isDefAndNotNull(from)) {\n\t\t\tthis.body_.from = from;\n\t\t}\n\t\tif (core.isDefAndNotNull(opt_to)) {\n\t\t\tthis.body_.to = opt_to;\n\t\t}\n\t}\n\n\t/**\n\t * Constructs a {@link Range} instance.\n\t * @param {*} from\n\t * @return {!Range}\n\t * @static\n\t */\n\tstatic from(from) {\n\t\treturn new Range(from);\n\t}\n\n\t/**\n\t * Constructs a {@link Range} instance.\n\t * @param {*} from\n\t * @param {*} to\n\t * @return {!Range}\n\t * @static\n\t */\n\tstatic range(from, to) {\n\t\treturn new Range(from, to);\n\t}\n\n\t/**\n\t * Constructs a {@link Range} instance.\n\t * @param {*} to\n\t * @return {!Range}\n\t * @static\n\t */\n\tstatic to(to) {\n\t\treturn new Range(null, to);\n\t}\n}\n\nexport default Range;\n","'use strict';\n\nimport { core } from 'metal';\nimport Embodied from './Embodied';\nimport FilterBody from './FilterBody';\nimport Geo from './Geo';\nimport Range from './Range';\n\n/**\n * Class responsible for building filters.\n * @extends {Embodied}\n */\nclass Filter extends Embodied {\n\t/**\n\t * Constructs a {@link Filter} instance.\n\t * @param {string} field The name of the field to filter by.\n\t * @param {*} operatorOrValue If a third param is given, this should\n\t *   be the filter's operator (like \">=\"). Otherwise, this will be\n\t *   used as the filter's value, and the filter's operator will be \"=\".\n\t * @param {*=} opt_value The filter's value.\n\t * @constructor\n\t */\n\tconstructor(field, operatorOrValue, opt_value) {\n\t\tsuper();\n\t\tthis.body_ = new FilterBody(field, operatorOrValue, opt_value);\n\t}\n\n\t/**\n\t * Adds a filter to be composed with this filter using the given operator.\n\t * @param {string} operator\n\t * @param {!Filter|string} fieldOrFilter Either a {@link Filter} instance or the\n\t *   name of the field to filter by.\n\t * @param {*=} opt_operatorOrValue Either the field's operator or its value.\n\t * @param {*=} opt_value The filter's value.\n\t * @chainnable\n\t */\n\tadd(operator, fieldOrFilter, opt_operatorOrValue, opt_value) {\n\t\tvar filter = fieldOrFilter ? Filter.toFilter(fieldOrFilter, opt_operatorOrValue, opt_value) : null;\n\t\tthis.body_.add(operator, filter);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Adds filters to be composed with this filter using the given operator.\n\t * @param {string} operator\n\t * @param {...*} filters A variable amount of filters to be composed.\n\t * @chainnable\n\t */\n\taddMany(operator, ...filters) {\n\t\tthis.body_.addMany(operator, ...filters);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Adds a filter to be composed with this filter using the \"and\" operator.\n\t * @param {!Filter|string} fieldOrFilter Either a {@link Filter} instance or the\n\t *   name of the field to filter by.\n\t * @param {*=} opt_operatorOrValue Either the field's operator or its value.\n\t * @param {*=} opt_value The filter's value.\n\t * @chainnable\n\t */\n\tand(fieldOrFilter, opt_operatorOrValue, opt_value) {\n\t\treturn this.add('and', fieldOrFilter, opt_operatorOrValue, opt_value);\n\t}\n\n\t/**\n\t * Returns a {@link Filter} instance that uses the \"any\" operator.\n\t * @param {string} field The name of the field to filter by.\n\t * @param {!(Array|...*)} values A variable amount of values to be used with\n\t *   the \"none\" operator. Can be passed either as a single array or as\n\t *   separate params.\n\t * @return {!Filter}\n\t * @static\n\t */\n\tstatic any(field) {\n\t\tvar values = Array.prototype.slice.call(arguments, 1);\n\t\tif (values.length === 1 && values[0] instanceof Array) {\n\t\t\tvalues = values[0];\n\t\t}\n\t\treturn new Filter(field, 'any', values);\n\t}\n\n\t/**\n\t * Returns a {@link Filter} instance that uses the \"gp\" operator.\n\t * This is a special use case of `Filter.polygon` for bounding\n\t * boxes.\n\t * @param {string} field The field's name.\n\t * @param {*} boxOrUpperLeft Either a `Geo.BoundingBox` instance, or\n\t *   a bounding box's upper left coordinate.\n\t * @param {*=} opt_lowerRight A bounding box's lower right coordinate.\n\t * @return {!Filter}\n\t * @static\n\t */\n\tstatic boundingBox(field, boxOrUpperLeft, opt_lowerRight) {\n\t\tif (boxOrUpperLeft instanceof Geo.BoundingBox) {\n\t\t\treturn Filter.polygon(field, ...boxOrUpperLeft.getPoints());\n\t\t} else {\n\t\t\treturn Filter.polygon(field, boxOrUpperLeft, opt_lowerRight);\n\t\t}\n\t}\n\n\t/**\n\t * Gets the json object that represents this filter.\n\t * @return {!Object}\n\t */\n\tbody() {\n\t\treturn this.body_.getObject();\n\t}\n\n\t/**\n\t * Returns a {@link Filter} instance that uses the \"gd\" operator.\n\t * @param {string} field The field's name.\n\t * @param {*} locationOrCircle Either a `Geo.Circle` instance or a coordinate.\n\t * @param {Range|string=} opt_rangeOrDistance Either a `Range` instance or\n\t *   the distance value.\n\t * @return {!Filter}\n\t * @static\n\t */\n\tstatic distance(field, locationOrCircle, opt_rangeOrDistance) {\n\t\tvar location = locationOrCircle;\n\t\tvar range = opt_rangeOrDistance;\n\t\tif (locationOrCircle instanceof Geo.Circle) {\n\t\t\tlocation = locationOrCircle.getCenter();\n\t\t\trange = Range.to(locationOrCircle.getRadius());\n\t\t} else if (!(opt_rangeOrDistance instanceof Range)) {\n\t\t\trange = Range.to(opt_rangeOrDistance);\n\t\t}\n\t\treturn Filter.distanceInternal_(field, location, range);\n\t}\n\n\t/**\n\t * Returns a {@link Filter} instance that uses the \"gd\" operator. This\n\t * is just an internal helper used by `Filter.distance`.\n\t * @param {string} field The field's name.\n\t * @param {*} location A location coordinate.\n\t * @param {Range} range A `Range` instance.\n\t * @return {!Filter}\n\t * @protected\n\t * @static\n\t */\n\tstatic distanceInternal_(field, location, range) {\n\t\tvar value = {\n\t\t\tlocation: Embodied.toBody(location)\n\t\t};\n\t\trange = range.body();\n\t\tif (range.from) {\n\t\t\tvalue.min = range.from;\n\t\t}\n\t\tif (range.to) {\n\t\t\tvalue.max = range.to;\n\t\t}\n\t\treturn Filter.field(field, 'gd', value);\n\t}\n\n\t/**\n\t * Returns a {@link Filter} instance that uses the \"=\" operator.\n\t * @param {string} field The name of the field to filter by.\n\t * @param {*} value The filter's value.\n\t * @return {!Filter}\n   * @static\n\t */\n\tstatic equal(field, value) {\n\t\treturn new Filter(field, '=', value);\n\t}\n\n\t/**\n\t * Returns a {@link Filter} instance that uses the \"exists\" operator.\n\t * @param {string} field The field's name.\n\t * @return {!Filter}\n\t * @static\n\t */\n\tstatic exists(field) {\n\t\treturn Filter.field(field, 'exists', null);\n\t}\n\n\t/**\n\t * Returns a {@link Filter} instance that uses the \"fuzzy\" operator.\n\t * @param {string} fieldOrQuery If no second string argument is given, this\n\t *   should be the query string, in which case all fields will be matched.\n\t *   Otherwise, this should be the name of the field to match.\n\t * @param {string|number=} opt_queryOrFuzziness If this is a string, it should\n\t *   be the query, otherwise it should be the fuzziness value.\n\t * @param {number=} opt_fuzziness The fuzziness value.\n\t * @return {!Filter}\n\t * @static\n\t */\n\tstatic fuzzy(fieldOrQuery, opt_queryOrFuzziness, opt_fuzziness) {\n\t\treturn Filter.fuzzyInternal_('fuzzy', fieldOrQuery, opt_queryOrFuzziness, opt_fuzziness);\n\t}\n\n\t/**\n\t * Returns a {@link Filter} instance that uses the given fuzzy operator. This\n\t * is an internal implementation used by the `Filter.fuzzy` method.\n\t * @param {string} operator The fuzzy operator.\n\t * @param {string} fieldOrQuery If no second string argument is given, this\n\t *   should be the query string, in which case all fields will be matched.\n\t *   Otherwise, this should be the name of the field to match.\n\t * @param {string|number=} opt_queryOrFuzziness If this is a string, it should\n\t *   be the query, otherwise it should be the fuzziness value.\n\t * @param {number=} opt_fuzziness The fuzziness value.\n\t * @return {!Filter}\n\t * @protected\n\t * @static\n\t */\n\tstatic fuzzyInternal_(operator, fieldOrQuery, opt_queryOrFuzziness, opt_fuzziness) {\n\t\tvar arg2IsString = core.isString(opt_queryOrFuzziness);\n\n\t\tvar value = {\n\t\t\tquery: arg2IsString ? opt_queryOrFuzziness : fieldOrQuery\n\t\t};\n\t\tvar fuzziness = arg2IsString ? opt_fuzziness : opt_queryOrFuzziness;\n\t\tif (fuzziness) {\n\t\t\tvalue.fuzziness = fuzziness;\n\t\t}\n\n\t\tvar field = arg2IsString ? fieldOrQuery : Filter.ALL;\n\t\treturn Filter.field(field, operator, value);\n\t}\n\n\t/**\n\t * Returns a {@link Filter} instance that uses the \">\" operator.\n\t * @param {string} field The name of the field to filter by.\n\t * @param {*} value The filter's value.\n\t * @return {!Filter}\n   * @static\n\t */\n\tstatic gt(field, value) {\n\t\treturn new Filter(field, '>', value);\n\t}\n\n\t/**\n\t * Returns a {@link Filter} instance that uses the \">=\" operator.\n\t * @param {string} field The name of the field to filter by.\n\t * @param {*} value The filter's value.\n\t * @return {!Filter}\n   * @static\n\t */\n\tstatic gte(field, value) {\n\t\treturn new Filter(field, '>=', value);\n\t}\n\n\t/**\n\t * Returns a {@link Filter} instance that uses the \"match\" operator.\n\t * @param {string} fieldOrQuery If no second string argument is given, this\n\t *   should be the query string, in which case all fields will be matched.\n\t *   Otherwise, this should be the name of the field to match.\n\t * @param {string=} opt_query The query string.\n\t * @return {!Filter}\n\t * @static\n\t */\n\tstatic match(fieldOrQuery, opt_query) {\n\t\tvar field = core.isString(opt_query) ? fieldOrQuery : Filter.ALL;\n\t\tvar query = core.isString(opt_query) ? opt_query : fieldOrQuery;\n\t\treturn Filter.field(field, 'match', query);\n\t}\n\n\t/**\n\t * Returns a {@link Filter} instance that uses the \"missing\" operator.\n\t * @param {string} field The field's name.\n\t * @return {!Filter}\n\t * @static\n\t */\n\tstatic missing(field) {\n\t\treturn Filter.field(field, 'missing', null);\n\t}\n\n\t/**\n\t * Returns a {@link Filter} instance that uses the \"phrase\" operator.\n\t * @param {string} fieldOrQuery If no second string argument is given, this\n\t *   should be the query string, in which case all fields will be matched.\n\t *   Otherwise, this should be the name of the field to match.\n\t * @param {string=} opt_query The query string.\n\t * @return {!Filter}\n\t * @static\n\t */\n\tstatic phrase(fieldOrQuery, opt_query) {\n\t\tvar field = core.isString(opt_query) ? fieldOrQuery : Filter.ALL;\n\t\tvar query = core.isString(opt_query) ? opt_query : fieldOrQuery;\n\t\treturn Filter.field(field, 'phrase', query);\n\t}\n\n\t/**\n\t * Returns a {@link Filter} instance that uses the \"gp\" operator.\n\t * @param {string} field The name of the field.\n\t * @param {...!Object} points Objects representing points in the polygon.\n\t * @return {!Filter}\n\t * @static\n\t */\n\tstatic polygon(field, ...points) {\n\t\tpoints = points.map(point => Embodied.toBody(point));\n\t\treturn Filter.field(field, 'gp', points);\n\t}\n\n\t/**\n\t * Returns a {@link Filter} instance that uses the \"prefix\" operator.\n\t * @param {string} fieldOrQuery If no second argument is given, this should\n\t *   be the query string, in which case all fields will be matched. Otherwise,\n\t *   this should be the name of the field to match.\n\t * @param {string=} opt_query The query string.\n\t * @return {!Filter}\n\t * @static\n\t */\n\tstatic prefix(fieldOrQuery, opt_query) {\n\t\tvar field = opt_query ? fieldOrQuery : Filter.ALL;\n\t\tvar query = opt_query ? opt_query : fieldOrQuery;\n\t\treturn Filter.field(field, 'prefix', query);\n\t}\n\n\t/**\n\t * Returns a {@link Filter} instance that uses the \"range\" operator.\n\t * @param {string} field The field's name.\n\t * @param {*} rangeOrMin Either a `Range` instance or a the range's min value.\n\t * @param {*=} opt_max The range's max value.\n\t * @return {!Filter}\n\t * @static\n\t */\n\tstatic range(field, rangeOrMin, opt_max) {\n\t\tvar range = rangeOrMin;\n\t\tif (!(range instanceof Range)) {\n\t\t\trange = Range.range(rangeOrMin, opt_max);\n\t\t}\n\t\treturn Filter.field(field, 'range', range);\n\t}\n\n\t/**\n\t * Returns a {@link Filter} instance that uses the \"~\" operator.\n\t * @param {string} field The name of the field to filter by.\n\t * @param {*} value The filter's value.\n\t * @return {!Filter}\n   * @static\n\t */\n\tstatic regex(field, value) {\n\t\treturn new Filter(field, '~', value);\n\t}\n\n\t/**\n\t * Returns a {@link Filter} instance that uses the \"gs\" operator.\n\t * @param {string} field The field's name.\n\t * @param {...!Object} shapes Objects representing shapes.\n\t * @return {!Filter}\n\t * @static\n\t */\n\tstatic shape(field, ...shapes) {\n\t\tshapes = shapes.map(shape => Embodied.toBody(shape));\n\t\tvar value = {\n\t\t\ttype: 'geometrycollection',\n\t\t\tgeometries: shapes\n\t\t};\n\t\treturn Filter.field(field, 'gs', value);\n\t}\n\n\t/**\n\t * Returns a {@link Filter} instance that uses the \"similar\" operator.\n\t * @param {string} fieldOrQuery If no second string argument is given, this\n\t *   should be the query string, in which case all fields will be matched.\n\t *   Otherwise, this should be the name of the field to match.\n\t * @param {?string} query The query string.\n\t * @return {!Filter}\n\t * @static\n\t */\n\tstatic similar(fieldOrQuery, query) {\n\t\tvar field = core.isString(query) ? fieldOrQuery : Filter.ALL;\n\t\tvar value = {\n\t\t\tquery: core.isString(query) ? query : fieldOrQuery\n\t\t};\n\t\treturn Filter.field(field, 'similar', value);\n\t}\n\n\t/**\n\t * Returns a {@link Filter} instance that uses the \"<\" operator.\n\t * @param {string} field The name of the field to filter by.\n\t * @param {*} value The filter's value.\n\t * @return {!Filter}\n   * @static\n\t */\n\tstatic lt(field, value) {\n\t\treturn new Filter(field, '<', value);\n\t}\n\n\t/**\n\t * Returns a {@link Filter} instance that uses the \"<=\" operator.\n\t * @param {string} field The name of the field to filter by.\n\t * @param {*} value The filter's value.\n\t * @return {!Filter}\n   * @static\n\t */\n\tstatic lte(field, value) {\n\t\treturn new Filter(field, '<=', value);\n\t}\n\n\t/**\n\t * Returns a {@link Filter} instance that uses the \"none\" operator.\n\t * @param {string} field The name of the field to filter by.\n\t * @param {!(Array|...*)} value A variable amount of values to be used with\n\t * the \"none\" operator. Can be passed either as a single array or as\n\t * separate params.\n\t * @return {!Filter}\n\t * @static\n\t */\n\tstatic none(field) {\n\t\tvar values = Array.prototype.slice.call(arguments, 1);\n\t\tif (values.length === 1 && values[0] instanceof Array) {\n\t\t\tvalues = values[0];\n\t\t}\n\t\treturn new Filter(field, 'none', values);\n\t}\n\n\t/**\n\t * Returns a {@link Filter} instance that uses the \"!=\" operator.\n\t * @param {string} field The name of the field to filter by.\n\t * @param {*} value The filter's value.\n\t * @return {!Filter}\n\t * @static\n\t */\n\tstatic notEqual(field, value) {\n\t\treturn new Filter(field, '!=', value);\n\t}\n\n\t/**\n\t * Returns a {@link Filter} instance that uses the \"not\" operator.\n\t * @param {!Filter|string} fieldOrFilter Either a {@link Filter} instance or\n\t * the name of the field to filter by.\n\t * @param {*=} opt_operatorOrValue Either the field's operator or its value.\n\t * @param {*=} opt_value The filter's value.\n\t * @return {!Filter}\n\t * @static\n\t */\n\tstatic not(fieldOrFilter, opt_operatorOrValue, opt_value) {\n\t\treturn Filter.toFilter(fieldOrFilter, opt_operatorOrValue, opt_value).add('not');\n\t}\n\n\t/**\n\t * Returns a {@link Filter} instance.\n\t * @param {string} field The name of the field to filter by.\n\t * @param {*} operatorOrValue If a third param is given, this should be the\n\t * filter's operator (like \">=\"). Otherwise, this will be used as the\n\t * filter's value, and the filter's operator will be \"=\".\n\t * @param {*=} opt_value The filter's value.\n\t * @return {!Filter}\n\t * @static\n\t */\n\tstatic field(field, operatorOrValue, opt_value) {\n\t\treturn new Filter(field, operatorOrValue, opt_value);\n\t}\n\n\t/**\n\t * Adds a filter to be composed with this filter using the \"or\" operator.\n\t * @param {!Filter|string} fieldOrFilter Either a {@link Filter} instance or\n\t * the name of the field to filter by.\n\t * @param {*=} opt_operatorOrValue Either the field's operator or its value.\n\t * @param {*=} opt_value The filter's value.\n\t * @chainnable\n\t */\n\tor(fieldOrFilter, opt_operatorOrValue, opt_value) {\n\t\treturn this.add('or', fieldOrFilter, opt_operatorOrValue, opt_value);\n\t}\n\n\t/**\n\t * Converts the given arguments into a {@link Filter} instance.\n\t * @param {!Filter|string} fieldOrFilter Either a {@link Filter} instance or\n\t * the name of the field to filter by.\n\t * @param {*=} opt_operatorOrValue Either the field's operator or its value.\n\t * @param {*=} opt_value The filter's value.\n\t * @return {!Filter}\n\t */\n\tstatic toFilter(fieldOrFilter, opt_operatorOrValue, opt_value) {\n\t\tvar filter = fieldOrFilter;\n\t\tif (!(filter instanceof Filter)) {\n\t\t\tfilter = Filter.field(fieldOrFilter, opt_operatorOrValue, opt_value);\n\t\t}\n\t\treturn filter;\n\t}\n}\n\n/**\n * String constant that represents all fields.\n * @type {string}\n * @static\n */\nFilter.ALL = '*';\n\nexport default Filter;\n","'use strict';\n\n/**\n * Parses the given uri string into an object.\n * @param {*=} opt_uri Optional string URI to parse\n */\nfunction parseFromAnchor(opt_uri) {\n\tvar link = document.createElement('a');\n\tlink.href = opt_uri;\n\treturn {\n\t\thash: link.hash,\n\t\thostname: link.hostname,\n\t\tpassword: link.password,\n\t\tpathname: link.pathname[0] === '/' ? link.pathname : '/' + link.pathname,\n\t\tport: link.port,\n\t\tprotocol: link.protocol,\n\t\tsearch: link.search,\n\t\tusername: link.username\n\t};\n}\n\nexport default parseFromAnchor;\n","'use strict';\n\nimport { isFunction } from 'metal';\nimport parseFromAnchor from './parseFromAnchor';\n\n/**\n * Parses the given uri string into an object. The URL function will be used\n * when present, otherwise we'll fall back to the anchor node element.\n * @param {*=} opt_uri Optional string URI to parse\n */\nfunction parse(opt_uri) {\n\tif (isFunction(URL) && URL.length) {\n\t\treturn new URL(opt_uri);\n\t} else {\n\t\treturn parseFromAnchor(opt_uri);\n\t}\n}\n\nexport default parse;\n","'use strict';\n\nimport { Disposable } from 'metal';\n\n/**\n * A cached reference to the create function.\n */\nvar create = Object.create;\n\n/**\n * Case insensitive string Multimap implementation. Allows multiple values for\n * the same key name.\n * @extends {Disposable}\n */\nclass MultiMap extends Disposable {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.keys = create(null);\n\t\tthis.values = create(null);\n\t}\n\n\t/**\n\t * Adds value to a key name.\n\t * @param {string} name\n\t * @param {*} value\n\t * @chainable\n\t */\n\tadd(name, value) {\n\t\tthis.keys[name.toLowerCase()] = name;\n\t\tthis.values[name.toLowerCase()] = this.values[name.toLowerCase()] || [];\n\t\tthis.values[name.toLowerCase()].push(value);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Clears map names and values.\n\t * @chainable\n\t */\n\tclear() {\n\t\tthis.keys = create(null);\n\t\tthis.values = create(null);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Checks if map contains a value to the key name.\n\t * @param {string} name\n\t * @return {boolean}\n\t * @chainable\n\t */\n\tcontains(name) {\n\t\treturn name.toLowerCase() in this.values;\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tdisposeInternal() {\n\t\tthis.values = null;\n\t}\n\n\t/**\n\t * Creates a `MultiMap` instance from the given object.\n\t * @param {!Object} obj\n\t * @return {!MultiMap}\n\t */\n\tstatic fromObject(obj) {\n\t\tvar map = new MultiMap();\n\t\tvar keys = Object.keys(obj);\n\t\tfor (var i = 0; i < keys.length; i++) {\n\t\t\tmap.set(keys[i], obj[keys[i]]);\n\t\t}\n\t\treturn map;\n\t}\n\n\t/**\n\t * Gets the first added value from a key name.\n\t * @param {string} name\n\t * @return {*}\n\t * @chainable\n\t */\n\tget(name) {\n\t\tvar values = this.values[name.toLowerCase()];\n\t\tif (values) {\n\t\t\treturn values[0];\n\t\t}\n\t}\n\n\t/**\n\t * Gets all values from a key name.\n\t * @param {string} name\n\t * @return {Array.<*>}\n\t */\n\tgetAll(name) {\n\t\treturn this.values[name.toLowerCase()];\n\t}\n\n\t/**\n\t * Returns true if the map is empty, false otherwise.\n\t * @return {boolean}\n\t */\n\tisEmpty() {\n\t\treturn this.size() === 0;\n\t}\n\n\t/**\n\t * Gets array of key names.\n\t * @return {Array.<string>}\n\t */\n\tnames() {\n\t\treturn Object.keys(this.values).map((key) => this.keys[key]);\n\t}\n\n\t/**\n\t * Removes all values from a key name.\n\t * @param {string} name\n\t * @chainable\n\t */\n\tremove(name) {\n\t\tdelete this.keys[name.toLowerCase()];\n\t\tdelete this.values[name.toLowerCase()];\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the value of a key name. Relevant to replace the current values with\n\t * a new one.\n\t * @param {string} name\n\t * @param {*} value\n\t * @chainable\n\t */\n\tset(name, value) {\n\t\tthis.keys[name.toLowerCase()] = name;\n\t\tthis.values[name.toLowerCase()] = [value];\n\t\treturn this;\n\t}\n\n\t/**\n\t * Gets the size of the map key names.\n\t * @return {number}\n\t */\n\tsize() {\n\t\treturn this.names().length;\n\t}\n\n\t/**\n\t * Returns the parsed values as a string.\n\t * @return {string}\n\t */\n\ttoString() {\n\t\treturn JSON.stringify(this.values);\n\t}\n}\n\nexport default MultiMap;\n","'use strict';\n\nimport { array } from 'metal';\n\n/**\n * Generic tree node data structure with arbitrary number of child nodes.\n * @param {V} value Value.\n * @constructor\n */\nclass TreeNode {\n\n\tconstructor(value) {\n\t\t/**\n\t\t * The value.\n\t\t * @private {V}\n\t\t */\n\t\tthis.value_ = value;\n\n\t\t/**\n\t\t * Reference to the parent node or null if it has no parent.\n\t\t * @private {TreeNode}\n\t\t */\n\t\tthis.parent_ = null;\n\n\t\t/**\n\t\t * Child nodes or null in case of leaf node.\n\t\t * @private {Array<!TreeNode>}\n\t\t */\n\t\tthis.children_ = null;\n\t}\n\n\t/**\n\t * Appends a child node to this node.\n\t * @param {!TreeNode} child Orphan child node.\n\t */\n\taddChild(child) {\n\t\tassertChildHasNoParent(child);\n\t\tchild.setParent(this);\n\t\tthis.children_ = this.children_ || [];\n\t\tthis.children_.push(child);\n\t}\n\n\t/**\n\t * Tells whether this node is the ancestor of the given node.\n\t * @param {!TreeNode} node A node.\n\t * @return {boolean} Whether this node is the ancestor of {@code node}.\n\t */\n\tcontains(node) {\n\t\tlet current = node.getParent();\n\t\twhile (current) {\n\t\t\tif (current === this) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tcurrent = current.getParent();\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t * @return {!Array<TreeNode>} All ancestor nodes in bottom-up order.\n\t */\n\tgetAncestors() {\n\t\tlet ancestors = [];\n\t\tlet node = this.getParent();\n\t\twhile (node) {\n\t\t\tancestors.push(node);\n\t\t\tnode = node.getParent();\n\t\t}\n\t\treturn ancestors;\n\t}\n\n\t/**\n\t * Gets the child node of this node at the given index.\n\t * @param {number} index Child index.\n\t * @return {?TreeNode} The node at the given index\n\t * or null if not found.\n\t */\n\tgetChildAt(index) {\n\t\treturn this.getChildren()[index] || null;\n\t}\n\n\t/**\n\t * @return {?Array<!TreeNode>} Child nodes or null in case of leaf node.\n\t */\n\tgetChildren() {\n\t\treturn this.children_ || TreeNode.EMPTY_ARRAY;\n\t}\n\n\t/**\n\t * @return {number} The number of children.\n\t */\n\tgetChildCount() {\n\t\treturn this.getChildren().length;\n\t}\n\n\t/**\n\t * @return {number} The number of ancestors of the node.\n\t */\n\tgetDepth() {\n\t\tlet depth = 0;\n\t\tlet node = this;\n\t\twhile (node.getParent()) {\n\t\t\tdepth++;\n\t\t\tnode = node.getParent();\n\t\t}\n\t\treturn depth;\n\t}\n\n\t/**\n\t * @return {?TreeNode} Parent node or null if it has no parent.\n\t */\n\tgetParent() {\n\t\treturn this.parent_;\n\t}\n\n\t/**\n\t * @return {!TreeNode} The root of the tree structure, i.e. the farthest\n\t * ancestor of the node or the node itself if it has no parents.\n\t */\n\tgetRoot() {\n\t\tlet root = this;\n\t\twhile (root.getParent()) {\n\t\t\troot = root.getParent();\n\t\t}\n\t\treturn root;\n\t}\n\n\t/**\n\t * Gets the value.\n\t * @return {V} The value.\n\t */\n\tgetValue() {\n\t\treturn this.value_;\n\t}\n\n\t/**\n\t * @return {boolean} Whether the node is a leaf node.\n\t */\n\tisLeaf() {\n\t\treturn !this.getChildCount();\n\t}\n\n\t/**\n\t * Removes the given child node of this node.\n\t * @param {TreeNode} child The node to remove.\n\t * @return {TreeNode} The removed node if any, null otherwise.\n\t */\n\tremoveChild(child) {\n\t\tif (array.remove(this.getChildren(), child)) {\n\t\t\treturn child;\n\t\t}\n\t\treturn null;\n\t}\n\n\t/**\n\t * Sets the parent node of this node. The callers must ensure that the\n\t * parent node and only that has this node among its children.\n\t * @param {TreeNode} parent The parent to set. If null, the node will be\n\t * detached from the tree.\n\t * @protected\n\t */\n\tsetParent(parent) {\n\t\tthis.parent_ = parent;\n\t}\n\n\t/**\n\t * Traverses the subtree. The first callback starts with this node,\n\t * and visits the descendant nodes depth-first, in preorder.\n\t * The second callback, starts with deepest child then visits\n\t * the ancestor nodes depth-first, in postorder. E.g.\n\t *\n\t *  \t A\n\t *    / \\\n\t *   B   C\n\t *  /   / \\\n\t * D   E   F\n\t *\n\t * preorder -> ['A', 'B', 'D', 'C', 'E', 'F']\n\t * postorder -> ['D', 'B', 'E', 'F', 'C', 'A']\n\t *\n\t * @param {function=} opt_preorderFn The callback to execute when visiting a node.\n\t * @param {function=} opt_postorderFn The callback to execute before leaving a node.\n\t */\n\ttraverse(opt_preorderFn, opt_postorderFn) {\n\t\tif (opt_preorderFn) {\n\t\t\topt_preorderFn(this);\n\t\t}\n\t\tthis.getChildren().forEach((child) => child.traverse(opt_preorderFn, opt_postorderFn));\n\t\tif (opt_postorderFn) {\n\t\t\topt_postorderFn(this);\n\t\t}\n\t}\n\n}\n\n/**\n * Constant for empty array to avoid unnecessary allocations.\n * @private\n */\nTreeNode.EMPTY_ARRAY = [];\n\n/**\n * Asserts that child has no parent.\n * @param {TreeNode} child A child.\n * @private\n */\nconst assertChildHasNoParent = function(child) {\n\tif (child.getParent()) {\n\t\tthrow new Error('Cannot add child with parent.');\n\t}\n};\n\nexport default TreeNode;\n","'use strict';\n\nimport { isDef, string } from 'metal';\nimport parse from './parse';\nimport { MultiMap } from 'metal-structs';\n\nvar parseFn_ = parse;\n\nclass Uri {\n\n\t/**\n\t * This class contains setters and getters for the parts of the URI.\n\t * The following figure displays an example URIs and their component parts.\n\t *\n\t *                                  path\n\t *\t                             â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”\n\t *\t  abc://example.com:123/path/data?key=value#fragid1\n\t *\t  â””â”¬â”˜   â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜ â””â”¬â”˜           â””â”€â”€â”€â”¬â”€â”€â”€â”˜ â””â”€â”€â”¬â”€â”€â”˜\n\t * protocol  hostname  port            search    hash\n\t *          â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜\n\t *                host\n\t *\n\t * @param {*=} opt_uri Optional string URI to parse\n\t * @constructor\n\t */\n\tconstructor(opt_uri = '') {\n\t\tthis.url = Uri.parse(this.maybeAddProtocolAndHostname_(opt_uri));\n\t}\n\n\t/**\n\t * Adds parameters to uri from a <code>MultiMap</code> as source.\n\t * @param {MultiMap} multimap The <code>MultiMap</code> containing the\n\t *   parameters.\n\t * @protected\n\t * @chainable\n\t */\n\taddParametersFromMultiMap(multimap) {\n\t\tmultimap.names().forEach((name) => {\n\t\t\tmultimap.getAll(name).forEach((value) => {\n\t\t\t\tthis.addParameterValue(name, value);\n\t\t\t});\n\t\t});\n\t\treturn this;\n\t}\n\n\t/**\n\t * Adds the value of the named query parameters.\n\t * @param {string} key The parameter to set.\n\t * @param {*} value The new value. Will be explicitly casted to String.\n\t * @chainable\n\t */\n\taddParameterValue(name, value) {\n\t\tthis.ensureQueryInitialized_();\n\t\tif (isDef(value)) {\n\t\t\tvalue = String(value);\n\t\t}\n\t\tthis.query.add(name, value);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Adds the values of the named query parameter.\n\t * @param {string} key The parameter to set.\n\t * @param {*} value The new value.\n\t * @chainable\n\t */\n\taddParameterValues(name, values) {\n\t\tvalues.forEach((value) => this.addParameterValue(name, value));\n\t\treturn this;\n\t}\n\n\t/**\n\t * Ensures query internal map is initialized and synced with initial value\n\t * extracted from URI search part.\n\t * @protected\n\t */\n\tensureQueryInitialized_() {\n\t\tif (this.query) {\n\t\t\treturn;\n\t\t}\n\t\tthis.query = new MultiMap();\n\t\tvar search = this.url.search;\n\t\tif (search) {\n\t\t\tsearch.substring(1).split('&').forEach((param) => {\n\t\t\t\tvar [key, value] = param.split('=');\n\t\t\t\tif (isDef(value)) {\n\t\t\t\t\tvalue = Uri.urlDecode(value);\n\t\t\t\t}\n\t\t\t\tthis.addParameterValue(key, value);\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Gets the hash part of uri.\n\t * @return {string}\n\t */\n\tgetHash() {\n\t\treturn this.url.hash || '';\n\t}\n\n\t/**\n\t * Gets the host part of uri. E.g. <code>[hostname]:[port]</code>.\n\t * @return {string}\n\t */\n\tgetHost() {\n\t\tvar host = this.getHostname();\n\t\tif (host) {\n\t\t\tvar port = this.getPort();\n\t\t\tif (port && port !== '80') {\n\t\t\t\thost += ':' + port;\n\t\t\t}\n\t\t}\n\t\treturn host;\n\t}\n\n\t/**\n\t * Gets the hostname part of uri without protocol and port.\n\t * @return {string}\n\t */\n\tgetHostname() {\n\t\tvar hostname = this.url.hostname;\n\t\tif (hostname === Uri.HOSTNAME_PLACEHOLDER) {\n\t\t\treturn '';\n\t\t}\n\t\treturn hostname;\n\t}\n\n\t/**\n\t * Gets the origin part of uri. E.g. <code>http://[hostname]:[port]</code>.\n\t * @return {string}\n\t */\n\tgetOrigin() {\n\t\tvar host = this.getHost();\n\t\tif (host) {\n\t\t\treturn this.getProtocol() + '//' + host;\n\t\t}\n\t\treturn '';\n\t}\n\n\t/**\n\t * Returns the first value for a given parameter or undefined if the given\n\t * parameter name does not appear in the query string.\n\t * @param {string} paramName Unescaped parameter name.\n\t * @return {string|undefined} The first value for a given parameter or\n\t *   undefined if the given parameter name does not appear in the query\n\t *   string.\n\t */\n\tgetParameterValue(name) {\n\t\tthis.ensureQueryInitialized_();\n\t\treturn this.query.get(name);\n\t}\n\n\t/**\n\t * Returns the value<b>s</b> for a given parameter as a list of decoded\n\t * query parameter values.\n\t * @param {string} name The parameter to get values for.\n\t * @return {!Array<?>} The values for a given parameter as a list of decoded\n\t *   query parameter values.\n\t */\n\tgetParameterValues(name) {\n\t\tthis.ensureQueryInitialized_();\n\t\treturn this.query.getAll(name);\n\t}\n\n\t/**\n\t * Returns the name<b>s</b> of the parameters.\n\t * @return {!Array<string>} The names for the parameters as a list of\n\t *   strings.\n\t */\n\tgetParameterNames() {\n\t\tthis.ensureQueryInitialized_();\n\t\treturn this.query.names();\n\t}\n\n\t/**\n\t * Gets the function currently being used to parse URIs.\n\t * @return {!function()}\n\t */\n\tstatic getParseFn() {\n\t\treturn parseFn_;\n\t}\n\n\t/**\n\t * Gets the pathname part of uri.\n\t * @return {string}\n\t */\n\tgetPathname() {\n\t\treturn this.url.pathname;\n\t}\n\n\t/**\n\t * Gets the port number part of uri as string.\n\t * @return {string}\n\t */\n\tgetPort() {\n\t\treturn this.url.port;\n\t}\n\n\t/**\n\t * Gets the protocol part of uri. E.g. <code>http:</code>.\n\t * @return {string}\n\t */\n\tgetProtocol() {\n\t\treturn this.url.protocol;\n\t}\n\n\t/**\n\t * Gets the search part of uri. Search value is retrieved from query\n\t * parameters.\n\t * @return {string}\n\t */\n\tgetSearch() {\n\t\tvar search = '';\n\t\tvar querystring = '';\n\t\tthis.getParameterNames().forEach((name) => {\n\t\t\tthis.getParameterValues(name).forEach((value) => {\n\t\t\t\tquerystring += name;\n\t\t\t\tif (isDef(value)) {\n\t\t\t\t\tquerystring += '=' + encodeURIComponent(value);\n\t\t\t\t}\n\t\t\t\tquerystring += '&';\n\t\t\t});\n\t\t});\n\t\tquerystring = querystring.slice(0, -1);\n\t\tif (querystring) {\n\t\t\tsearch += '?' + querystring;\n\t\t}\n\t\treturn search;\n\t}\n\n\t/**\n\t * Checks if uri contains the parameter.\n\t * @param {string} name\n\t * @return {boolean}\n\t */\n\thasParameter(name) {\n\t\tthis.ensureQueryInitialized_();\n\t\treturn this.query.contains(name);\n\t}\n\n\t/**\n\t * Makes this URL unique by adding a random param to it. Useful for avoiding\n\t * cache.\n\t */\n\tmakeUnique() {\n\t\tthis.setParameterValue(Uri.RANDOM_PARAM, string.getRandomString());\n\t\treturn this;\n\t}\n\n\t/**\n\t * Maybe adds protocol and a hostname placeholder on a parial URI if needed.\n\t * Relevent for compatibility with <code>URL</code> native object.\n\t * @param {string=} opt_uri\n\t * @return {string} URI with protocol and hostname placeholder.\n\t */\n\tmaybeAddProtocolAndHostname_(opt_uri) {\n\t\tvar url = opt_uri;\n\t\tif (opt_uri.indexOf('://') === -1 &&\n\t\t\topt_uri.indexOf('javascript:') !== 0) { // jshint ignore:line\n\n\t\t\turl = Uri.DEFAULT_PROTOCOL;\n\t\t\tif (opt_uri[0] !== '/' || opt_uri[1] !== '/') {\n\t\t\t\turl += '//';\n\t\t\t}\n\n\t\t\tswitch (opt_uri.charAt(0)) {\n\t\t\t\tcase '.':\n\t\t\t\tcase '?':\n\t\t\t\tcase '#':\n\t\t\t\t\turl += Uri.HOSTNAME_PLACEHOLDER;\n\t\t\t\t\turl += '/';\n\t\t\t\t\turl += opt_uri;\n\t\t\t\t\tbreak;\n\t\t\t\tcase '':\n\t\t\t\tcase '/':\n\t\t\t\t\tif (opt_uri[1] !== '/') {\n\t\t\t\t\t\turl += Uri.HOSTNAME_PLACEHOLDER;\n\t\t\t\t\t}\n\t\t\t\t\turl += opt_uri;\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\turl += opt_uri;\n\t\t\t}\n\t\t}\n\t\treturn url;\n\t}\n\n\t/**\n\t * Normalizes the parsed object to be in the expected standard.\n\t * @param {!Object}\n\t */\n\tstatic normalizeObject(parsed) {\n\t\tvar length = parsed.pathname ? parsed.pathname.length : 0;\n\t\tif (length > 1 && parsed.pathname[length - 1] === '/') {\n\t\t\tparsed.pathname = parsed.pathname.substr(0, length - 1);\n\t\t}\n\t\treturn parsed;\n\t}\n\n\t/**\n\t * Parses the given uri string into an object.\n\t * @param {*=} opt_uri Optional string URI to parse\n\t */\n\tstatic parse(opt_uri) {\n\t\treturn Uri.normalizeObject(parseFn_(opt_uri));\n\t}\n\n\t/**\n\t * Removes the named query parameter.\n\t * @param {string} name The parameter to remove.\n\t * @chainable\n\t */\n\tremoveParameter(name) {\n\t\tthis.ensureQueryInitialized_();\n\t\tthis.query.remove(name);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Removes uniqueness parameter of the uri.\n\t * @chainable\n\t */\n\tremoveUnique() {\n\t\tthis.removeParameter(Uri.RANDOM_PARAM);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the hash.\n\t * @param {string} hash\n\t * @chainable\n\t */\n\tsetHash(hash) {\n\t\tthis.url.hash = hash;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the hostname.\n\t * @param {string} hostname\n\t * @chainable\n\t */\n\tsetHostname(hostname) {\n\t\tthis.url.hostname = hostname;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the value of the named query parameters, clearing previous values\n\t * for that key.\n\t * @param {string} key The parameter to set.\n\t * @param {*} value The new value.\n\t * @chainable\n\t */\n\tsetParameterValue(name, value) {\n\t\tthis.removeParameter(name);\n\t\tthis.addParameterValue(name, value);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the values of the named query parameters, clearing previous values\n\t * for that key.\n\t * @param {string} key The parameter to set.\n\t * @param {*} value The new value.\n\t * @chainable\n\t */\n\tsetParameterValues(name, values) {\n\t\tthis.removeParameter(name);\n\t\tvalues.forEach((value) => this.addParameterValue(name, value));\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the pathname.\n\t * @param {string} pathname\n\t * @chainable\n\t */\n\tsetPathname(pathname) {\n\t\tthis.url.pathname = pathname;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the port number.\n\t * @param {*} port Port number.\n\t * @chainable\n\t */\n\tsetPort(port) {\n\t\tthis.url.port = port;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the function that will be used for parsing the original string uri\n\t * into an object.\n\t * @param {!function()} parseFn\n\t */\n\tstatic setParseFn(parseFn) {\n\t\tparseFn_ = parseFn;\n\t}\n\n\t/**\n\t * Sets the protocol. If missing <code>http:</code> is used as default.\n\t * @param {string} protocol\n\t * @chainable\n\t */\n\tsetProtocol(protocol) {\n\t\tthis.url.protocol = protocol;\n\t\tif (this.url.protocol[this.url.protocol.length - 1] !== ':') {\n\t\t\tthis.url.protocol += ':';\n\t\t}\n\t\treturn this;\n\t}\n\n\t/**\n\t * @return {string} The string form of the url.\n\t * @override\n\t */\n\ttoString() {\n\t\tvar href = '';\n\t\tvar host = this.getHost();\n\t\tif (host) {\n\t\t\thref += this.getProtocol() + '//';\n\t\t}\n\t\thref += host + this.getPathname() + this.getSearch() + this.getHash();\n\t\treturn href;\n\t}\n\n\t/**\n\t * Joins the given paths.\n\t * @param {string} basePath\n\t * @param {...string} ...paths Any number of paths to be joined with the base url.\n\t * @static\n\t */\n\tstatic joinPaths(basePath, ...paths) {\n\t\tif (basePath.charAt(basePath.length - 1) === '/') {\n\t\t\tbasePath = basePath.substring(0, basePath.length - 1);\n\t\t}\n\t\tpaths = paths.map(path => path.charAt(0) === '/' ? path.substring(1) : path);\n\t\treturn [basePath].concat(paths).join('/').replace(/\\/$/, '');\n\t}\n\n\t/**\n\t * URL-decodes the string. We need to specially handle '+'s because\n\t * the javascript library doesn't convert them to spaces.\n\t * @param {string} str The string to url decode.\n\t * @return {string} The decoded {@code str}.\n\t */\n\tstatic urlDecode(str) {\n\t\treturn decodeURIComponent(str.replace(/\\+/g, ' '));\n\t}\n\n}\n\n/**\n * Default protocol value.\n * @type {string}\n * @default http:\n * @static\n */\nUri.DEFAULT_PROTOCOL = 'http:';\n\n/**\n * Hostname placeholder. Relevant to internal usage only.\n * @type {string}\n * @static\n */\nUri.HOSTNAME_PLACEHOLDER = 'hostname' + Date.now();\n\n/**\n * Name used by the param generated by `makeUnique`.\n * @type {string}\n * @static\n */\nUri.RANDOM_PARAM = 'zx';\n\nexport default Uri;\n","'use strict';\n\nimport { core } from 'metal';\nimport globals from '../globals/globals';\nimport Uri from 'metal-uri';\n\nfunction assertBrowserEnvironment() {\n\tif (!globals.window) {\n\t\tthrow new Error('Sign-in type not supported in this environment');\n\t}\n}\n\nfunction assertDefAndNotNull(value, errorMessage) {\n\tif (!core.isDefAndNotNull(value)) {\n\t\tthrow new Error(errorMessage);\n\t}\n}\n\nfunction assertNotNull(value, errorMessage) {\n\tif (core.isNull(value)) {\n\t\tthrow new Error(errorMessage);\n\t}\n}\n\nfunction assertFunction(value, errorMessage) {\n\tif (!core.isFunction(value)) {\n\t\tthrow new Error(errorMessage);\n\t}\n}\n\nfunction assertObject(value, errorMessage) {\n\tif (!core.isObject(value)) {\n\t\tthrow new Error(errorMessage);\n\t}\n}\n\nfunction assertResponseSucceeded(response) {\n\tif (!response.succeeded()) {\n\t\tthrow response.body();\n\t}\n\treturn response;\n}\n\nfunction assertUserSignedIn(user) {\n\tif (!core.isDefAndNotNull(user)) {\n\t\tthrow new Error('You must be signed-in to perform this operation');\n\t}\n}\n\nfunction assertUriWithNoPath(url, message) {\n\tvar uri = new Uri(url);\n\tif (uri.getPathname().length > 1) {\n\t\tthrow new Error(message);\n\t}\n}\n\nexport { assertBrowserEnvironment, assertDefAndNotNull, assertNotNull, assertFunction, assertObject, assertResponseSucceeded, assertUserSignedIn, assertUriWithNoPath };\n","'use strict';\n\nimport { core } from 'metal';\n\nimport { assertDefAndNotNull, assertObject, assertResponseSucceeded } from '../assertions';\n\n/**\n * Class responsible for storing authorization information.\n */\nclass Auth {\n\t/**\n\t * Constructs an {@link Auth} instance.\n\t * @param {string} tokenOrEmail Either the authorization token, or\n\t *   the username.\n\t * @param {string=} opt_password If a username is given as the first param,\n\t *   this should be the password.\n\t * @constructor\n\t */\n\tconstructor(tokenOrEmail, opt_password = null) {\n\t\tthis.token = core.isString(opt_password) ? null : tokenOrEmail;\n\t\tthis.email = core.isString(opt_password) ? tokenOrEmail : null;\n\t\tthis.password = opt_password;\n\n\t\tthis.createdAt = null;\n\t\tthis.id = null;\n\t\tthis.name = null;\n\t\tthis.photoUrl = null;\n\t\tthis.wedeployClient = null;\n\t}\n\n\t/**\n\t * Constructs an {@link Auth} instance.\n\t * @param {string} tokenOrUsername Either the authorization token, or\n\t *   the username.\n\t * @param {string=} opt_password If a username is given as the first param,\n\t *   this should be the password.\n\t * @return {!Auth}\n\t */\n\tstatic create(tokenOrUsername, opt_password) {\n\t\treturn new Auth(tokenOrUsername, opt_password);\n\t}\n\n\t/**\n\t * Gets the created at date.\n\t * @return {string}\n\t */\n\tgetCreatedAt() {\n\t\treturn this.createdAt;\n\t}\n\n\t/**\n\t * Gets the email.\n\t * @return {string}\n\t */\n\tgetEmail() {\n\t\treturn this.email;\n\t}\n\n\t/**\n\t * Gets the id.\n\t * @return {string}\n\t */\n\tgetId() {\n\t\treturn this.id;\n\t}\n\n\t/**\n\t * Gets the name.\n\t * @return {string}\n\t */\n\tgetName() {\n\t\treturn this.name;\n\t}\n\n\t/**\n\t * Gets the password.\n\t * @return {string}\n\t */\n\tgetPassword() {\n\t\treturn this.password;\n\t}\n\n\t/**\n\t * Gets the photo url.\n\t * @return {string}\n\t */\n\tgetPhotoUrl() {\n\t\treturn this.photoUrl;\n\t}\n\n\t/**\n\t * Gets the token.\n\t * @return {string}\n\t */\n\tgetToken() {\n\t\treturn this.token;\n\t}\n\n\t/**\n\t * Checks if created at is set.\n\t * @return {boolean}\n\t */\n\thasCreatedAt() {\n\t\treturn core.isDefAndNotNull(this.createdAt);\n\t}\n\n\t/**\n\t * Checks if the email is set.\n\t * @return {boolean}\n\t */\n\thasEmail() {\n\t\treturn core.isDefAndNotNull(this.email);\n\t}\n\n\t/**\n\t * Checks if the id is set.\n\t * @return {boolean}\n\t */\n\thasId() {\n\t\treturn core.isDefAndNotNull(this.id);\n\t}\n\n\t/**\n\t * Checks if the name is set.\n\t * @return {boolean}\n\t */\n\thasName() {\n\t\treturn core.isDefAndNotNull(this.name);\n\t}\n\n\t/**\n\t * Checks if the password is set.\n\t * @return {boolean}\n\t */\n\thasPassword() {\n\t\treturn core.isDefAndNotNull(this.password);\n\t}\n\n\t/**\n\t * Checks if the photo url is set.\n\t * @return {boolean}\n\t */\n\thasPhotoUrl() {\n\t\treturn core.isDefAndNotNull(this.photoUrl);\n\t}\n\n\t/**\n\t * Checks if the token is set.\n\t * @return {boolean}\n\t */\n\thasToken() {\n\t\treturn core.isDefAndNotNull(this.token);\n\t}\n\n\t/**\n\t * Sets created at.\n\t * @param {string} createdAt\n\t */\n\tsetCreatedAt(createdAt) {\n\t\tthis.createdAt = createdAt;\n\t}\n\n\t/**\n\t * Sets the email.\n\t * @param {string} email\n\t */\n\tsetEmail(email) {\n\t\tthis.email = email;\n\t}\n\n\t/**\n\t * Sets the id.\n\t * @param {string} id\n\t */\n\tsetId(id) {\n\t\tthis.id = id;\n\t}\n\n\t/**\n\t * Sets the name.\n\t * @param {string} name\n\t */\n\tsetName(name) {\n\t\tthis.name = name;\n\t}\n\n\t/**\n\t * Sets the password.\n\t * @param {string} password\n\t */\n\tsetPassword(password) {\n\t\tthis.password = password;\n\t}\n\n\t/**\n\t * Sets the photo url.\n\t * @param {string} photoUrl\n\t */\n\tsetPhotoUrl(photoUrl) {\n\t\tthis.photoUrl = photoUrl;\n\t}\n\n\t/**\n\t * Sets the token.\n\t * @param {string} token\n\t */\n\tsetToken(token) {\n\t\tthis.token = token;\n\t}\n\n\tsetWedeployClient(wedeployClient) {\n\t\tthis.wedeployClient = wedeployClient;\n\t}\n\n\t/**\n\t * Updates the user.\n\t * @param {!object} data\n\t * @return {CompletableFuture}\n\t */\n\tupdateUser(data) {\n\t\tassertObject(data, 'User data must be specified as object');\n\t\treturn this.wedeployClient\n\t\t\t.url(this.wedeployClient.authUrl_)\n\t\t\t.path('/users', this.getId().toString())\n\t\t\t.auth(this)\n\t\t\t.patch(data)\n\t\t\t.then(response => assertResponseSucceeded(response));\n\t}\n\n\t/**\n\t * Deletes the current user.\n\t * @return {CompletableFuture}\n\t */\n\tdeleteUser() {\n\t\tassertDefAndNotNull(this.getId(), 'Cannot delete user without id');\n\t\treturn this.wedeployClient\n\t\t\t.url(this.wedeployClient.authUrl_)\n\t\t\t.path('/users', this.getId().toString())\n\t\t\t.auth(this)\n\t\t\t.delete()\n\t\t\t.then(response => assertResponseSucceeded(response));\n\t}\n}\n\nexport default Auth;\n","'use strict';\n\nimport Auth from './auth/Auth';\nimport { assertDefAndNotNull } from './assertions';\n\nclass ApiHelper {\n\n\t/**\n\t * Constructs an {@link ApiHelper} instance.\n\t * @constructor\n\t */\n\tconstructor(wedeployClient) {\n\t\tassertDefAndNotNull(wedeployClient, 'WeDeploy client reference must be specified');\n\t\tthis.wedeployClient = wedeployClient;\n\t}\n\n\t/**\n\t * Adds authorization information to this request.\n\t * @param {!Auth|string} authOrTokenOrEmail Either an {@link Auth} instance,\n\t * an authorization token, or the email.\n\t * @param {string=} opt_password If a email is given as the first param,\n\t * this should be the password.\n\t * @chainable\n\t */\n\tauth(authOrTokenOrEmail, opt_password) {\n\t\tthis.helperAuthScope = authOrTokenOrEmail;\n\t\tif (!(this.helperAuthScope instanceof Auth)) {\n\t\t\tthis.helperAuthScope = Auth.create(authOrTokenOrEmail, opt_password);\n\t\t}\n\t\treturn this;\n\t}\n\n}\n\nexport default ApiHelper;\n","'use strict';\n\nimport { core } from 'metal';\nimport Uri from 'metal-uri';\n\n/**\n * Class responsible for encapsulate provider information.\n */\nclass AuthProvider {\n\t/**\n\t * Constructs an {@link AuthProvider} instance.\n\t * @constructor\n\t */\n\tconstructor() {\n\t\tthis.provider = null;\n\t\tthis.providerScope = null;\n\t\tthis.redirectUri = null;\n\t\tthis.scope = null;\n\t}\n\n\t/**\n\t * Checks if provider is defined and not null.\n\t * @return {boolean}\n\t */\n\thasProvider() {\n\t\treturn core.isDefAndNotNull(this.provider);\n\t}\n\n\t/**\n\t * Checks if scope is defined and not null.\n\t * @return {boolean}\n\t */\n\thasProviderScope() {\n\t\treturn core.isDefAndNotNull(this.providerScope);\n\t}\n\n\t/**\n\t * Checks if redirect uri is defined and not null.\n\t * @return {boolean}\n\t */\n\thasRedirectUri() {\n\t\treturn core.isDefAndNotNull(this.redirectUri);\n\t}\n\n\t/**\n\t * Checks if scope is defined and not null.\n\t * @return {boolean}\n\t */\n\thasScope() {\n\t\treturn core.isDefAndNotNull(this.scope);\n\t}\n\n\t/**\n\t * Makes authorization url.\n\t * @return {string=} Authorization url.\n\t */\n\tmakeAuthorizationUrl(opt_authUrl) {\n\t\tvar uri = new Uri(opt_authUrl);\n\n\t\turi.setPathname('/oauth/authorize');\n\n\t\tif (this.hasProvider()) {\n\t\t\turi.setParameterValue('provider', this.getProvider());\n\t\t}\n\t\tif (this.hasProviderScope()) {\n\t\t\turi.setParameterValue('provider_scope', this.getProviderScope());\n\t\t}\n\t\tif (this.hasRedirectUri()) {\n\t\t\turi.setParameterValue('redirect_uri', this.getRedirectUri());\n\t\t}\n\t\tif (this.hasScope()) {\n\t\t\turi.setParameterValue('scope', this.getScope());\n\t\t}\n\n\t\treturn uri.toString();\n\t}\n\n\t/**\n\t * Gets provider name.\n\t * @return {string=} Provider name.\n\t */\n\tgetProvider() {\n\t\treturn this.provider;\n\t}\n\n\t/**\n\t * Gets provider scope.\n\t * @return {string=} String with scopes.\n\t */\n\tgetProviderScope() {\n\t\treturn this.providerScope;\n\t}\n\n\t/**\n\t * Gets redirect uri.\n\t * @return {string=}.\n\t */\n\tgetRedirectUri() {\n\t\treturn this.redirectUri;\n\t}\n\n\t/**\n\t * Gets scope.\n\t * @return {string=} String with scopes.\n\t */\n\tgetScope() {\n\t\treturn this.scope;\n\t}\n\n\t/**\n\t * Sets provider scope.\n\t * @param {string=} scope Scope string. Separate by space for multiple\n\t *   scopes, e.g. \"scope1 scope2\".\n\t */\n\tsetProviderScope(providerScope) {\n\t\tassertStringIfDefAndNotNull(providerScope, 'Provider scope must be a string');\n\t\tthis.providerScope = providerScope;\n\t}\n\n\t/**\n\t * Sets redirect uri.\n\t * @param {string=} redirectUri.\n\t */\n\tsetRedirectUri(redirectUri) {\n\t\tassertStringIfDefAndNotNull(redirectUri, 'Redirect uri must be a string');\n\t\tthis.redirectUri = redirectUri;\n\t}\n\n\t/**\n\t * Sets scope.\n\t * @param {string=} scope Scope string. Separate by space for multiple\n\t *   scopes, e.g. \"scope1 scope2\".\n\t */\n\tsetScope(scope) {\n\t\tassertStringIfDefAndNotNull(scope, 'Scope must be a string');\n\t\tthis.scope = scope;\n\t}\n}\n\nfunction assertStringIfDefAndNotNull(value, errorMessage) {\n\tif (core.isDefAndNotNull(value) && !core.isString(value)) {\n\t\tthrow new Error(errorMessage);\n\t}\n}\n\nexport default AuthProvider;\n","'use strict';\n\nimport AuthProvider from './AuthProvider';\n\n/**\n * Facebook auth provider implementation.\n */\nclass FacebookAuthProvider extends AuthProvider {\n\t/**\n\t * Constructs an {@link FacebookAuthProvider} instance.\n\t * @constructor\n\t */\n\tconstructor() {\n\t\tsuper();\n\t\tthis.provider = FacebookAuthProvider.PROVIDER;\n\t}\n}\n\nFacebookAuthProvider.PROVIDER = 'facebook';\n\nexport default FacebookAuthProvider;\n","'use strict';\n\nimport AuthProvider from './AuthProvider';\n\n/**\n * Github auth provider implementation.\n */\nclass GithubAuthProvider extends AuthProvider {\n\t/**\n\t * Constructs an {@link GithubAuthProvider} instance.\n\t * @constructor\n\t */\n\tconstructor() {\n\t\tsuper();\n\t\tthis.provider = GithubAuthProvider.PROVIDER;\n\t}\n}\n\nGithubAuthProvider.PROVIDER = 'github';\n\nexport default GithubAuthProvider;\n","'use strict';\n\nimport AuthProvider from './AuthProvider';\n\n/**\n * Google auth provider implementation.\n */\nclass GoogleAuthProvider extends AuthProvider {\n\t/**\n\t * Constructs an {@link GoogleAuthProvider} instance.\n\t * @constructor\n\t */\n\tconstructor() {\n\t\tsuper();\n\t\tthis.provider = GoogleAuthProvider.PROVIDER;\n\t}\n}\n\nGoogleAuthProvider.PROVIDER = 'google';\n\nexport default GoogleAuthProvider;\n","'use strict';\n\n/* jshint ignore:start */\n\n/**\n * Abstract interface for storing and retrieving data using some persistence\n * mechanism.\n * @constructor\n */\nclass StorageMechanism {\n\t/**\n\t * Clear all items from the data storage.\n\t */\n\tclear() {\n\t\tthrow Error('Unimplemented abstract method');\n\t}\n\n\t/**\n\t * Sets an item in the data storage.\n\t * @param {string} key The key to set.\n\t * @param {*} value The value to serialize to a string and save.\n\t */\n\tset(key, value) {\n\t\tthrow Error('Unimplemented abstract method');\n\t}\n\n\t/**\n\t * Gets an item from the data storage.\n\t * @param {string} key The key to get.\n\t * @return {*} Deserialized value or undefined if not found.\n\t */\n\tget(key) {\n\t\tthrow Error('Unimplemented abstract method');\n\t}\n\n\t/**\n\t * Checks if this mechanism is supported in the current environment.\n\t * Subclasses should override this when necessary.\n\t */\n\tstatic isSupported() {\n\t\treturn true;\n\t}\n\n\t/**\n\t * Returns the list of keys stored in the Storage object.\n\t * @param {!Array<string>} keys\n\t */\n\tkeys() {\n\t\tthrow Error('Unimplemented abstract method');\n\t}\n\n\t/**\n\t * Removes an item from the data storage.\n\t * @param {string} key The key to remove.\n\t */\n\tremove(key) {\n\t\tthrow Error('Unimplemented abstract method');\n\t}\n\n\t/**\n\t * Returns the number of data items stored in the Storage object.\n\t * @return {number}\n\t */\n\tsize() {\n\t\tthrow Error('Unimplemented abstract method');\n\t}\n}\n\nexport default StorageMechanism;\n\n/* jshint ignore:end */\n","'use strict';\n\nimport core from 'metal';\nimport StorageMechanism from './mechanism/StorageMechanism';\n\nclass Storage {\n\n\t/**\n\t * Provides a convenient API for data persistence using a selected data\n\t * storage mechanism.\n\t * @param {!StorageMechanism} mechanism The underlying storage mechanism.\n\t * @constructor\n\t */\n\tconstructor(mechanism) {\n\t\tassertMechanismDefAndNotNull(mechanism);\n\t\tassertMechanismIntanceOf(mechanism);\n\n\t\t/**\n\t\t * The mechanism used to persist key-value pairs.\n\t\t * @type {StorageMechanism}\n\t\t * @protected\n\t\t */\n\t\tthis.mechanism = mechanism;\n\t}\n\n\t/**\n\t * Clear all items from the data storage.\n\t */\n\tclear() {\n\t\tthis.mechanism.clear();\n\t}\n\n\t/**\n\t * Sets an item in the data storage.\n\t * @param {string} key The key to set.\n\t * @param {*} value The value to serialize to a string and save.\n\t */\n\tset(key, value) {\n\t\tif (!core.isDef(value)) {\n\t\t\tthis.mechanism.remove(key);\n\t\t\treturn;\n\t\t}\n\t\tthis.mechanism.set(key, JSON.stringify(value));\n\t}\n\n\t/**\n\t * Gets an item from the data storage.\n\t * @param {string} key The key to get.\n\t * @return {*} Deserialized value or undefined if not found.\n\t */\n\tget(key) {\n\t\tvar json;\n\t\ttry {\n\t\t\tjson = this.mechanism.get(key);\n\t\t} catch (e) {\n\t\t\treturn undefined;\n\t\t}\n\t\tif (core.isNull(json)) {\n\t\t\treturn undefined;\n\t\t}\n\t\ttry {\n\t\t\treturn JSON.parse(json);\n\t\t} catch (e) {\n\t\t\tthrow Storage.ErrorCode.INVALID_VALUE;\n\t\t}\n\t}\n\n\t/**\n\t * Returns the list of keys stored in the Storage object.\n\t * @param {!Array<string>} keys\n\t */\n\tkeys() {\n\t\treturn this.mechanism.keys();\n\t}\n\n\t/**\n\t * Removes an item from the data storage.\n\t * @param {string} key The key to remove.\n\t */\n\tremove(key) {\n\t\tthis.mechanism.remove(key);\n\t}\n\n\t/**\n\t * Returns the number of data items stored in the Storage object.\n\t * @return {number}\n\t */\n\tsize() {\n\t\treturn this.mechanism.size();\n\t}\n\n\t/**\n\t * Returns the list of values stored in the Storage object.\n\t * @param {!Array<string>} values\n\t */\n\tvalues() {\n\t\treturn this.keys().map((key) => this.get(key));\n\t}\n}\n\n/**\n * Errors thrown by the storage.\n * @enum {string}\n */\nStorage.ErrorCode = {\n\tINVALID_VALUE: 'Storage: Invalid value was encountered'\n};\n\nfunction assertMechanismDefAndNotNull(mechanism) {\n\tif (!core.isDefAndNotNull(mechanism)) {\n\t\tthrow Error('Storage mechanism is required');\n\t}\n}\n\nfunction assertMechanismIntanceOf(mechanism) {\n\tif (!(mechanism instanceof StorageMechanism)) {\n\t\tthrow Error('Storage mechanism must me an implementation of StorageMechanism');\n\t}\n}\n\nexport default Storage;\n","'use strict';\n\nimport StorageMechanism from './StorageMechanism';\n\n/**\n * Abstract interface for storing and retrieving data using some persistence\n * mechanism.\n * @constructor\n */\nclass LocalStorageMechanism extends StorageMechanism {\n\t/**\n\t * Returns reference for global local storage. by default\n\t */\n\tstorage() {\n\t\treturn LocalStorageMechanism.globals.localStorage;\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tclear() {\n\t\tthis.storage().clear();\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tkeys() {\n\t\treturn Object.keys(this.storage());\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tget(key) {\n\t\treturn this.storage().getItem(key);\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tstatic isSupported() {\n\t\treturn typeof window !== 'undefined';\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tremove(key) {\n\t\tthis.storage().removeItem(key);\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tset(key, value) {\n\t\tthis.storage().setItem(key, value);\n\t}\n\n\t/**\n\t * @inheritDoc\n\t */\n\tsize() {\n\t\treturn this.storage().length;\n\t}\n}\n\nif (LocalStorageMechanism.isSupported()) {\n\tLocalStorageMechanism.globals = {\n\t\tlocalStorage: window.localStorage\n\t};\n}\n\nexport default LocalStorageMechanism;\n","'use strict';\n\nimport Auth from './Auth';\nimport ApiHelper from '../ApiHelper';\nimport FacebookAuthProvider from './FacebookAuthProvider';\nimport GithubAuthProvider from './GithubAuthProvider';\nimport globals from '../../globals/globals';\nimport GoogleAuthProvider from './GoogleAuthProvider';\nimport { Storage, LocalStorageMechanism } from 'metal-storage';\n\nimport { assertDefAndNotNull, assertFunction, assertObject, assertUserSignedIn, assertBrowserEnvironment, assertResponseSucceeded } from '../assertions';\n\n/**\n * Class responsible for encapsulate auth api calls.\n */\nclass AuthApiHelper extends ApiHelper {\n\t/**\n\t * Constructs an {@link AuthApiHelper} instance.\n\t * @constructor\n\t */\n\tconstructor(wedeployClient) {\n\t\tsuper(wedeployClient);\n\n\t\tthis.currentUser = null;\n\t\tthis.onSignInCallback = null;\n\t\tthis.onSignOutCallback = null;\n\t\tif (LocalStorageMechanism.isSupported()) {\n\t\t\tthis.storage = new Storage(new LocalStorageMechanism());\n\t\t}\n\n\t\tthis.processSignIn_();\n\n\t\tthis.provider = {\n\t\t\tFacebook: FacebookAuthProvider,\n\t\t\tGoogle: GoogleAuthProvider,\n\t\t\tGithub: GithubAuthProvider\n\t\t};\n\t}\n\n\t/**\n\t * Creates user.\n\t * @param {!object} data The data to be used to create the user.\n\t * @return {CancellablePromise}\n\t */\n\tcreateUser(data) {\n\t\tassertObject(data, 'User data must be specified as object');\n\t\treturn this.wedeployClient\n\t\t\t.url(this.wedeployClient.authUrl_)\n\t\t\t.path('/users')\n\t\t\t.post(data)\n\t\t\t.then(response => assertResponseSucceeded(response))\n\t\t\t.then(response => this.makeUserAuthFromData(response.body()));\n\t}\n\n\t/**\n\t * Gets the current browser url without the fragment part.\n\t * @return {!string}\n\t * @protected\n\t */\n\tgetHrefWithoutFragment_() {\n\t\tvar location = globals.window.location;\n\t\treturn location.protocol + '//' + location.host + location.pathname + (location.search ? location.search : '');\n\t}\n\n\t/**\n\t * Gets the access token from the url fragment and removes it.\n\t * @return {?string}\n\t * @protected\n\t */\n\tgetRedirectAccessToken_() {\n\t\tif (globals.window) {\n\t\t\tvar fragment = globals.window.location.hash;\n\t\t\tif (fragment.indexOf('#access_token=') === 0) {\n\t\t\t\treturn fragment.substring(14);\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\t/**\n\t * Gets user by id.\n\t * @param {!string} userId\n\t * @return {CancellablePromise}\n\t */\n\tgetUser(userId) {\n\t\tassertDefAndNotNull(userId, 'User userId must be specified');\n\t\tassertUserSignedIn(this.currentUser);\n\t\treturn this.wedeployClient\n\t\t\t.url(this.wedeployClient.authUrl_)\n\t\t\t.path('/users', userId)\n\t\t\t.auth(this.resolveAuthScope().token)\n\t\t\t.get()\n\t\t\t.then(response => assertResponseSucceeded(response))\n\t\t\t.then(response => this.makeUserAuthFromData(response.body()));\n\t}\n\n\t/**\n\t * Loads current user. Requires a user token as argument.\n\t * @param {!string} token\n\t * @return {CancellablePromise}\n\t */\n\tloadCurrentUser(token) {\n\t\tassertDefAndNotNull(token, 'User token must be specified');\n\t\treturn this.wedeployClient\n\t\t\t.url(this.wedeployClient.authUrl_)\n\t\t\t.path('/user')\n\t\t\t.auth(token)\n\t\t\t.get()\n\t\t\t.then(response => {\n\t\t\t\tvar data = response.body();\n\t\t\t\tdata.token = token;\n\t\t\t\tthis.currentUser = this.makeUserAuthFromData(data);\n\t\t\t\tif (this.storage) {\n\t\t\t\t\tthis.storage.set('currentUser', data);\n\t\t\t\t}\n\t\t\t\treturn this.currentUser;\n\t\t\t});\n\t}\n\n\t/**\n\t * Makes user Auth from data object.\n\t * @param {object} data\n\t * @return {Auth}\n\t * @protected\n\t */\n\tmakeUserAuthFromData(data) {\n\t\tvar auth = new Auth();\n\t\tauth.setWedeployClient(this.wedeployClient);\n\t\tauth.setCreatedAt(data.createdAt);\n\t\tauth.setEmail(data.email);\n\t\tauth.setId(data.id);\n\t\tauth.setName(data.name);\n\t\tauth.setPhotoUrl(data.photoUrl);\n\t\tauth.setToken(data.token);\n\t\treturn auth;\n\t}\n\n\t/**\n\t * Calls the on sign in callback if set.\n\t * @protected\n\t */\n\tmaybeCallOnSignInCallback_() {\n\t\tif (this.onSignInCallback) {\n\t\t\tthis.onSignInCallback.call(this, this.currentUser);\n\t\t}\n\t}\n\n\t/**\n\t * Calls the on sign out callback if set.\n\t * @protected\n\t */\n\tmaybeCallOnSignOutCallback_() {\n\t\tif (this.onSignOutCallback) {\n\t\t\tthis.onSignOutCallback.call(this, this.currentUser);\n\t\t}\n\t}\n\n\t/**\n\t * Fires passed callback when a user sign-in. Note that it keeps only the\n\t * last callback passed.\n\t * @param {!Function} callback\n\t */\n\tonSignIn(callback) {\n\t\tassertFunction(callback, 'Sign-in callback must be a function');\n\t\tthis.onSignInCallback = callback;\n\t}\n\n\t/**\n\t * Fires passed callback when a user sign-out. Note that it keeps only the\n\t * last callback passed.\n\t * @param {!Function} callback\n\t */\n\tonSignOut(callback) {\n\t\tassertFunction(callback, 'Sign-out callback must be a function');\n\t\tthis.onSignOutCallback = callback;\n\t}\n\n\t/**\n\t * Processes sign-in by detecting a presence of a fragment\n\t * <code>#access_token=</code> in the url or, alternatively, by local\n\t * storage current user.\n\t */\n\tprocessSignIn_() {\n\t\tvar redirectAccessToken = this.getRedirectAccessToken_();\n\t\tif (redirectAccessToken) {\n\t\t\tthis.removeUrlFragmentCompletely_();\n\t\t\tthis.loadCurrentUser(redirectAccessToken)\n\t\t\t\t.then(() => this.maybeCallOnSignInCallback_());\n\t\t\treturn;\n\t\t}\n\t\tvar currentUser = this.storage && this.storage.get('currentUser');\n\t\tif (currentUser) {\n\t\t\tthis.currentUser = this.makeUserAuthFromData(currentUser);\n\t\t}\n\t}\n\n\t/**\n\t * Removes fragment from url by performing a push state to the current path.\n\t * @protected\n\t */\n\tremoveUrlFragmentCompletely_() {\n\t\tglobals.window.history.pushState({}, document.title, window.location.pathname + window.location.search);\n\t}\n\n\t/**\n\t * Resolves auth scope from last login or api helper.\n\t * @return {Auth}\n\t */\n\tresolveAuthScope() {\n\t\tif (this.helperAuthScope) {\n\t\t\treturn this.helperAuthScope;\n\t\t}\n\t\treturn this.currentUser;\n\t}\n\n\t/**\n\t * Sends password reset email to the specified email if found in database.\n\t * For security reasons call do not fail if email not found.\n\t * @param {!string} email\n\t * @return {CancellablePromise}\n\t */\n\tsendPasswordResetEmail(email) {\n\t\tassertDefAndNotNull(email, 'Send password reset email must be specified');\n\t\treturn this.wedeployClient\n\t\t\t.url(this.wedeployClient.authUrl_)\n\t\t\t.path('/user/recover')\n\t\t\t.param('email', email)\n\t\t\t.post()\n\t\t\t.then(response => assertResponseSucceeded(response));\n\t}\n\n\t/**\n\t * Signs in using email and password.\n\t * @param {!string} email\n\t * @param {!string} password\n\t * @return {CancellablePromise}\n\t */\n\tsignInWithEmailAndPassword(email, password) {\n\t\tassertDefAndNotNull(email, 'Sign-in email must be specified');\n\t\tassertDefAndNotNull(password, 'Sign-in password must be specified');\n\n\t\treturn this.wedeployClient\n\t\t\t.url(this.wedeployClient.authUrl_)\n\t\t\t.path('/oauth/token')\n\t\t\t.param('grant_type', 'password')\n\t\t\t.param('username', email)\n\t\t\t.param('password', password)\n\t\t\t.get()\n\t\t\t.then(response => assertResponseSucceeded(response))\n\t\t\t.then(response => this.loadCurrentUser(response.body().access_token))\n\t\t\t.then((user) => {\n\t\t\t\tthis.maybeCallOnSignInCallback_();\n\t\t\t\treturn user;\n\t\t\t});\n\t}\n\n\t/**\n\t * Signs in with redirect. Some providers and environment may not support\n\t * this flow.\n\t * @param {AuthProvider} provider\n\t */\n\tsignInWithRedirect(provider) {\n\t\tassertBrowserEnvironment();\n\t\tassertDefAndNotNull(provider, 'Sign-in provider must be defined');\n\t\tassertSupportedProvider(provider);\n\n\t\tif (!provider.hasRedirectUri()) {\n\t\t\tprovider.setRedirectUri(this.getHrefWithoutFragment_());\n\t\t}\n\t\tglobals.window.location.href = provider.makeAuthorizationUrl(this.wedeployClient.authUrl_);\n\t}\n\n\t/**\n\t * Signs out <code>currentUser</code> and removes from <code>localStorage</code>.\n\t * @return {CancellablePromise}\n\t */\n\tsignOut() {\n\t\tassertUserSignedIn(this.currentUser);\n\t\treturn this.wedeployClient\n\t\t\t.url(this.wedeployClient.authUrl_)\n\t\t\t.path('/oauth/revoke')\n\t\t\t.param('token', this.currentUser.token)\n\t\t\t.get()\n\t\t\t.then(response => assertResponseSucceeded(response))\n\t\t\t.then(response => {\n\t\t\t\tthis.maybeCallOnSignOutCallback_();\n\t\t\t\tthis.unloadCurrentUser_();\n\t\t\t\treturn response;\n\t\t\t});\n\t}\n\n\t/**\n\t * Unloads all information for <code>currentUser</code> and removes from\n\t * <code>localStorage</code> if present.\n\t */\n\tunloadCurrentUser_() {\n\t\tthis.currentUser = null;\n\t\tif (this.storage) {\n\t\t\tthis.storage.remove('currentUser');\n\t\t}\n\t}\n}\n\nfunction assertSupportedProvider(provider) {\n\tswitch (provider.constructor.PROVIDER) {\n\t\tcase FacebookAuthProvider.PROVIDER:\n\t\tcase GithubAuthProvider.PROVIDER:\n\t\tcase GoogleAuthProvider.PROVIDER:\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tthrow new Error('Sign-in provider not supported');\n\t}\n}\n\nexport default AuthApiHelper;\n","'use strict';\n\nimport Embodied from './Embodied';\nimport Range from './Range';\n\n/**\n * Class that represents a search aggregation.\n */\nclass Aggregation {\n\t/**\n\t * Constructs an {@link Aggregation} instance.\n\t * @param {string} field The aggregation field.\n\t * @param {string} operator The aggregation operator.\n\t * @param {*=} opt_value The aggregation value.\n\t * @constructor\n\t */\n\tconstructor(field, operator, opt_value) {\n\t\tthis.field_ = field;\n\t\tthis.operator_ = operator;\n\t\tthis.value_ = opt_value;\n\t}\n\n\t/**\n\t * Creates an {@link Aggregation} instance with the \"avg\" operator.\n\t * @param {string} field The aggregation field.\n\t * @return {!Aggregation}\n\t * @static\n\t */\n\tstatic avg(field) {\n\t\treturn Aggregation.field(field, 'avg');\n\t}\n\n\t/**\n\t * Creates an {@link Aggregation} instance with the \"count\" operator.\n\t * @param {string} field The aggregation field.\n\t * @return {!Aggregation}\n\t * @static\n\t */\n\tstatic count(field) {\n\t\treturn Aggregation.field(field, 'count');\n\t}\n\n\t/**\n\t * Creates an {@link DistanceAggregation} instance with the \"geoDistance\" operator.\n\t * @param {string} field The aggregation field.\n\t * @param {*} location The aggregation location.\n\t * @param {...!Range} ranges The aggregation ranges.\n\t * @return {!DistanceAggregation}\n\t * @static\n\t */\n\tstatic distance(field, location, ...ranges) {\n\t\treturn new Aggregation.DistanceAggregation(field, location, ...ranges);\n\t}\n\n\t/**\n\t * Creates an {@link Aggregation} instance with the \"extendedStats\" operator.\n\t * @param {string} field The aggregation field.\n\t * @return {!Aggregation}\n\t * @static\n\t */\n\tstatic extendedStats(field) {\n\t\treturn Aggregation.field(field, 'extendedStats');\n\t}\n\n\t/**\n\t * Gets this aggregation's field.\n\t * @return {string}\n\t */\n\tgetField() {\n\t\treturn this.field_;\n\t}\n\n\t/**\n\t * Gets this aggregation's operator.\n\t * @return {string}\n\t */\n\tgetOperator() {\n\t\treturn this.operator_;\n\t}\n\n\t/**\n\t * Gets this aggregation's value.\n\t * @return {*}\n\t */\n\tgetValue() {\n\t\treturn this.value_;\n\t}\n\n\t/**\n\t * Creates an {@link Aggregation} instance with the \"histogram\" operator.\n\t * @param {string} field The aggregation field.\n\t * @param {number} interval The histogram's interval.\n\t * @return {!Aggregation}\n\t * @static\n\t */\n\tstatic histogram(field, interval) {\n\t\treturn new Aggregation(field, 'histogram', interval);\n\t}\n\n\t/**\n\t * Creates an {@link Aggregation} instance with the \"max\" operator.\n\t * @param {string} field The aggregation field.\n\t * @return {!Aggregation}\n\t * @static\n\t */\n\tstatic max(field) {\n\t\treturn Aggregation.field(field, 'max');\n\t}\n\n\t/**\n\t * Creates an {@link Aggregation} instance with the \"min\" operator.\n\t * @param {string} field The aggregation field.\n\t * @return {!Aggregation}\n\t * @static\n\t */\n\tstatic min(field) {\n\t\treturn Aggregation.field(field, 'min');\n\t}\n\n\t/**\n\t * Creates an {@link Aggregation} instance with the \"missing\" operator.\n\t * @param {string} field The aggregation field.\n\t * @return {!Aggregation}\n\t * @static\n\t */\n\tstatic missing(field) {\n\t\treturn Aggregation.field(field, 'missing');\n\t}\n\n\t/**\n\t * Creates a new {@link Aggregation} instance.\n\t * @param {string} field The aggregation field.\n\t * @param {string} operator The aggregation operator.\n\t * @return {!Aggregation}\n\t * @static\n\t */\n\tstatic field(field, operator) {\n\t\treturn new Aggregation(field, operator);\n\t}\n\n\t/**\n\t * Creates an {@link RangeAggregation} instance with the \"range\" operator.\n\t * @param {string} field The aggregation field.\n\t * @param {...!Range} ranges The aggregation ranges.\n\t * @return {!RangeAggregation}\n\t * @static\n\t */\n\tstatic range(field, ...ranges) {\n\t\treturn new Aggregation.RangeAggregation(field, ...ranges);\n\t}\n\n\t/**\n\t * Creates an {@link Aggregation} instance with the \"stats\" operator.\n\t * @param {string} field The aggregation field.\n\t * @return {!Aggregation}\n\t * @static\n\t */\n\tstatic stats(field) {\n\t\treturn Aggregation.field(field, 'stats');\n\t}\n\n\t/**\n\t * Creates an {@link Aggregation} instance with the \"sum\" operator.\n\t * @param {string} field The aggregation field.\n\t * @return {!Aggregation}\n\t * @static\n\t */\n\tstatic sum(field) {\n\t\treturn Aggregation.field(field, 'sum');\n\t}\n\n\t/**\n\t * Creates an {@link Aggregation} instance with the \"terms\" operator.\n\t * @param {string} field The aggregation field.\n\t * @return {!Aggregation}\n\t * @static\n\t */\n\tstatic terms(field) {\n\t\treturn Aggregation.field(field, 'terms');\n\t}\n}\n\n/**\n * Class that represents a distance aggregation.\n * @extends {Aggregation}\n */\nclass DistanceAggregation extends Aggregation {\n\t/**\n\t * Constructs an {@link DistanceAggregation} instance.\n\t * @param {string} field The aggregation field.\n\t * @param {*} location The aggregation location.\n\t * @param {...!Range} ranges The aggregation ranges.\n\t * @constructor\n\t */\n\tconstructor(field, location, ...ranges) {\n\t\tsuper(field, 'geoDistance', {});\n\t\tthis.value_.location = Embodied.toBody(location);\n\t\tthis.value_.ranges = ranges.map(range => range.body());\n\t}\n\n\t/**\n\t * Adds a range to this aggregation.\n\t * @param {*} rangeOrFrom\n\t * @param {*=} opt_to\n\t * @chainnable\n\t */\n\trange(rangeOrFrom, opt_to) {\n\t\tvar range = rangeOrFrom;\n\t\tif (!(range instanceof Range)) {\n\t\t\trange = Range.range(rangeOrFrom, opt_to);\n\t\t}\n\t\tthis.value_.ranges.push(range.body());\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets this aggregation's unit.\n\t * @param {string} unit\n\t * @chainnable\n\t */\n\tunit(unit) {\n\t\tthis.value_.unit = unit;\n\t\treturn this;\n\t}\n}\nAggregation.DistanceAggregation = DistanceAggregation;\n\n/**\n * Class that represents a range aggregation.\n * @extends {Aggregation}\n */\nclass RangeAggregation extends Aggregation {\n\t/**\n\t * Constructs an {@link RangeAggregation} instance.\n\t * @param {string} field The aggregation field.\n\t * @param {...!Range} ranges The aggregation ranges.\n\t * @constructor\n\t */\n\tconstructor(field, ...ranges) {\n\t\tsuper(field, 'range');\n\t\tthis.value_ = ranges.map(range => range.body());\n\t}\n\n\t/**\n\t * Adds a range to this aggregation.\n\t * @param {*} rangeOrFrom\n\t * @param {*=} opt_to\n\t * @chainnable\n\t */\n\trange(rangeOrFrom, opt_to) {\n\t\tvar range = rangeOrFrom;\n\t\tif (!(range instanceof Range)) {\n\t\t\trange = Range.range(rangeOrFrom, opt_to);\n\t\t}\n\t\tthis.value_.push(range.body());\n\t\treturn this;\n\t}\n}\nAggregation.RangeAggregation = RangeAggregation;\n\nexport default Aggregation;\n","'use strict';\n\nimport { core } from 'metal';\nimport Embodied from './Embodied';\nimport Filter from './Filter';\nimport Aggregation from './Aggregation';\n\n/**\n * Class responsible for building queries.\n * @extends {Embodied}\n */\nclass Query extends Embodied {\n\t/**\n\t * Adds an aggregation to this {@link Query} instance.\n\t * @param {string} name The aggregation name.\n\t * @param {!Aggregation|string} aggregationOrField Either an\n\t *   {@link Aggregation} instance or the name of the aggregation field.\n\t * @param {string=} opt_operator The aggregation operator.\n\t * @return {!Query}\n\t * @static\n\t */\n\tstatic aggregate(name, aggregationOrField, opt_operator) {\n\t\treturn new Query().aggregate(name, aggregationOrField, opt_operator);\n\t}\n\n\t/**\n\t * Sets this query's type to \"count\".\n\t * @return {!Query}\n\t * @static\n\t */\n\tstatic count() {\n\t\treturn new Query().type('count');\n\t}\n\n\t/**\n\t * Sets this query's type to \"fetch\".\n\t * @return {!Query}\n\t * @static\n\t */\n\tstatic fetch() {\n\t\treturn new Query().type('fetch');\n\t}\n\n\t/**\n\t * Adds a filter to this Query.\n\t * @param {!Filter|string} fieldOrFilter Either a {@link Filter} or the\n\t *   name of the field to filter by.\n\t * @param {*=} opt_operatorOrValue Either the field's operator or its value.\n\t * @param {*=} opt_value The filter's value.\n\t * @return {!Query}\n\t * @static\n\t */\n\tstatic filter(fieldOrFilter, opt_operatorOrValue, opt_value) {\n\t\treturn new Query().filter(fieldOrFilter, opt_operatorOrValue, opt_value);\n\t}\n\n\t/**\n\t * Sets the query offset.\n\t * @param {number} offset The index of the first entry that should be returned\n\t *   by this query.\n\t * @return {!Query}\n\t * @static\n\t */\n\tstatic offset(offset) {\n\t\treturn new Query().offset(offset);\n\t}\n\n\t/**\n\t * Adds a highlight entry to this {@link Query} instance.\n\t * @param {string} field The field's name.\n\t * @return {!Query}\n\t * @static\n\t */\n\tstatic highlight(field) {\n\t\treturn new Query().highlight(field);\n\t}\n\n\t/**\n\t * Sets the query limit.\n\t * @param {number} limit The max amount of entries that this query should return.\n\t * @return {!Query}\n\t * @static\n\t */\n\tstatic limit(limit) {\n\t\treturn new Query().limit(limit);\n\t}\n\n\t/**\n\t * Adds a search to this {@link Query} instance.\n\t * @param {!Filter|string} filterOrTextOrField If no other arguments\n\t *   are passed to this function, this should be either a {@link Filter}\n\t *   instance or a text to be used in a match filter. In both cases\n\t *   the filter will be applied to all fields. Another option is to\n\t *   pass this as a field name instead, together with other arguments\n\t *   so the filter can be created.\n\t * @param {string=} opt_textOrOperator Either a text to be used in a\n\t *   match filter, or the operator that should be used.\n\t * @param {*=} opt_value The value to be used by the filter. Should\n\t *   only be passed if an operator was passed as the second argument.\n\t * @return {!Query}\n\t * @static\n\t */\n\tstatic search(filterOrTextOrField, opt_textOrOperator, opt_value) {\n\t\treturn new Query().search(filterOrTextOrField, opt_textOrOperator, opt_value);\n\t}\n\n\t/**\n\t * Adds a sort entry to this query, specifying the field this query should be\n\t * sorted by and, optionally, the sort direction.\n\t * @param {string} field The field that the query should be sorted by.\n\t * @param {string=} opt_direction The direction the sort operation should use.\n\t *   If none is given, \"asc\" is used by default.\n\t * @return {!Query}\n\t * @static\n\t */\n\tstatic sort(field, opt_direction) {\n\t\treturn new Query().sort(field, opt_direction);\n\t}\n\n\t/**\n\t * Sets the query type.\n\t * @param {string} type The query's type. For example: \"count\", \"fetch\".\n\t * @return {!Query}\n\t * @static\n\t */\n\tstatic type(type) {\n\t\treturn new Query().type(type);\n\t}\n\n\t/**\n\t * Adds an aggregation to this {@link Query} instance.\n\t * @param {string} name The aggregation name.\n\t * @param {!Aggregation|string} aggregationOrField Either an\n\t *   {@link Aggregation} instance or the name of the aggregation field.\n\t * @param {string=} opt_operator The aggregation operator.\n\t * @chainnable\n\t */\n\taggregate(name, aggregationOrField, opt_operator) {\n\t\tvar aggregation = aggregationOrField;\n\t\tif (!(aggregation instanceof Aggregation)) {\n\t\t\taggregation = Aggregation.field(aggregationOrField, opt_operator);\n\t\t}\n\n\t\tvar field = aggregation.getField();\n\t\tvar value = {};\n\t\tvalue[field] = {\n\t\t\tname: name,\n\t\t\toperator: aggregation.getOperator()\n\t\t};\n\t\tif (core.isDefAndNotNull(aggregation.getValue())) {\n\t\t\tvalue[field].value = aggregation.getValue();\n\t\t}\n\n\t\tif (!this.body_.aggregation) {\n\t\t\tthis.body_.aggregation = [];\n\t\t}\n\t\tthis.body_.aggregation.push(value);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets this query's type to \"count\".\n\t * @chainnable\n\t */\n\tcount() {\n\t\treturn this.type('count');\n\t}\n\n\t/**\n\t * Sets this query's type to \"fetch\".\n\t * @chainnable\n\t */\n\tfetch() {\n\t\treturn this.type('fetch');\n\t}\n\n\t/**\n\t * Adds a filter to this Query.\n\t * @param {!Filter|string} fieldOrFilter Either a {@link Filter} or the\n\t *   name of the field to filter by.\n\t * @param {*=} opt_operatorOrValue Either the field's operator or its value.\n\t * @param {*=} opt_value The filter's value.\n\t * @chainnable\n\t */\n\tfilter(fieldOrFilter, opt_operatorOrValue, opt_value) {\n\t\tlet filter = Filter.toFilter(fieldOrFilter, opt_operatorOrValue, opt_value);\n\t\tif (!this.body_.filter) {\n\t\t\tthis.body_.filter = [];\n\t\t}\n\t\tthis.body_.filter.push(filter.body());\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the query offset.\n\t * @param {number} offset The index of the first entry that should be returned\n\t *   by this query.\n\t * @chainnable\n\t */\n\toffset(offset) {\n\t\tthis.body_.offset = offset;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Adds a highlight entry to this {@link Query} instance.\n\t * @param {string} field The field's name.\n\t * @chainnable\n\t */\n\thighlight(field) {\n\t\tif (!this.body_.highlight) {\n\t\t\tthis.body_.highlight = [];\n\t\t}\n\n\t\tthis.body_.highlight.push(field);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the query limit.\n\t * @param {number} limit The max amount of entries that this query should return.\n\t * @chainnable\n\t */\n\tlimit(limit) {\n\t\tthis.body_.limit = limit;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Adds a search to this {@link Query} instance.\n\t * @param {!Filter|string} filterOrTextOrField If no other arguments\n\t *   are passed to this function, this should be either a {@link Filter}\n\t *   instance or a text to be used in a match filter. In both cases\n\t *   the filter will be applied to all fields. Another option is to\n\t *   pass this as a field name instead, together with other arguments\n\t *   so the filter can be created.\n\t * @param {string=} opt_textOrOperator Either a text to be used in a\n\t *   match filter, or the operator that should be used.\n\t * @param {*=} opt_value The value to be used by the filter. Should\n\t *   only be passed if an operator was passed as the second argument.\n\t * @chainnable\n\t */\n\tsearch(filterOrTextOrField, opt_textOrOperator, opt_value) {\n\t\tvar filter = filterOrTextOrField;\n\n\t\tif (opt_value) {\n\t\t\tfilter = Filter.field(filterOrTextOrField, opt_textOrOperator, opt_value);\n\t\t} else if (opt_textOrOperator) {\n\t\t\tfilter = Filter.match(filterOrTextOrField, opt_textOrOperator);\n\t\t} else if (!(filter instanceof Filter)) {\n\t\t\tfilter = Filter.match(filterOrTextOrField);\n\t\t}\n\n\t\tif (!this.body_.search) {\n\t\t\tthis.body_.search = [];\n\t\t}\n\n\t\tif (core.isDefAndNotNull(filterOrTextOrField)) {\n\t\t\tthis.body_.search.push(filter.body());\n\t\t} else {\n\t\t\tthis.body_.search.push({});\n\t\t}\n\n\t\treturn this;\n\t}\n\n\t/**\n\t * Adds a sort entry to this query, specifying the field this query should be\n\t * sorted by and, optionally, the sort direction.\n\t * @param {string} field The field that the query should be sorted by.\n\t * @param {string=} opt_direction The direction the sort operation should use.\n\t *   If none is given, \"asc\" is used by default.\n\t * @chainnable\n\t */\n\tsort(field, opt_direction) {\n\t\tif (!this.body_.sort) {\n\t\t\tthis.body_.sort = [];\n\t\t}\n\t\tvar sortEntry = {};\n\t\tsortEntry[field] = opt_direction || 'asc';\n\t\tthis.body_.sort.push(sortEntry);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the query type.\n\t * @param {string} type The query's type. For example: \"count\", \"fetch\".\n\t * @chainnable\n\t */\n\ttype(type) {\n\t\tthis.body_.type = type;\n\t\treturn this;\n\t}\n}\n\nexport default Query;\n","'use strict';\n\nimport ApiHelper from '../ApiHelper';\nimport Query from '../../api-query/Query';\nimport Filter from '../../api-query/Filter';\nimport { assertDefAndNotNull, assertObject, assertResponseSucceeded } from '../assertions';\nimport { core } from 'metal';\n\n/**\n * Class responsible for encapsulate data api calls.\n */\nclass DataApiHelper extends ApiHelper {\n\t/**\n\t * Constructs an {@link DataApiHelper} instance.\n\t * @param {@link WeDeploy} instance.\n\t * @constructor\n\t */\n\tconstructor(wedeployClient) {\n\t\tsuper(wedeployClient);\n\t}\n\n\t/**\n\t * Adds a filter to this request's {@link Query}.\n\t * @param {!Filter|string} fieldOrFilter Either a Filter instance or the\n\t *   name of the field to filter by.\n\t * @param {*=} opt_operatorOrValue Either the field's operator or its value.\n\t * @param {*=} opt_value The filter's value.\n\t * @chainable\n\t */\n\twhere(fieldOrFilter, opt_operatorOrValue, opt_value) {\n\t\tthis.getOrCreateFilter_().and(fieldOrFilter, opt_operatorOrValue, opt_value);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Adds a filter to be composed with this filter using the \"or\" operator.\n\t * @param {!Filter|string} fieldOrFilter Either a {@link Filter} instance or\n\t *   the name of the field to filter by.\n\t * @param {*=} opt_operatorOrValue Either the field's operator or its value.\n\t * @param {*=} opt_value The filter's value.\n\t * @chainnable\n\t */\n\tor(fieldOrFilter, opt_operatorOrValue, opt_value) {\n\t\tif (this.getOrCreateFilter_().body().and.length === 0) {\n\t\t\tthrow Error('It\\'s required to have a condition before using an \\'or()\\' for the first time.');\n\t\t}\n\t\tthis.getOrCreateFilter_().or(fieldOrFilter, opt_operatorOrValue, opt_value);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Adds a filter to be compose with this filter using \"none\" operator.\n\t * @param {string} field The name of the field to filter by.\n\t * @param {!(Array|...*)} args A variable amount of values to be used with\n\t * the \"none\" operator. Can be passed either as a single array or as\n\t * separate params.\n\t * @chainnable\n\t */\n\tnone(field, ...args) {\n\t\treturn this.where(Filter.none(field, args));\n\t}\n\n\t/**\n\t * Adds a filter to be compose with this filter using \"match\" operator.\n\t * @param {string} fieldOrQuery If no second string argument is given, this\n\t * should be the query string, in which case all fields will be matched.\n\t * Otherwise, this should be the name of the field to match.\n\t * @param {string=} opt_query The query string.\n\t * @chainnable\n\t */\n\tmatch(field, value) {\n\t\treturn this.where(Filter.match(field, value));\n\t}\n\n\t/**\n\t * Adds a filter to be compose with this filter using \"similar\" operator.\n\t * @param {string} fieldOrQuery If no second string argument is given, this\n\t * should be the query string, in which case all fields will be matched.\n\t * Otherwise, this should be the name of the field to match.\n\t * @param {?string} query The query string.\n\t * @chainnable\n\t */\n\tsimilar(fieldOrQuery, query) {\n\t\treturn this.where(Filter.similar(fieldOrQuery, query));\n\t}\n\n\t/**\n\t * Returns a {@link Filter} instance that uses the \"<\" operator.\n\t * @param {string} field The name of the field to filter by.\n\t * @param {*} value The filter's value.\n\t * @return {!Filter}\n   * @static\n\t */\n\tlt(field, value) {\n\t\treturn this.where(Filter.lt(field, value));\n\t}\n\n\t/**\n\t * Returns a {@link Filter} instance that uses the \"<=\" operator.\n\t * @param {string} field The name of the field to filter by.\n\t * @param {*} value The filter's value.\n\t * @return {!Filter}\n   * @static\n\t */\n\tlte(field, value) {\n\t\treturn this.where(Filter.lte(field, value));\n\t}\n\n\n\t/**\n\t * Adds a filter to be compose with this filter using \"any\" operator.\n\t * @param {string} field The name of the field to filter by.\n\t * @param {!(Array|...*)} args A variable amount of values to be used with\n\t * the \"none\" operator. Can be passed either as a single array or as\n\t * separate params.\n\t * @chainnable\n\t */\n\tany(field, ...args) {\n\t\treturn this.where(Filter.any(field, args));\n\t}\n\n\t/**\n\t * Adds a filter to be compose with this filter using \"gp\" operator. This is a\n\t * special use case of `Filter.polygon` for bounding boxes.\n\t * @param {string} field The field's name.\n\t * @param {*} boxOrUpperLeft Either a `Geo.BoundingBox` instance, or a\n\t * bounding box's upper left coordinate.\n\t * @param {*=} opt_lowerRight A bounding box's lower right coordinate.\n\t * @chainnable\n\t */\n\tboundingBox(field, boxOrUpperLeft, opt_lowerRight) {\n\t\treturn this.where(Filter.boundingBox(field, boxOrUpperLeft, opt_lowerRight));\n\t}\n\n\t/**\n\t * Adds a filter to be compose with this filter using \"gd\" operator.\n\t * @param {string} field The field's name.\n\t * @param {*} locationOrCircle Either a `Geo.Circle` instance or a\n\t * coordinate.\n\t * @param {Range|string=} opt_rangeOrDistance Either a `Range` instance or\n\t * the distance value.\n\t * @return {!Filter}\n\t * @chainnable\n\t */\n\tdistance(field, locationOrCircle, opt_rangeOrDistance) {\n\t\treturn this.where(Filter.distance(field, locationOrCircle, opt_rangeOrDistance));\n\t}\n\n\t/**\n\t * Adds a filter to be compose with this filter using \"range\" operator.\n\t * @param {string} field The field's name.\n\t * @param {*} rangeOrMin Either a `Range` instance or a the range's min\n\t * value.\n\t * @param {*=} opt_max The range's max value.\n\t * @return {!Filter}\n\t * @chainnable\n\t */\n\trange(field, rangeOrMin, opt_max) {\n\t\treturn this.where(Filter.range(field, rangeOrMin, opt_max));\n\t}\n\n\t/**\n\t * Sets the limit for this request's {@link Query}.\n\t * @param {number} limit The max amount of entries that this request should return.\n\t * @chainable\n\t */\n\tlimit(limit) {\n\t\tthis.getOrCreateQuery_().limit(limit);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets the offset for this request's {@link Query}.\n\t * @param {number} offset The index of the first entry that should be\n\t * returned by this query.\n\t * @chainable\n\t */\n\toffset(offset) {\n\t\tthis.getOrCreateQuery_().offset(offset);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Adds a highlight entry to this request's {@link Query} instance.\n\t * @param {string} field The field's name.\n\t * @chainable\n\t */\n\thighlight(field) {\n\t\tthis.getOrCreateQuery_().highlight(field);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Adds an aggregation to this {@link Query} instance.\n\t * @param {string} name The aggregation name.\n\t * @param {!Aggregation|string} aggregationOrField Either an {@link\n\t * Aggregation} instance or the name of the aggregation field.\n\t * @param {string=} opt_operator The aggregation operator.\n\t * @chainable\n\t */\n\taggregate(name, aggregationOrField, opt_operator) {\n\t\tthis.getOrCreateQuery_().aggregate(name, aggregationOrField, opt_operator);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sets this request's query type to 'count'.\n\t * @chainnable\n\t */\n\tcount() {\n\t\tthis.getOrCreateQuery_().type('count');\n\t\treturn this;\n\t}\n\n\t/**\n\t * Adds a sort query to this request's body.\n\t * @param {string} field The field that the query should be sorted by.\n\t * @param {string=} opt_direction The direction the sort operation should\n\t * use. If none is given, 'asc' is used by default.\n\t * @chainnable\n\t */\n\torderBy(field, opt_direction) {\n\t\tthis.getOrCreateQuery_().sort(field, opt_direction);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Creates an object (or multiple objects) and saves it to WeDeploy data. If\n\t * there's a validation registered in the collection and the request is\n\t * successful, the resulting object (or array of objects) is returned. The\n\t * data parameter can be either an Object or an Array of Objects.\n\t * These Objects describe the attributes on the objects that are to be created.\n\t * ```javascript\n\t * var data = WeDeploy.data('http://demodata.wedeploy.io');\n\t *\n\t * data.create('movies', {'title'=> 'Star Wars: Episode I â€“ The Phantom Menace'})\n\t * \t\t .then(function(movie){\n\t * \t\t\t console.log(movie)\n\t *     });\n\t *\n\t * data.create('movies', [{'title'=> 'Star Wars: Episode II â€“ Attack of the Clones'},\n\t * \t\t\t\t\t\t\t\t\t\t\t\t{'title'=> 'Star Wars: Episode III â€“ Revenge of the Sith'})\n\t * \t\t .then(function(movies){\n\t * \t\t\t console.log(movies)\n\t *     });\n\t * ```\n\t * @param {string} collection Collection (key) used to create the new data.\n\t * @param {Object} data Attributes on the object that is to be created.\n\t * @return {!CancellablePromise}\n\t */\n\tcreate(collection, data) {\n\t\tassertDefAndNotNull(collection, 'Collection key must be specified.');\n\t\tassertObject(data, 'Data can\\'t be empty.');\n\n\t\treturn this.wedeployClient\n\t\t\t.url(this.wedeployClient.dataUrl_)\n\t\t\t.auth(this.helperAuthScope)\n\t\t\t.path(collection)\n\t\t\t.post(data)\n\t\t\t.then(response => assertResponseSucceeded(response))\n\t\t\t.then(response => response.body());\n\t}\n\n\t/**\n\t * Update the attributes of a document form the passed-in object and saves\n\t * the record. If the object is invalid, the saving will fail and an error\n\t * object will be returned.\n\t *\n\t * ```javascript\n\t * var data = WeDeploy.data('http://demodata.wedeploy.io');\n\t *\n\t * data.update('movies/1019112353', {'title'=> 'Star Wars: Episode I'})\n\t * \t\t .then(function(movie){\n\t * \t\t\t console.log(movie)\n\t *     });\n\t * ```\n\t * @param {string} document Key used to update the document.\n\t * @param {Object} data Attributes on the object that is to be updated.\n\t * @return {!CancellablePromise}\n\t */\n\tupdate(document, data) {\n\t\tassertDefAndNotNull(document, 'Document key must be specified.');\n\t\tassertObject(data, 'Data must be specified.');\n\n\t\treturn this.wedeployClient\n\t\t\t.url(this.wedeployClient.dataUrl_)\n\t\t\t.auth(this.helperAuthScope)\n\t\t\t.path(document)\n\t\t\t.put(data)\n\t\t\t.then(response => assertResponseSucceeded(response))\n\t\t\t.then(response => response.body());\n\t}\n\n\t/**\n\t * Deletes a [document/field/collection].\n\t * @param {string} key Key used to delete the\n\t * document/field/collection.\n\t * @return {!CancellablePromise}\n\t */\n\tdelete(key) {\n\t\tassertDefAndNotNull(key, 'Document/Field/Collection key must be specified');\n\n\t\treturn this.wedeployClient\n\t\t\t.url(this.wedeployClient.dataUrl_)\n\t\t\t.auth(this.helperAuthScope)\n\t\t\t.path(key)\n\t\t\t.delete()\n\t\t\t.then(response => assertResponseSucceeded(response))\n\t\t\t.then(() => undefined);\n\t}\n\n\t/**\n\t * Retrieve data from a [document/field/collection].\n\t * @param {string} key Key used to delete the document/field/collection.\n\t * @return {!CancellablePromise}\n\t */\n\tget(key) {\n\t\tassertDefAndNotNull(key, 'Document/Field/Collection key must be specified');\n\n\t\tthis.addFiltersToQuery_();\n\n\t\treturn this.wedeployClient\n\t\t\t.url(this.wedeployClient.dataUrl_)\n\t\t\t.auth(this.helperAuthScope)\n\t\t\t.path(key)\n\t\t\t.get(this.query_)\n\t\t\t.then(response => assertResponseSucceeded(response))\n\t\t\t.then(response => response.body());\n\t}\n\n\t/**\n\t * Retrieve data from a [document/field/collection] and put it in a search\n\t * format.\n\t * @param {string} key Key used to delete the document/field/collection.\n\t * @return {!CancellablePromise}\n\t */\n\tsearch(key) {\n\t\tassertDefAndNotNull(key, 'Document/Field/Collection key must be specified');\n\n\t\tthis.onSearch_();\n\n\t\tthis.addFiltersToQuery_();\n\n\t\treturn this.wedeployClient\n\t\t\t.url(this.wedeployClient.dataUrl_)\n\t\t\t.auth(this.helperAuthScope)\n\t\t\t.path(key)\n\t\t\t.get(this.query_)\n\t\t\t.then(response => assertResponseSucceeded(response))\n\t\t\t.then(response => response.body());\n\t}\n\n\t/**\n\t * Creates new socket.io instance. Monitor the arrival of new broadcasted\n\t * data.\n\t * @param  {string} collection key/collection used to find organized data.\n\t * @param  {Object=} opt_options Object with Socket IO options.\n\t * @return {!io} Socket IO reference. Server events can be listened on it.\n\t */\n\twatch(collection, opt_options) {\n\t\tassertDefAndNotNull(collection, 'Collection key must be specified');\n\n\t\tthis.addFiltersToQuery_();\n\n\t\treturn this.wedeployClient\n\t\t\t.url(this.wedeployClient.dataUrl_)\n\t\t\t.auth(this.helperAuthScope)\n\t\t\t.path(collection)\n\t\t\t.watch(this.query_, opt_options);\n\t}\n\n\t/**\n\t * Gets the currentl used main {@link Filter} object. If none exists yet, a\n\t * new one is created.\n\t * @return {!Query}\n\t * @protected\n\t */\n\tgetOrCreateFilter_() {\n\t\tif (!this.filter_) {\n\t\t\tthis.filter_ = new Filter();\n\t\t}\n\t\treturn this.filter_;\n\t}\n\n\t/**\n\t * Gets the currently used {@link Query} object. If none exists yet,\n\t * a new one is created.\n\t * @return {!Query}\n\t * @protected\n\t */\n\tgetOrCreateQuery_() {\n\t\tif (!this.query_) {\n\t\t\tthis.query_ = new Query();\n\t\t}\n\t\treturn this.query_;\n\t}\n\n\t/**\n\t * Load the currently used main {@link Filter} object into the currently\n\t * used {@link Query}.\n\t * @chainable\n\t * @protected\n\t */\n\taddFiltersToQuery_() {\n\t\tif (core.isDef(this.filter_) && this.toSearch_ !== true) {\n\t\t\tthis.getOrCreateQuery_().filter(this.filter_);\n\t\t}\n\t\treturn this;\n\t}\n\n\t/**\n\t * Adds a search to this request's {@link Query} instance.\n\t * @chainable\n\t * @protected\n\t */\n\tonSearch_() {\n\t\tif (core.isDef(this.filter_)) {\n\t\t\tthis.getOrCreateQuery_().search(this.getOrCreateFilter_());\n\t\t} else {\n\t\t\tthrow Error('It\\'s required to have a condition before using an \\'search()\\' for the first time.');\n\t\t}\n\t\tthis.toSearch_ = true;\n\t\treturn this;\n\t}\n\n}\n\nexport default DataApiHelper;\n","'use strict';\n\n/**\n * Abstraction layer for string to base64 conversion\n * reference: https://github.com/nodejs/node/issues/3462\n */\nclass Base64 {\n\t/**\n\t * Creates a base-64 encoded ASCII string from a \"string\" of binary data.\n\t * @param {string} string to be encoded.\n\t * @return {string}\n\t * @static\n\t */\n\tstatic encodeString(string) {\n\t\tif (typeof btoa === 'function') {\n\t\t\treturn btoa(string);\n\t\t}\n\n\t\treturn new Buffer(string.toString(), 'binary');\n\t}\n}\n\nexport default Base64;\n","/*!\n * Promises polyfill from Google's Closure Library.\n *\n *      Copyright 2013 The Closure Library Authors. All Rights Reserved.\n *\n * NOTE(eduardo): Promise support is not ready on all supported browsers,\n * therefore metal-promise is temporarily using Google's promises as polyfill.\n * It supports cancellable promises and has clean and fast implementation.\n */\n\n'use strict';\n\nimport { isDef, isFunction, isObject } from 'metal';\nimport { async } from 'metal';\n\n/**\n * Provides a more strict interface for Thenables in terms of\n * http://promisesaplus.com for interop with {@see CancellablePromise}.\n *\n * @interface\n * @extends {IThenable.<TYPE>}\n * @template TYPE\n */\nvar Thenable = function() {};\n\n/**\n * Adds callbacks that will operate on the result of the Thenable, returning a\n * new child Promise.\n *\n * If the Thenable is fulfilled, the {@code onFulfilled} callback will be\n * invoked with the fulfillment value as argument, and the child Promise will\n * be fulfilled with the return value of the callback. If the callback throws\n * an exception, the child Promise will be rejected with the thrown value\n * instead.\n *\n * If the Thenable is rejected, the {@code onRejected} callback will be invoked\n * with the rejection reason as argument, and the child Promise will be rejected\n * with the return value of the callback or thrown value.\n *\n * @param {?(function(this:THIS, TYPE):\n *             (RESULT|IThenable.<RESULT>|Thenable))=} opt_onFulfilled A\n *     function that will be invoked with the fulfillment value if the Promise\n *     is fullfilled.\n * @param {?(function(*): *)=} opt_onRejected A function that will be invoked\n *     with the rejection reason if the Promise is rejected.\n * @param {THIS=} opt_context An optional context object that will be the\n *     execution context for the callbacks. By default, functions are executed\n *     with the default this.\n * @return {!CancellablePromise.<RESULT>} A new Promise that will receive the\n *     result of the fulfillment or rejection callback.\n * @template RESULT,THIS\n */\nThenable.prototype.then = function() {};\n\n\n/**\n * An expando property to indicate that an object implements\n * {@code Thenable}.\n *\n * {@see addImplementation}.\n *\n * @const\n */\nThenable.IMPLEMENTED_BY_PROP = '$goog_Thenable';\n\n\n/**\n * Marks a given class (constructor) as an implementation of Thenable, so\n * that we can query that fact at runtime. The class must have already\n * implemented the interface.\n * Exports a 'then' method on the constructor prototype, so that the objects\n * also implement the extern {@see Thenable} interface for interop with\n * other Promise implementations.\n * @param {function(new:Thenable,...[?])} ctor The class constructor. The\n *     corresponding class must have already implemented the interface.\n */\nThenable.addImplementation = function(ctor) {\n  ctor.prototype.then = ctor.prototype.then;\n  ctor.prototype.$goog_Thenable = true;\n};\n\n\n/**\n * @param {*} object\n * @return {boolean} Whether a given instance implements {@code Thenable}.\n *     The class/superclass of the instance must call {@code addImplementation}.\n */\nThenable.isImplementedBy = function(object) {\n  if (!object) {\n    return false;\n  }\n  try {\n    return !!object.$goog_Thenable;\n  } catch (e) {\n    // Property access seems to be forbidden.\n    return false;\n  }\n};\n\n\n/**\n * Like bind(), except that a 'this object' is not required. Useful when the\n * target function is already bound.\n *\n * Usage:\n * var g = partial(f, arg1, arg2);\n * g(arg3, arg4);\n *\n * @param {Function} fn A function to partially apply.\n * @param {...*} var_args Additional arguments that are partially applied to fn.\n * @return {!Function} A partially-applied form of the function bind() was\n *     invoked as a method of.\n */\nvar partial = function(fn) {\n  var args = Array.prototype.slice.call(arguments, 1);\n  return function() {\n    // Clone the array (with slice()) and append additional arguments\n    // to the existing arguments.\n    var newArgs = args.slice();\n    newArgs.push.apply(newArgs, arguments);\n    return fn.apply(this, newArgs);\n  };\n};\n\n/**\n * Promises provide a result that may be resolved asynchronously. A Promise may\n * be resolved by being fulfilled or rejected with a value, which will be known\n * as the fulfillment value or the rejection reason. Whether fulfilled or\n * rejected, the Promise result is immutable once it is set.\n *\n * Promises may represent results of any type, including undefined. Rejection\n * reasons are typically Errors, but may also be of any type. Closure Promises\n * allow for optional type annotations that enforce that fulfillment values are\n * of the appropriate types at compile time.\n *\n * The result of a Promise is accessible by calling {@code then} and registering\n * {@code onFulfilled} and {@code onRejected} callbacks. Once the Promise\n * resolves, the relevant callbacks are invoked with the fulfillment value or\n * rejection reason as argument. Callbacks are always invoked in the order they\n * were registered, even when additional {@code then} calls are made from inside\n * another callback. A callback is always run asynchronously sometime after the\n * scope containing the registering {@code then} invocation has returned.\n *\n * If a Promise is resolved with another Promise, the first Promise will block\n * until the second is resolved, and then assumes the same result as the second\n * Promise. This allows Promises to depend on the results of other Promises,\n * linking together multiple asynchronous operations.\n *\n * This implementation is compatible with the Promises/A+ specification and\n * passes that specification's conformance test suite. A Closure Promise may be\n * resolved with a Promise instance (or sufficiently compatible Promise-like\n * object) created by other Promise implementations. From the specification,\n * Promise-like objects are known as \"Thenables\".\n *\n * @see http://promisesaplus.com/\n *\n * @param {function(\n *             this:RESOLVER_CONTEXT,\n *             function((TYPE|IThenable.<TYPE>|Thenable)),\n *             function(*)): void} resolver\n *     Initialization function that is invoked immediately with {@code resolve}\n *     and {@code reject} functions as arguments. The Promise is resolved or\n *     rejected with the first argument passed to either function.\n * @param {RESOLVER_CONTEXT=} opt_context An optional context for executing the\n *     resolver function. If unspecified, the resolver function will be executed\n *     in the default scope.\n * @constructor\n * @struct\n * @final\n * @implements {Thenable.<TYPE>}\n * @template TYPE,RESOLVER_CONTEXT\n */\nvar CancellablePromise = function(resolver, opt_context) {\n  /**\n   * The internal state of this Promise. Either PENDING, FULFILLED, REJECTED, or\n   * BLOCKED.\n   * @private {CancellablePromise.State_}\n   */\n  this.state_ = CancellablePromise.State_.PENDING;\n\n  /**\n   * The resolved result of the Promise. Immutable once set with either a\n   * fulfillment value or rejection reason.\n   * @private {*}\n   */\n  this.result_ = undefined;\n\n  /**\n   * For Promises created by calling {@code then()}, the originating parent.\n   * @private {CancellablePromise}\n   */\n  this.parent_ = null;\n\n  /**\n   * The list of {@code onFulfilled} and {@code onRejected} callbacks added to\n   * this Promise by calls to {@code then()}.\n   * @private {Array.<CancellablePromise.CallbackEntry_>}\n   */\n  this.callbackEntries_ = null;\n\n  /**\n   * Whether the Promise is in the queue of Promises to execute.\n   * @private {boolean}\n   */\n  this.executing_ = false;\n\n  if (CancellablePromise.UNHANDLED_REJECTION_DELAY > 0) {\n    /**\n     * A timeout ID used when the {@code UNHANDLED_REJECTION_DELAY} is greater\n     * than 0 milliseconds. The ID is set when the Promise is rejected, and\n     * cleared only if an {@code onRejected} callback is invoked for the\n     * Promise (or one of its descendants) before the delay is exceeded.\n     *\n     * If the rejection is not handled before the timeout completes, the\n     * rejection reason is passed to the unhandled rejection handler.\n     * @private {number}\n     */\n    this.unhandledRejectionId_ = 0;\n  } else if (CancellablePromise.UNHANDLED_REJECTION_DELAY === 0) {\n    /**\n     * When the {@code UNHANDLED_REJECTION_DELAY} is set to 0 milliseconds, a\n     * boolean that is set if the Promise is rejected, and reset to false if an\n     * {@code onRejected} callback is invoked for the Promise (or one of its\n     * descendants). If the rejection is not handled before the next timestep,\n     * the rejection reason is passed to the unhandled rejection handler.\n     * @private {boolean}\n     */\n    this.hadUnhandledRejection_ = false;\n  }\n\n  try {\n    var self = this;\n    resolver.call(\n      opt_context, function(value) {\n        self.resolve_(CancellablePromise.State_.FULFILLED, value);\n      }, function(reason) {\n        self.resolve_(CancellablePromise.State_.REJECTED, reason);\n      });\n  } catch (e) {\n    this.resolve_(CancellablePromise.State_.REJECTED, e);\n  }\n};\n\n/**\n * The delay in milliseconds before a rejected Promise's reason is passed to\n * the rejection handler. By default, the rejection handler rethrows the\n * rejection reason so that it appears in the developer console or\n * {@code window.onerror} handler.\n * Rejections are rethrown as quickly as possible by default. A negative value\n * disables rejection handling entirely.\n * @type {number}\n */\nCancellablePromise.UNHANDLED_REJECTION_DELAY = 0;\n\n\n/**\n * The possible internal states for a Promise. These states are not directly\n * observable to external callers.\n * @enum {number}\n * @private\n */\nCancellablePromise.State_ = {\n  /** The Promise is waiting for resolution. */\n  PENDING: 0,\n\n  /** The Promise is blocked waiting for the result of another Thenable. */\n  BLOCKED: 1,\n\n  /** The Promise has been resolved with a fulfillment value. */\n  FULFILLED: 2,\n\n  /** The Promise has been resolved with a rejection reason. */\n  REJECTED: 3\n};\n\n\n/**\n * Typedef for entries in the callback chain. Each call to {@code then},\n * {@code thenCatch}, or {@code thenAlways} creates an entry containing the\n * functions that may be invoked once the Promise is resolved.\n *\n * @typedef {{\n *   child: CancellablePromise,\n *   onFulfilled: function(*),\n *   onRejected: function(*)\n * }}\n * @private\n */\nCancellablePromise.CallbackEntry_ = null;\n\n\n/**\n * @param {(TYPE|Thenable.<TYPE>|Thenable)=} opt_value\n * @return {!CancellablePromise.<TYPE>} A new Promise that is immediately resolved\n *     with the given value.\n * @template TYPE\n */\nCancellablePromise.resolve = function(opt_value) {\n  return new CancellablePromise(function(resolve) {\n      resolve(opt_value);\n    });\n};\n\n\n/**\n * @param {*=} opt_reason\n * @return {!CancellablePromise} A new Promise that is immediately rejected with the\n *     given reason.\n */\nCancellablePromise.reject = function(opt_reason) {\n  return new CancellablePromise(function(resolve, reject) {\n      reject(opt_reason);\n    });\n};\n\n\n/**\n * @param {!Array.<!(Thenable.<TYPE>|Thenable)>} promises\n * @return {!CancellablePromise.<TYPE>} A Promise that receives the result of the\n *     first Promise (or Promise-like) input to complete.\n * @template TYPE\n */\nCancellablePromise.race = function(promises) {\n  return new CancellablePromise(function(resolve, reject) {\n      if (!promises.length) {\n        resolve(undefined);\n      }\n      for (var i = 0, promise; (promise = promises[i]); i++) {\n        promise.then(resolve, reject);\n      }\n    });\n};\n\n\n/**\n * @param {!Array.<!(Thenable.<TYPE>|Thenable)>} promises\n * @return {!CancellablePromise.<!Array.<TYPE>>} A Promise that receives a list of\n *     every fulfilled value once every input Promise (or Promise-like) is\n *     successfully fulfilled, or is rejected by the first rejection result.\n * @template TYPE\n */\nCancellablePromise.all = function(promises) {\n  return new CancellablePromise(function(resolve, reject) {\n      var toFulfill = promises.length;\n      var values = [];\n\n      if (!toFulfill) {\n        resolve(values);\n        return;\n      }\n\n      var onFulfill = function(index, value) {\n        toFulfill--;\n        values[index] = value;\n        if (toFulfill === 0) {\n          resolve(values);\n        }\n      };\n\n      var onReject = function(reason) {\n        reject(reason);\n      };\n\n      for (var i = 0, promise; (promise = promises[i]); i++) {\n        promise.then(partial(onFulfill, i), onReject);\n      }\n    });\n};\n\n\n/**\n * @param {!Array.<!(Thenable.<TYPE>|Thenable)>} promises\n * @return {!CancellablePromise.<TYPE>} A Promise that receives the value of\n *     the first input to be fulfilled, or is rejected with a list of every\n *     rejection reason if all inputs are rejected.\n * @template TYPE\n */\nCancellablePromise.firstFulfilled = function(promises) {\n  return new CancellablePromise(function(resolve, reject) {\n      var toReject = promises.length;\n      var reasons = [];\n\n      if (!toReject) {\n        resolve(undefined);\n        return;\n      }\n\n      var onFulfill = function(value) {\n        resolve(value);\n      };\n\n      var onReject = function(index, reason) {\n        toReject--;\n        reasons[index] = reason;\n        if (toReject === 0) {\n          reject(reasons);\n        }\n      };\n\n      for (var i = 0, promise; (promise = promises[i]); i++) {\n        promise.then(onFulfill, partial(onReject, i));\n      }\n    });\n};\n\n\n/**\n * Adds callbacks that will operate on the result of the Promise, returning a\n * new child Promise.\n *\n * If the Promise is fulfilled, the {@code onFulfilled} callback will be invoked\n * with the fulfillment value as argument, and the child Promise will be\n * fulfilled with the return value of the callback. If the callback throws an\n * exception, the child Promise will be rejected with the thrown value instead.\n *\n * If the Promise is rejected, the {@code onRejected} callback will be invoked\n * with the rejection reason as argument, and the child Promise will be rejected\n * with the return value (or thrown value) of the callback.\n *\n * @override\n */\nCancellablePromise.prototype.then = function(opt_onFulfilled, opt_onRejected, opt_context) {\n  return this.addChildPromise_(\n    isFunction(opt_onFulfilled) ? opt_onFulfilled : null,\n    isFunction(opt_onRejected) ? opt_onRejected : null,\n    opt_context);\n};\nThenable.addImplementation(CancellablePromise);\n\n\n/**\n * Adds a callback that will be invoked whether the Promise is fulfilled or\n * rejected. The callback receives no argument, and no new child Promise is\n * created. This is useful for ensuring that cleanup takes place after certain\n * asynchronous operations. Callbacks added with {@code thenAlways} will be\n * executed in the same order with other calls to {@code then},\n * {@code thenAlways}, or {@code thenCatch}.\n *\n * Since it does not produce a new child Promise, cancellation propagation is\n * not prevented by adding callbacks with {@code thenAlways}. A Promise that has\n * a cleanup handler added with {@code thenAlways} will be canceled if all of\n * its children created by {@code then} (or {@code thenCatch}) are canceled.\n *\n * @param {function(this:THIS): void} onResolved A function that will be invoked\n *     when the Promise is resolved.\n * @param {THIS=} opt_context An optional context object that will be the\n *     execution context for the callbacks. By default, functions are executed\n *     in the global scope.\n * @return {!CancellablePromise.<TYPE>} This Promise, for chaining additional calls.\n * @template THIS\n */\nCancellablePromise.prototype.thenAlways = function(onResolved, opt_context) {\n  var callback = function() {\n    try {\n      // Ensure that no arguments are passed to onResolved.\n      onResolved.call(opt_context);\n    } catch (err) {\n      CancellablePromise.handleRejection_.call(null, err);\n    }\n  };\n\n  this.addCallbackEntry_({\n    child: null,\n    onRejected: callback,\n    onFulfilled: callback\n  });\n  return this;\n};\n\n\n/**\n * Adds a callback that will be invoked only if the Promise is rejected. This\n * is equivalent to {@code then(null, onRejected)}.\n *\n * @param {!function(this:THIS, *): *} onRejected A function that will be\n *     invoked with the rejection reason if the Promise is rejected.\n * @param {THIS=} opt_context An optional context object that will be the\n *     execution context for the callbacks. By default, functions are executed\n *     in the global scope.\n * @return {!CancellablePromise} A new Promise that will receive the result of the\n *     callback.\n * @template THIS\n */\nCancellablePromise.prototype.thenCatch = function(onRejected, opt_context) {\n  return this.addChildPromise_(null, onRejected, opt_context);\n};\n\n/**\n * Alias of {@link CancellablePromise.prototype.thenCatch}\n */\nCancellablePromise.prototype.catch = CancellablePromise.prototype.thenCatch;\n\n\n/**\n * Cancels the Promise if it is still pending by rejecting it with a cancel\n * Error. No action is performed if the Promise is already resolved.\n *\n * All child Promises of the canceled Promise will be rejected with the same\n * cancel error, as with normal Promise rejection. If the Promise to be canceled\n * is the only child of a pending Promise, the parent Promise will also be\n * canceled. Cancellation may propagate upward through multiple generations.\n *\n * @param {string=} opt_message An optional debugging message for describing the\n *     cancellation reason.\n */\nCancellablePromise.prototype.cancel = function(opt_message) {\n  if (this.state_ === CancellablePromise.State_.PENDING) {\n    async.run(function() {\n      var err = new CancellablePromise.CancellationError(opt_message);\n      err.IS_CANCELLATION_ERROR = true;\n      this.cancelInternal_(err);\n    }, this);\n  }\n};\n\n\n/**\n * Cancels this Promise with the given error.\n *\n * @param {!Error} err The cancellation error.\n * @private\n */\nCancellablePromise.prototype.cancelInternal_ = function(err) {\n  if (this.state_ === CancellablePromise.State_.PENDING) {\n    if (this.parent_) {\n      // Cancel the Promise and remove it from the parent's child list.\n      this.parent_.cancelChild_(this, err);\n    } else {\n      this.resolve_(CancellablePromise.State_.REJECTED, err);\n    }\n  }\n};\n\n\n/**\n * Cancels a child Promise from the list of callback entries. If the Promise has\n * not already been resolved, reject it with a cancel error. If there are no\n * other children in the list of callback entries, propagate the cancellation\n * by canceling this Promise as well.\n *\n * @param {!CancellablePromise} childPromise The Promise to cancel.\n * @param {!Error} err The cancel error to use for rejecting the Promise.\n * @private\n */\nCancellablePromise.prototype.cancelChild_ = function(childPromise, err) {\n  if (!this.callbackEntries_) {\n    return;\n  }\n  var childCount = 0;\n  var childIndex = -1;\n\n  // Find the callback entry for the childPromise, and count whether there are\n  // additional child Promises.\n  for (var i = 0, entry; (entry = this.callbackEntries_[i]); i++) {\n    var child = entry.child;\n    if (child) {\n      childCount++;\n      if (child === childPromise) {\n        childIndex = i;\n      }\n      if (childIndex >= 0 && childCount > 1) {\n        break;\n      }\n    }\n  }\n\n  // If the child Promise was the only child, cancel this Promise as well.\n  // Otherwise, reject only the child Promise with the cancel error.\n  if (childIndex >= 0) {\n    if (this.state_ === CancellablePromise.State_.PENDING && childCount === 1) {\n      this.cancelInternal_(err);\n    } else {\n      var callbackEntry = this.callbackEntries_.splice(childIndex, 1)[0];\n      this.executeCallback_(\n        callbackEntry, CancellablePromise.State_.REJECTED, err);\n    }\n  }\n};\n\n\n/**\n * Adds a callback entry to the current Promise, and schedules callback\n * execution if the Promise has already been resolved.\n *\n * @param {CancellablePromise.CallbackEntry_} callbackEntry Record containing\n *     {@code onFulfilled} and {@code onRejected} callbacks to execute after\n *     the Promise is resolved.\n * @private\n */\nCancellablePromise.prototype.addCallbackEntry_ = function(callbackEntry) {\n  if ((!this.callbackEntries_ || !this.callbackEntries_.length) &&\n    (this.state_ === CancellablePromise.State_.FULFILLED ||\n    this.state_ === CancellablePromise.State_.REJECTED)) {\n    this.scheduleCallbacks_();\n  }\n  if (!this.callbackEntries_) {\n    this.callbackEntries_ = [];\n  }\n  this.callbackEntries_.push(callbackEntry);\n};\n\n\n/**\n * Creates a child Promise and adds it to the callback entry list. The result of\n * the child Promise is determined by the state of the parent Promise and the\n * result of the {@code onFulfilled} or {@code onRejected} callbacks as\n * specified in the Promise resolution procedure.\n *\n * @see http://promisesaplus.com/#the__method\n *\n * @param {?function(this:THIS, TYPE):\n *          (RESULT|CancellablePromise.<RESULT>|Thenable)} onFulfilled A callback that\n *     will be invoked if the Promise is fullfilled, or null.\n * @param {?function(this:THIS, *): *} onRejected A callback that will be\n *     invoked if the Promise is rejected, or null.\n * @param {THIS=} opt_context An optional execution context for the callbacks.\n *     in the default calling context.\n * @return {!CancellablePromise} The child Promise.\n * @template RESULT,THIS\n * @private\n */\nCancellablePromise.prototype.addChildPromise_ = function(\nonFulfilled, onRejected, opt_context) {\n\n  var callbackEntry = {\n    child: null,\n    onFulfilled: null,\n    onRejected: null\n  };\n\n  callbackEntry.child = new CancellablePromise(function(resolve, reject) {\n    // Invoke onFulfilled, or resolve with the parent's value if absent.\n    callbackEntry.onFulfilled = onFulfilled ? function(value) {\n      try {\n        var result = onFulfilled.call(opt_context, value);\n        resolve(result);\n      } catch (err) {\n        reject(err);\n      }\n    } : resolve;\n\n    // Invoke onRejected, or reject with the parent's reason if absent.\n    callbackEntry.onRejected = onRejected ? function(reason) {\n      try {\n        var result = onRejected.call(opt_context, reason);\n        if (!isDef(result) && reason.IS_CANCELLATION_ERROR) {\n          // Propagate cancellation to children if no other result is returned.\n          reject(reason);\n        } else {\n          resolve(result);\n        }\n      } catch (err) {\n        reject(err);\n      }\n    } : reject;\n  });\n\n  callbackEntry.child.parent_ = this;\n  this.addCallbackEntry_(\n    /** @type {CancellablePromise.CallbackEntry_} */ (callbackEntry));\n  return callbackEntry.child;\n};\n\n\n/**\n * Unblocks the Promise and fulfills it with the given value.\n *\n * @param {TYPE} value\n * @private\n */\nCancellablePromise.prototype.unblockAndFulfill_ = function(value) {\n  if (this.state_ !== CancellablePromise.State_.BLOCKED) {\n    throw new Error('CancellablePromise is not blocked.');\n  }\n  this.state_ = CancellablePromise.State_.PENDING;\n  this.resolve_(CancellablePromise.State_.FULFILLED, value);\n};\n\n\n/**\n * Unblocks the Promise and rejects it with the given rejection reason.\n *\n * @param {*} reason\n * @private\n */\nCancellablePromise.prototype.unblockAndReject_ = function(reason) {\n  if (this.state_ !== CancellablePromise.State_.BLOCKED) {\n    throw new Error('CancellablePromise is not blocked.');\n  }\n  this.state_ = CancellablePromise.State_.PENDING;\n  this.resolve_(CancellablePromise.State_.REJECTED, reason);\n};\n\n\n/**\n * Attempts to resolve a Promise with a given resolution state and value. This\n * is a no-op if the given Promise has already been resolved.\n *\n * If the given result is a Thenable (such as another Promise), the Promise will\n * be resolved with the same state and result as the Thenable once it is itself\n * resolved.\n *\n * If the given result is not a Thenable, the Promise will be fulfilled or\n * rejected with that result based on the given state.\n *\n * @see http://promisesaplus.com/#the_promise_resolution_procedure\n *\n * @param {CancellablePromise.State_} state\n * @param {*} x The result to apply to the Promise.\n * @private\n */\nCancellablePromise.prototype.resolve_ = function(state, x) {\n  if (this.state_ !== CancellablePromise.State_.PENDING) {\n    return;\n  }\n\n  if (this === x) {\n    state = CancellablePromise.State_.REJECTED;\n    x = new TypeError('CancellablePromise cannot resolve to itself');\n\n  } else if (Thenable.isImplementedBy(x)) {\n    x = /** @type {!Thenable} */ (x);\n    this.state_ = CancellablePromise.State_.BLOCKED;\n    x.then(this.unblockAndFulfill_, this.unblockAndReject_, this);\n    return;\n\n  } else if (isObject(x)) {\n    try {\n      var then = x.then;\n      if (isFunction(then)) {\n        this.tryThen_(x, then);\n        return;\n      }\n    } catch (e) {\n      state = CancellablePromise.State_.REJECTED;\n      x = e;\n    }\n  }\n\n  this.result_ = x;\n  this.state_ = state;\n  this.scheduleCallbacks_();\n\n  if (state === CancellablePromise.State_.REJECTED && !x.IS_CANCELLATION_ERROR) {\n    CancellablePromise.addUnhandledRejection_(this, x);\n  }\n};\n\n\n/**\n * Attempts to call the {@code then} method on an object in the hopes that it is\n * a Promise-compatible instance. This allows interoperation between different\n * Promise implementations, however a non-compliant object may cause a Promise\n * to hang indefinitely. If the {@code then} method throws an exception, the\n * dependent Promise will be rejected with the thrown value.\n *\n * @see http://promisesaplus.com/#point-70\n *\n * @param {Thenable} thenable An object with a {@code then} method that may be\n *     compatible with the Promise/A+ specification.\n * @param {!Function} then The {@code then} method of the Thenable object.\n * @private\n */\nCancellablePromise.prototype.tryThen_ = function(thenable, then) {\n  this.state_ = CancellablePromise.State_.BLOCKED;\n  var promise = this;\n  var called = false;\n\n  var resolve = function(value) {\n    if (!called) {\n      called = true;\n      promise.unblockAndFulfill_(value);\n    }\n  };\n\n  var reject = function(reason) {\n    if (!called) {\n      called = true;\n      promise.unblockAndReject_(reason);\n    }\n  };\n\n  try {\n    then.call(thenable, resolve, reject);\n  } catch (e) {\n    reject(e);\n  }\n};\n\n\n/**\n * Executes the pending callbacks of a resolved Promise after a timeout.\n *\n * Section 2.2.4 of the Promises/A+ specification requires that Promise\n * callbacks must only be invoked from a call stack that only contains Promise\n * implementation code, which we accomplish by invoking callback execution after\n * a timeout. If {@code startExecution_} is called multiple times for the same\n * Promise, the callback chain will be evaluated only once. Additional callbacks\n * may be added during the evaluation phase, and will be executed in the same\n * event loop.\n *\n * All Promises added to the waiting list during the same browser event loop\n * will be executed in one batch to avoid using a separate timeout per Promise.\n *\n * @private\n */\nCancellablePromise.prototype.scheduleCallbacks_ = function() {\n  if (!this.executing_) {\n    this.executing_ = true;\n    async.run(this.executeCallbacks_, this);\n  }\n};\n\n\n/**\n * Executes all pending callbacks for this Promise.\n *\n * @private\n */\nCancellablePromise.prototype.executeCallbacks_ = function() {\n  while (this.callbackEntries_ && this.callbackEntries_.length) {\n    var entries = this.callbackEntries_;\n    this.callbackEntries_ = [];\n\n    for (var i = 0; i < entries.length; i++) {\n      this.executeCallback_(entries[i], this.state_, this.result_);\n    }\n  }\n  this.executing_ = false;\n};\n\n\n/**\n * Executes a pending callback for this Promise. Invokes an {@code onFulfilled}\n * or {@code onRejected} callback based on the resolved state of the Promise.\n *\n * @param {!CancellablePromise.CallbackEntry_} callbackEntry An entry containing the\n *     onFulfilled and/or onRejected callbacks for this step.\n * @param {CancellablePromise.State_} state The resolution status of the Promise,\n *     either FULFILLED or REJECTED.\n * @param {*} result The resolved result of the Promise.\n * @private\n */\nCancellablePromise.prototype.executeCallback_ = function(\ncallbackEntry, state, result) {\n  if (state === CancellablePromise.State_.FULFILLED) {\n    callbackEntry.onFulfilled(result);\n  } else {\n    this.removeUnhandledRejection_();\n    callbackEntry.onRejected(result);\n  }\n};\n\n\n/**\n * Marks this rejected Promise as having being handled. Also marks any parent\n * Promises in the rejected state as handled. The rejection handler will no\n * longer be invoked for this Promise (if it has not been called already).\n *\n * @private\n */\nCancellablePromise.prototype.removeUnhandledRejection_ = function() {\n  var p;\n  if (CancellablePromise.UNHANDLED_REJECTION_DELAY > 0) {\n    for (p = this; p && p.unhandledRejectionId_; p = p.parent_) {\n      clearTimeout(p.unhandledRejectionId_);\n      p.unhandledRejectionId_ = 0;\n    }\n  } else if (CancellablePromise.UNHANDLED_REJECTION_DELAY === 0) {\n    for (p = this; p && p.hadUnhandledRejection_; p = p.parent_) {\n      p.hadUnhandledRejection_ = false;\n    }\n  }\n};\n\n\n/**\n * Marks this rejected Promise as unhandled. If no {@code onRejected} callback\n * is called for this Promise before the {@code UNHANDLED_REJECTION_DELAY}\n * expires, the reason will be passed to the unhandled rejection handler. The\n * handler typically rethrows the rejection reason so that it becomes visible in\n * the developer console.\n *\n * @param {!CancellablePromise} promise The rejected Promise.\n * @param {*} reason The Promise rejection reason.\n * @private\n */\nCancellablePromise.addUnhandledRejection_ = function(promise, reason) {\n  if (CancellablePromise.UNHANDLED_REJECTION_DELAY > 0) {\n    promise.unhandledRejectionId_ = setTimeout(function() {\n      CancellablePromise.handleRejection_.call(null, reason);\n    }, CancellablePromise.UNHANDLED_REJECTION_DELAY);\n\n  } else if (CancellablePromise.UNHANDLED_REJECTION_DELAY === 0) {\n    promise.hadUnhandledRejection_ = true;\n    async.run(function() {\n      if (promise.hadUnhandledRejection_) {\n        CancellablePromise.handleRejection_.call(null, reason);\n      }\n    });\n  }\n};\n\n\n/**\n * A method that is invoked with the rejection reasons for Promises that are\n * rejected but have no {@code onRejected} callbacks registered yet.\n * @type {function(*)}\n * @private\n */\nCancellablePromise.handleRejection_ = async.throwException;\n\n\n/**\n * Sets a handler that will be called with reasons from unhandled rejected\n * Promises. If the rejected Promise (or one of its descendants) has an\n * {@code onRejected} callback registered, the rejection will be considered\n * handled, and the rejection handler will not be called.\n *\n * By default, unhandled rejections are rethrown so that the error may be\n * captured by the developer console or a {@code window.onerror} handler.\n *\n * @param {function(*)} handler A function that will be called with reasons from\n *     rejected Promises. Defaults to {@code async.throwException}.\n */\nCancellablePromise.setUnhandledRejectionHandler = function(handler) {\n  CancellablePromise.handleRejection_ = handler;\n};\n\n\n\n/**\n * Error used as a rejection reason for canceled Promises.\n *\n * @param {string=} opt_message\n * @constructor\n * @extends {Error}\n * @final\n */\nCancellablePromise.CancellationError = class extends Error {\n  constructor(opt_message) {\n     super(opt_message);\n\n     if (opt_message) {\n       this.message = opt_message;\n     }\n   }\n};\n\n/** @override */\nCancellablePromise.CancellationError.prototype.name = 'cancel';\n\nexport {CancellablePromise};\nexport default CancellablePromise;\n","'use strict';\n\nimport { isDef, isDefAndNotNull } from 'metal';\nimport Uri from 'metal-uri';\nimport { CancellablePromise as Promise } from 'metal-promise';\n\nclass Ajax {\n\n\t/**\n\t * XmlHttpRequest's getAllResponseHeaders() method returns a string of\n\t * response headers according to the format described on the spec:\n\t * {@link http://www.w3.org/TR/XMLHttpRequest/#the-getallresponseheaders-method}.\n\t * This method parses that string into a user-friendly name/value pair\n\t * object.\n\t * @param {string} allHeaders All headers as string.\n\t * @return {!Array.<Object<string, string>>}\n\t */\n\tstatic parseResponseHeaders(allHeaders) {\n\t\tvar headers = [];\n\t\tif (!allHeaders) {\n\t\t\treturn headers;\n\t\t}\n\t\tvar pairs = allHeaders.split('\\u000d\\u000a');\n\t\tfor (var i = 0; i < pairs.length; i++) {\n\t\t\tvar index = pairs[i].indexOf('\\u003a\\u0020');\n\t\t\tif (index > 0) {\n\t\t\t\tvar name = pairs[i].substring(0, index);\n\t\t\t\tvar value = pairs[i].substring(index + 2);\n\t\t\t\theaders.push({\n\t\t\t\t\tname: name,\n\t\t\t\t\tvalue: value\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\treturn headers;\n\t}\n\n\t/**\n\t * Requests the url using XMLHttpRequest.\n\t * @param {!string} url\n\t * @param {!string} method\n\t * @param {?string} body\n\t * @param {MultiMap=} opt_headers\n\t * @param {MultiMap=} opt_params\n\t * @param {number=} opt_timeout\n\t * @param {boolean=} opt_sync\n\t * @param {boolean=} opt_withCredentials\n\t * @return {Promise} Deferred ajax request.\n\t * @protected\n\t */\n\tstatic request(url, method, body, opt_headers, opt_params, opt_timeout, opt_sync, opt_withCredentials) {\n\t\turl = url || '';\n\t\tmethod = method || 'GET';\n\n\t\tvar request = new XMLHttpRequest();\n\n\t\tvar promise = new Promise(function(resolve, reject) {\n\t\t\trequest.onload = function() {\n\t\t\t\tif (request.aborted) {\n\t\t\t\t\trequest.onerror();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tresolve(request);\n\t\t\t};\n\t\t\trequest.onerror = function() {\n\t\t\t\tvar error = new Error('Request error');\n\t\t\t\terror.request = request;\n\t\t\t\treject(error);\n\t\t\t};\n\t\t}).thenCatch(function(reason) {\n\t\t\trequest.abort();\n\t\t\tthrow reason;\n\t\t}).thenAlways(function() {\n\t\t\tclearTimeout(timeout);\n\t\t});\n\n\t\tif (opt_params) {\n\t\t\turl = new Uri(url).addParametersFromMultiMap(opt_params).toString();\n\t\t}\n\n\t\trequest.open(method, url, !opt_sync);\n\n\t\tif (opt_withCredentials) {\n\t\t\trequest.withCredentials = true;\n\t\t}\n\n\t\tif (opt_headers) {\n\t\t\topt_headers.names().forEach(function(name) {\n\t\t\t\trequest.setRequestHeader(name, opt_headers.getAll(name).join(', '));\n\t\t\t});\n\t\t}\n\n\t\trequest.send(isDef(body) ? body : null);\n\n\t\tif (isDefAndNotNull(opt_timeout)) {\n\t\t\tvar timeout = setTimeout(function() {\n\t\t\t\tpromise.cancel('Request timeout');\n\t\t\t}, opt_timeout);\n\t\t}\n\n\t\treturn promise;\n\t}\n\n}\n\nexport default Ajax;\n","'use strict';\n\n/**\n * Provides a convenient interface for data transport.\n * @interface\n */\nclass Transport {\n\n\t/**\n\t * Sends a message for the specified client.\n\t * @param {!ClientRequest} clientRequest\n\t * @return {!Promise} Deferred request.\n\t */\n\tsend() {}\n\n}\n\nexport default Transport;\n","'use strict';\n\nimport { core } from 'metal';\nimport { MultiMap } from 'metal-structs';\n\n/**\n * Represents a client message (e.g. a request or a response).\n */\nclass ClientMessage {\n\tconstructor() {\n\t\tthis.headers_ = new MultiMap();\n\t}\n\n\t/**\n\t * Fluent getter and setter for request body.\n\t * @param {*=} opt_body Request body to be set. If none is given,\n\t *   the current value of the body will be returned.\n\t * @return {*} Returns request body if no body value was given. Otherwise\n\t *   returns the {@link ClientMessage} object itself, so calls can be chained.\n\t * @chainable Chainable when used as setter.\n\t */\n\tbody(opt_body) {\n\t\tif (core.isDef(opt_body)) {\n\t\t\tthis.body_ = opt_body;\n\t\t\treturn this;\n\t\t}\n\t\treturn this.body_;\n\t}\n\n\t/**\n\t * Adds a header. If a header with the same name already exists, it will not be\n\t * overwritten, but the new value will be stored as well. The order is preserved.\n\t * @param {string} name\n\t * @param {string} value\n\t * @chainable\n\t */\n\theader(name, value) {\n\t\tif (arguments.length !== 2) {\n\t\t\tthrow new Error('Invalid arguments');\n\t\t}\n\t\tthis.headers_.set(name, value);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Fluent getter and setter for request headers.\n\t * @param {MultiMap|Object=} opt_headers Request headers list to\n\t *   be set. If none is given the current value of the headers will\n\t *   be returned.\n\t * @return {!MultiMap|ClientMessage} Returns map of request headers\n\t *   if no new value was given. Otherwise returns the {@link ClientMessage}\n\t *   object itself, so calls can be chained.\n\t * @chainable Chainable when used as setter.\n\t */\n\theaders(opt_headers) {\n\t\tif (core.isDef(opt_headers)) {\n\t\t\tif (opt_headers instanceof MultiMap) {\n\t\t\t\tthis.headers_ = opt_headers;\n\t\t\t} else {\n\t\t\t\tthis.headers_.values = opt_headers;\n\t\t\t}\n\t\t\treturn opt_headers;\n\t\t}\n\t\treturn this.headers_;\n\t}\n\n\t/**\n\t * Removes the body.\n\t */\n\tremoveBody() {\n\t\tthis.body_ = undefined;\n\t}\n}\n\nexport default ClientMessage;\n","'use strict';\n\nimport { core } from 'metal';\nimport ClientMessage from './ClientMessage';\n\n/**\n * Represents a client response object.\n * @extends {ClientMessage}\n */\nclass ClientResponse extends ClientMessage {\n\tconstructor(clientRequest) {\n\t\tsuper();\n\t\tif (!clientRequest) {\n\t\t\tthrow new Error('Can\\'t create response without request');\n\t\t}\n\t\tthis.clientRequest_ = clientRequest;\n\t}\n\n\t/**\n\t * Returns request that created this response.\n\t * @return {!ClientRequest}\n\t */\n\trequest() {\n\t\treturn this.clientRequest_;\n\t}\n\n\t/**\n\t * Fluent getter and setter for response status code.\n\t * @param {number=} opt_statusCode Request status code to be set. If none is given,\n\t *   the current status code value will be returned.\n\t * @return {!ClientMessage|number} Returns response status code if no new value was\n\t *   given. Otherwise returns the {@link ClientMessage} object itself, so calls can\n\t *   be chained.\n\t * @chainable Chainable when used as setter.\n\t */\n\tstatusCode(opt_statusCode) {\n\t\tif (core.isDef(opt_statusCode)) {\n\t\t\tthis.statusCode_ = opt_statusCode;\n\t\t\treturn this;\n\t\t}\n\t\treturn this.statusCode_;\n\t}\n\n\t/**\n\t * Fluent getter and setter for response status text.\n\t * @param {string=} opt_statusText Request status text to be set. If none is given,\n\t *   the current status text value will be returned.\n\t * @return {!ClientMessage|number} Returns response status text if no new value was\n\t *   given. Otherwise returns the {@link ClientMessage} object itself, so calls can\n\t *   be chained.\n\t * @chainable Chainable when used as setter.\n\t */\n\tstatusText(opt_statusText) {\n\t\tif (core.isDef(opt_statusText)) {\n\t\t\tthis.statusText_ = opt_statusText;\n\t\t\treturn this;\n\t\t}\n\t\treturn this.statusText_;\n\t}\n\n\t/**\n\t * Checks if response succeeded. Any status code 2xx or 3xx is considered valid.\n\t * @return {boolean}\n\t */\n\tsucceeded() {\n\t\treturn this.statusCode() >= 200 && this.statusCode() <= 399;\n\t}\n\n}\n\nexport default ClientResponse;\n","'use strict';\n\nimport Ajax from 'metal-ajax';\nimport Transport from '../Transport';\nimport ClientResponse from '../ClientResponse';\n\n/**\n * The implementation of an ajax transport to be used with {@link WeDeploy}.\n * @extends {Transport}\n */\nclass AjaxTransport extends Transport {\n\t/**\n\t * @inheritDoc\n\t */\n\tsend(clientRequest) {\n\t\tvar deferred = Ajax.request(\n\t\t\tclientRequest.url(), clientRequest.method(), clientRequest.body(),\n\t\t\tclientRequest.headers(), clientRequest.params(), null, false, clientRequest.withCredentials());\n\n\t\treturn deferred.then(function(response) {\n\t\t\tvar clientResponse = new ClientResponse(clientRequest);\n\t\t\tclientResponse.body(response.responseText);\n\t\t\tclientResponse.statusCode(response.status);\n\t\t\tclientResponse.statusText(response.statusText);\n\t\t\tAjax.parseResponseHeaders(response.getAllResponseHeaders()).forEach(function(header) {\n\t\t\t\tclientResponse.header(header.name, header.value);\n\t\t\t});\n\t\t\treturn clientResponse;\n\t\t});\n\t}\n}\n\nexport default AjaxTransport;\n","'use strict';\n\nimport AjaxTransport from './browser/AjaxTransport';\n\n/**\n * Provides a factory for data transport.\n */\nclass TransportFactory {\n\tconstructor() {\n\t\tthis.transports = {};\n\t\tthis.transports[TransportFactory.DEFAULT_TRANSPORT_NAME] = TransportFactory[TransportFactory.DEFAULT_TRANSPORT_NAME];\n\t}\n\n\t/**\n\t * Returns {@link TransportFactory} instance.\n\t */\n\tstatic instance() {\n\t\tif (!TransportFactory.instance_) {\n\t\t\tTransportFactory.instance_ = new TransportFactory();\n\t\t}\n\t\treturn TransportFactory.instance_;\n\t}\n\n\t/**\n\t * Gets an instance of the transport implementation with the given name.\n\t * @param {string} implementationName\n\t * @return {!Transport}\n\t */\n\tget(implementationName) {\n\t\tvar TransportClass = this.transports[implementationName];\n\n\t\tif (!TransportClass) {\n\t\t\tthrow new Error('Invalid transport name: ' + implementationName);\n\t\t}\n\n\t\ttry {\n\t\t\treturn new (TransportClass)();\n\t\t} catch (err) {\n\t\t\tthrow new Error('Can\\'t create transport', err);\n\t\t}\n\t}\n\n\t/**\n\t * Returns the default transport implementation.\n\t * @return {!Transport}\n\t */\n\tgetDefault() {\n\t\treturn this.get(TransportFactory.DEFAULT_TRANSPORT_NAME);\n\t}\n}\n\nTransportFactory.DEFAULT_TRANSPORT_NAME = 'default';\n\nTransportFactory[TransportFactory.DEFAULT_TRANSPORT_NAME] = AjaxTransport;\n\nexport default TransportFactory;\n","'use strict';\n\nimport { core } from 'metal';\nimport ClientMessage from './ClientMessage';\nimport { MultiMap } from 'metal-structs';\n\n/**\n * Represents a client request object.\n * @extends {ClientMessage}\n */\nclass ClientRequest extends ClientMessage {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.params_ = new MultiMap();\n\t\tthis.withCredentials_ = true;\n\t}\n\n\t/**\n\t * Fluent getter and setter for with credentials option.\n\t * @param {boolean=} opt_withCredentials\n\t * @chainable Chainable when used as setter.\n\t */\n\twithCredentials(opt_withCredentials) {\n\t\tif (core.isDef(opt_withCredentials)) {\n\t\t\tthis.withCredentials_ = !!opt_withCredentials;\n\t\t\treturn this;\n\t\t}\n\t\treturn this.withCredentials_;\n\t}\n\n\t/**\n\t * Fluent getter and setter for request method.\n\t * @param {string=} opt_method Request method to be set. If none is given,\n\t *   the current method value will be returned.\n\t * @return {!ClientMessage|string} Returns request method if no new value was\n\t *   given. Otherwise returns the {@link ClientMessage} object itself, so\n\t *   calls can be chained.\n\t * @chainable Chainable when used as setter.\n\t */\n\tmethod(opt_method) {\n\t\tif (core.isDef(opt_method)) {\n\t\t\tthis.method_ = opt_method;\n\t\t\treturn this;\n\t\t}\n\t\treturn this.method_ || ClientRequest.DEFAULT_METHOD;\n\t}\n\n\t/**\n\t * Adds a query. If a query with the same name already exists, it will not\n\t * be overwritten, but new value will be stored as well. The order is preserved.\n\t * @param {string} name\n\t * @param {string} value\n\t * @chainable\n\t */\n\tparam(name, value) {\n\t\tif (arguments.length !== 2) {\n\t\t\tthrow new Error('Invalid arguments');\n\t\t}\n\t\tthis.params_.set(name, value);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Fluent getter and setter for request querystring.\n\t * @param {MultiMap|Object=} opt_params Request querystring map to be set.\n\t *   If none is given the current value of the params will be returned.\n\t * @return {!MultiMap|ClientMessage} Returns map of request querystring if\n\t *   no new value was given. Otherwise returns the {@link ClientMessage}\n\t *   object itself, so calls can be chained.\n\t */\n\tparams(opt_params) {\n\t\tif (core.isDef(opt_params)) {\n\t\t\tif (opt_params instanceof MultiMap) {\n\t\t\t\tthis.params_ = opt_params;\n\t\t\t} else {\n\t\t\t\tthis.params_.values = opt_params;\n\t\t\t}\n\t\t\treturn opt_params;\n\t\t}\n\t\treturn this.params_;\n\t}\n\n\t/**\n\t * Fluent getter and setter for request url.\n\t * @param {string=} opt_url Request url to be set. If none is given,\n\t *   the current value of the url will be returned.\n\t * @return {!ClientMessage|string} Returns request url if no new value was given.\n\t *   Otherwise returns the {@link ClientMessage} object itself, so calls can be\n\t *   chained.\n\t * @chainable Chainable when used as setter.\n\t */\n\turl(opt_url) {\n\t\tif (core.isDef(opt_url)) {\n\t\t\tthis.url_ = opt_url;\n\t\t\treturn this;\n\t\t}\n\t\treturn this.url_;\n\t}\n\n}\n\nClientRequest.DEFAULT_METHOD = 'GET';\n\nexport default ClientRequest;\n","'use strict';\n\nimport globals from '../globals/globals';\nimport { core } from 'metal';\nimport Auth from './auth/Auth';\nimport AuthApiHelper from './auth/AuthApiHelper';\nimport DataApiHelper from './data/DataApiHelper';\nimport Base64 from '../crypt/Base64';\nimport Embodied from '../api-query/Embodied';\nimport Query from '../api-query/Query';\nimport Filter from '../api-query/Filter';\nimport TransportFactory from './TransportFactory';\nimport ClientRequest from './ClientRequest';\nimport { MultiMap } from 'metal-structs';\nimport Uri from 'metal-uri';\nimport { assertUriWithNoPath } from './assertions';\n\n\nvar io;\n\n// Optimistic initialization of `io` reference from global `globals.window.io`.\nif (typeof globals.window !== 'undefined') {\n\tio = globals.window.io;\n}\n\n/**\n * The main class for making api requests. Sending requests returns a promise\n * that is resolved when the response arrives. Usage example:\n * ```javascript\n * WeDeploy\n *   .url('/data/tasks')\n *   .post({desc: 'Buy milkl'})\n *   .then(function(response) {\n *     // Handle response here.\n *     console.log(response.body())\n *   });\n * ```\n */\nclass WeDeploy {\n\t/**\n\t * WeDeploy constructor function.\n\t * @param {string} url The base url.\n\t * @param {...string} paths Any amount of paths to be appended to the base\n\t * url.\n\t * @constructor\n\t */\n\tconstructor(url, ...paths) {\n\t\tif (arguments.length === 0) {\n\t\t\tthrow new Error('Invalid arguments, try `new WeDeploy(baseUrl, url)`');\n\t\t}\n\n\t\tthis.auth_ = null;\n\t\tthis.body_ = null;\n\t\tthis.url_ = Uri.joinPaths(url || '', ...paths);\n\t\tthis.headers_ = new MultiMap();\n\t\tthis.params_ = new MultiMap();\n\t\tthis.withCredentials_ = true;\n\n\t\tthis.header('Content-Type', 'application/json');\n\t\tthis.header('X-Requested-With', 'XMLHttpRequest');\n\t}\n\n\t/**\n\t * Static factory for creating WeDeploy data for the given url.\n\t * @param {string=} opt_dataUrl The url that points to the data services.\n\t * @return @return {data} WeDeploy data instance.\n\t */\n\tstatic data(opt_dataUrl) {\n\t\tassertUriWithNoPath(opt_dataUrl, 'The data url should not have a path');\n\n\t\tif (core.isString(opt_dataUrl)) {\n\t\t\tWeDeploy.dataUrl_ = opt_dataUrl;\n\t\t}\n\t\tif (!WeDeploy.data_) {\n\t\t\tWeDeploy.data_ = new DataApiHelper(WeDeploy);\n\t\t\tWeDeploy.data_.auth(WeDeploy.auth().currentUser);\n\t\t}\n\t\treturn WeDeploy.data_;\n\t}\n\n\t/**\n\t * Adds authorization information to this request.\n\t * @param {!Auth|string} authOrTokenOrEmail Either an {@link Auth} instance,\n\t * an authorization token, or the email.\n\t * @param {string=} opt_password If a email is given as the first param,\n\t * this should be the password.\n\t * @chainable\n\t */\n\tauth(authOrTokenOrEmail, opt_password) {\n\t\tthis.auth_ = authOrTokenOrEmail;\n\t\tif (!(this.auth_ instanceof Auth)) {\n\t\t\tthis.auth_ = Auth.create(authOrTokenOrEmail, opt_password);\n\t\t}\n\t\treturn this;\n\t}\n\n\t/**\n\t * Static factory for creating WeDeploy auth for the given url.\n\t * @param {string=} opt_authUrl The url that points to the auth service.\n\t */\n\tstatic auth(opt_authUrl) {\n\t\tif (core.isString(opt_authUrl)) {\n\t\t\tWeDeploy.authUrl_ = opt_authUrl;\n\t\t}\n\t\tif (!WeDeploy.auth_) {\n\t\t\tWeDeploy.auth_ = new AuthApiHelper(WeDeploy);\n\t\t}\n\t\treturn WeDeploy.auth_;\n\t}\n\n\t/**\n\t * Sets the body that will be sent with this request.\n\t * @param {*} body\n\t * @chainable\n\t */\n\tbody(body) {\n\t\tthis.body_ = body;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Converts the given body object to query params.\n\t * @param {!ClientRequest} clientRequest Client request.\n\t * @param {*} body\n\t * @protected\n\t */\n\tconvertBodyToParams_(clientRequest, body) {\n\t\tif (core.isString(body)) {\n\t\t\tbody = {\n\t\t\t\tbody: body\n\t\t\t};\n\t\t} else if (body instanceof Embodied) {\n\t\t\tbody = body.body();\n\t\t}\n\t\tObject.keys(body || {}).forEach(name => clientRequest.param(name, body[name]));\n\t}\n\n\t/**\n\t * Creates client request and encode.\n\t * @param {string} method\n\t * @param {*} body\n\t * @return {!ClientRequest} Client request.\n\t * @protected\n\t */\n\tcreateClientRequest_(method, body) {\n\t\tconst clientRequest = new ClientRequest();\n\n\t\tclientRequest.body(body || this.body_);\n\n\t\tif (!core.isDefAndNotNull(clientRequest.body())) {\n\t\t\tif (this.formData_) {\n\t\t\t\tclientRequest.body(this.formData_);\n\t\t\t}\n\t\t}\n\n\t\tclientRequest.method(method);\n\t\tclientRequest.headers(this.headers());\n\t\tclientRequest.params(this.params());\n\t\tclientRequest.url(this.url());\n\t\tclientRequest.withCredentials(this.withCredentials_);\n\n\t\tthis.encode(clientRequest);\n\n\t\treturn clientRequest;\n\t}\n\n\t/**\n\t * Decodes clientResponse body, parsing the body for example.\n\t * @param {!ClientResponse} clientResponse The response object to be\n\t * decoded.\n\t * @return {!ClientResponse} The decoded response.\n\t */\n\tdecode(clientResponse) {\n\t\tif (WeDeploy.isContentTypeJson(clientResponse)) {\n\t\t\ttry {\n\t\t\t\tclientResponse.body(JSON.parse(clientResponse.body()));\n\t\t\t} catch (err) {}\n\t\t}\n\t\treturn clientResponse;\n\t}\n\n\t/**\n\t * Sends message with the DELETE http verb.\n\t * @param {string=} opt_body Content to be sent as the request's body.\n\t * @return {!CancellablePromise}\n\t */\n\tdelete(opt_body) {\n\t\treturn this.sendAsync('DELETE', opt_body);\n\t}\n\n\t/**\n\t * Encodes the given {@link ClientRequest}, converting its body to an\n\t * appropriate format for example.\n\t * @param {!ClientRequest} clientRequest The request object to encode.\n\t * @return {!ClientRequest} The encoded request.\n\t */\n\tencode(clientRequest) {\n\t\tlet body = clientRequest.body();\n\n\t\tif (core.isElement(body)) {\n\t\t\tbody = new FormData(body);\n\t\t\tclientRequest.body(body);\n\t\t}\n\n\t\tbody = this.maybeWrapWithQuery_(body);\n\t\tif (clientRequest.method() === 'GET') {\n\t\t\tthis.convertBodyToParams_(clientRequest, body);\n\t\t\tclientRequest.removeBody();\n\t\t\tbody = null;\n\t\t}\n\n\t\tif (typeof FormData !== 'undefined' && body instanceof FormData) {\n\t\t\tclientRequest.headers().remove('content-type');\n\t\t} else if (body instanceof Embodied) {\n\t\t\tclientRequest.body(body.toString());\n\t\t} else if (WeDeploy.isContentTypeJson(clientRequest)) {\n\t\t\tclientRequest.body(JSON.stringify(clientRequest.body()));\n\t\t}\n\n\t\tthis.encodeParams_(clientRequest);\n\t\tthis.resolveAuthentication_(clientRequest);\n\n\t\treturn clientRequest;\n\t}\n\n\t/**\n\t * Encodes the params for the given request, according to their types.\n\t * @param {!ClientRequest} clientRequest\n\t * @protected\n\t */\n\tencodeParams_(clientRequest) {\n\t\tlet params = clientRequest.params();\n\t\tparams.names().forEach(function(name) {\n\t\t\tlet values = params.getAll(name);\n\t\t\tvalues.forEach(function(value, index) {\n\t\t\t\tif (value instanceof Embodied) {\n\t\t\t\t\tvalue = value.toString();\n\t\t\t\t} else if (core.isObject(value) || (value instanceof Array)) {\n\t\t\t\t\tvalue = JSON.stringify(value);\n\t\t\t\t}\n\t\t\t\tvalues[index] = value;\n\t\t\t});\n\t\t});\n\t}\n\n\t/**\n\t * Adds a key/value pair to be sent via the body in a `multipart/form-data` format.\n\t * If the body is set by other means (for example, through the `body` method), this\n\t * will be ignored.\n\t * @param {string} name\n\t * @param {*} value\n\t * @chainable\n\t */\n\tform(name, value) {\n\t\tif (typeof FormData === 'undefined') {\n\t\t\tthrow new Error('form() is only available when FormData API is available.');\n\t\t}\n\n\t\tif (!this.formData_) {\n\t\t\tthis.formData_ = new FormData();\n\t\t}\n\t\tthis.formData_.append(name, value);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Sends message with the GET http verb.\n\t * @param {*=} opt_params Params to be added to the request url.\n\t * @return {!CancellablePromise}\n\t */\n\tget(opt_params) {\n\t\treturn this.sendAsync('GET', opt_params);\n\t}\n\n\t/**\n\t * Adds a header. If the header with the same name already exists, it will\n\t * not be overwritten, but new value will be stored. The order is preserved.\n\t * @param {string} name Header key.\n\t * @param {*} value Header value.\n\t * @chainable\n\t */\n\theader(name, value) {\n\t\tif (arguments.length !== 2) {\n\t\t\tthrow new Error('Invalid arguments');\n\t\t}\n\t\tthis.headers_.set(name, value);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Gets the headers.\n\t * @return {!MultiMap}\n\t */\n\theaders() {\n\t\treturn this.headers_;\n\t}\n\n\t/**\n\t * Check if clientMessage content type is application/json.\n\t * @param {ClientMessage} clientMessage Client message.\n\t * @return {boolean}\n\t */\n\tstatic isContentTypeJson(clientMessage) {\n\t\tconst contentType = clientMessage.headers().get('content-type') || '';\n\t\treturn contentType.indexOf('application/json') === 0;\n\t}\n\n\t/**\n\t * Wraps the given `Embodied` instance with a {@link Query} instance if needed.\n\t * @param {Embodied} embodied\n\t * @return {Embodied}\n\t * @protected\n\t */\n\tmaybeWrapWithQuery_(embodied) {\n\t\tif (embodied instanceof Filter) {\n\t\t\tembodied = Query.filter(embodied);\n\t\t}\n\t\treturn embodied;\n\t}\n\n\t/**\n\t * Adds a query. If the query with the same name already exists, it will not\n\t * be overwritten, but new value will be stored. The order is preserved.\n\t * @param {string} name Param key.\n\t * @param {*} value Param value.\n\t * @chainable\n\t */\n\tparam(name, value) {\n\t\tif (arguments.length !== 2) {\n\t\t\tthrow new Error('Invalid arguments');\n\t\t}\n\t\tthis.params_.set(name, value);\n\t\treturn this;\n\t}\n\n\t/**\n\t * Gets the query strings map.\n\t * @return {!MultiMap}\n\t */\n\tparams() {\n\t\treturn this.params_;\n\t}\n\n\t/**\n\t * Sends message with the PATCH http verb.\n\t * @param {string=} opt_body Content to be sent as the request's body.\n\t * @return {!CancellablePromise}\n\t */\n\tpatch(opt_body) {\n\t\treturn this.sendAsync('PATCH', opt_body);\n\t}\n\n\t/**\n\t * Creates a new {@link WeDeploy} instance for handling the url resulting in the\n\t * union of the current url with the given paths.\n\t * @param {...string} paths Any number of paths.\n\t * @return {!WeDeploy} A new {@link WeDeploy} instance for handling the given paths.\n\t */\n\tpath(...paths) {\n\t\tlet wedeployClient = new WeDeploy(this.url(), ...paths);\n\n\t\tif (core.isDefAndNotNull(this.auth_)) {\n\t\t\twedeployClient.auth(this.auth_);\n\t\t}\n\n\t\treturn wedeployClient.use(this.customTransport_);\n\t}\n\n\t/**\n\t * Sends message with the POST http verb.\n\t * @param {string=} opt_body Content to be sent as the request's body.\n\t * @return {!CancellablePromise}\n\t */\n\tpost(opt_body) {\n\t\treturn this.sendAsync('POST', opt_body);\n\t}\n\n\t/**\n\t * Sends message with the PUT http verb.\n\t * @param {string=} opt_body Content to be sent as the request's body.\n\t * @return {!CancellablePromise}\n\t */\n\tput(opt_body) {\n\t\treturn this.sendAsync('PUT', opt_body);\n\t}\n\n\t/**\n\t * Adds the authentication information to the request.\n\t * @param {!ClientRequest} clientRequest\n\t * @protected\n\t */\n\tresolveAuthentication_(clientRequest) {\n\t\tif (!this.auth_) {\n\t\t\treturn;\n\t\t}\n\t\tif (this.auth_.hasToken()) {\n\t\t\tclientRequest.header('Authorization', 'Bearer ' + this.auth_.token);\n\t\t} else {\n\t\t\tconst credentials = this.auth_.email + ':' + this.auth_.password;\n\t\t\tclientRequest.header('Authorization', 'Basic ' + Base64.encodeString(credentials));\n\t\t}\n\t}\n\n\t/**\n\t * Uses transport to send request with given method name and body\n\t * asynchronously.\n\t * @param {string} method The HTTP method to be used when sending data.\n\t * @param {string} body Content to be sent as the request's body.\n\t * @return {!CancellablePromise} Deferred request.\n\t */\n\tsendAsync(method, body) {\n\t\tconst transport = this.customTransport_ || TransportFactory.instance().getDefault();\n\n\t\tconst clientRequest = this.createClientRequest_(method, body);\n\n\t\treturn transport.send(clientRequest).then(this.decode);\n\t}\n\n\t/**\n\t * Sets the socket transport\n\t * @param {Object} socket implementation object.\n\t */\n\tstatic socket(socket) {\n\t\tio = socket;\n\t}\n\n\t/**\n\t * Static factory for creating WeDeploy client for the given url.\n\t * @param {string} url The url that the client should use for sending requests.\n\t */\n\tstatic url(url) {\n\t\treturn new WeDeploy(url).use(this.customTransport_);\n\t}\n\n\t/**\n\t * Returns the URL used by this client.\n\t */\n\turl() {\n\t\treturn this.url_;\n\t}\n\n\t/**\n\t * Specifies {@link Transport} implementation.\n\t * @param {!Transport} transport The transport implementation that should be\n\t * used.\n\t */\n\tuse(transport) {\n\t\tthis.customTransport_ = transport;\n\t\treturn this;\n\t}\n\n\t/**\n\t * Creates new socket.io instance. The parameters passed to socket.io\n\t * constructor will be provided:\n\t *\n\t * ```javascript\n\t * WeDeploy.url('http://domain:8080/path/a').watch({id: 'myId'}, {foo: true});\n\t * // Equals:\n\t * io('domain:8080/?url=path%2Fa%3Fid%3DmyId', {foo: true});\n\t * ```\n\t *\n\t * @param {Object=} opt_params Params to be sent with the Socket IO request.\n\t * @param {Object=} opt_options Object with Socket IO options.\n\t * @return {!io} Socket IO reference. Server events can be listened on it.\n\t */\n\twatch(opt_params, opt_options) {\n\t\tif (typeof io === 'undefined') {\n\t\t\tthrow new Error('Socket.io client not loaded');\n\t\t}\n\n\t\tconst clientRequest = this.createClientRequest_('GET', opt_params);\n\t\tconst uri = new Uri(clientRequest.url());\n\t\turi.addParametersFromMultiMap(clientRequest.params());\n\n\t\topt_options = opt_options || {\n\t\t\tforceNew: true\n\t\t};\n\t\topt_options.query = 'url=' + encodeURIComponent(uri.getPathname() + uri.getSearch());\n\t\topt_options.path = opt_options.path || uri.getPathname();\n\n\t\treturn io(uri.getHost(), opt_options);\n\t}\n\n\t/**\n\t * @param {boolean} opt_withCredentials\n\t */\n\twithCredentials(withCredentials) {\n\t\tthis.withCredentials_ = !!withCredentials;\n\t\treturn this;\n\t}\n}\n\nWeDeploy.auth_ = null;\nWeDeploy.authUrl_ = '';\nWeDeploy.dataUrl_ = '';\n\nexport default WeDeploy;\n","'use strict';\n\nimport globals from '../globals/globals';\nimport Filter from '../api-query/Filter';\nimport Geo from '../api-query/Geo';\nimport WeDeploy from '../api/WeDeploy';\nimport Query from '../api-query/Query';\nimport Range from '../api-query/Range';\n\nglobals.window.Filter = Filter;\nglobals.window.Geo = Geo;\nglobals.window.Query = Query;\nglobals.window.Range = Range;\nglobals.window.WeDeploy = WeDeploy;\n\nexport { Filter, Geo, Query, Range, WeDeploy };\nexport default WeDeploy;\n"],"names":["globals","window","document","compatibilityModeData_","uniqueIdCounter_","UID_PROPERTY","Math","random","abstractMethod","Error","collectSuperClassesProperty","constructor","propertyName","propertyValues","__proto__","isPrototypeOf","Function","push","disableCompatibilityMode","undefined","enableCompatibilityMode","opt_data","getCompatibilityModeData","__METAL_COMPATIBILITY__","getFunctionName","fn","name","str","toString","substring","indexOf","getUid","opt_object","opt_noInheritance","id","hasOwnProperty","identityFunction","opt_returnValue","isBoolean","val","isDef","isDefAndNotNull","isNull","isDocument","nodeType","isElement","isFunction","isNumber","isWindow","isObject","type","isPromise","then","isString","String","mergeSuperClassesProperty","opt_mergeFn","mergedName","merged","nullFunction","array","arr1","arr2","length","i","arr","opt_output","output","Array","isArray","flatten","obj","rv","removeAt","prototype","splice","call","start","opt_end","sliced","end","async","throwException","exception","nextTick","run","callback","opt_context","workQueueScheduled_","processWorkQueue","workQueue_","WorkItem_","workItems","workItem","scope","e","cb","bind","wrapCallback_","setImmediate","setImmediate_","getSetImmediateEmulator_","Channel","MessageChannel","postMessage","addEventListener","iframe","createElement","style","display","src","documentElement","appendChild","win","contentWindow","doc","open","write","close","message","origin","location","protocol","host","onmessage","data","port1","port2","channel","head","tail","next","script","onreadystatechange","parentNode","removeChild","Disposable","disposed_","disposeInternal","object","target","key","source","arguments","opt_obj","parts","split","reduce","part","mappedObj","keys","Object","obj1","obj2","keys1","keys2","string","str1","str2","test1","toLowerCase","test2","replace","x","floor","abs","Date","now","hash","len","charCodeAt","value","Embodied","body_","JSON","stringify","body","FilterBody","field","operatorOrValue","opt_value","core","createBody_","operator","opt_filter","addArrayOperator_","filter","filters","add","Geo","upperLeft","lowerRight","BoundingBox","center","radius","Circle","points","Line","lat","lon","Point","Polygon","map","toBody","point","coordinates","addCoordinates_","Range","from","opt_to","to","Filter","fieldOrFilter","opt_operatorOrValue","toFilter","addMany","getObject","values","slice","boxOrUpperLeft","opt_lowerRight","polygon","getPoints","locationOrCircle","opt_rangeOrDistance","range","getCenter","getRadius","distanceInternal_","min","max","fieldOrQuery","opt_queryOrFuzziness","opt_fuzziness","fuzzyInternal_","arg2IsString","fuzziness","ALL","opt_query","query","rangeOrMin","opt_max","shapes","shape","parseFromAnchor","opt_uri","link","href","hostname","password","pathname","port","search","username","parse","URL","create","MultiMap","size","names","set","TreeNode","value_","parent_","children_","child","setParent","node","current","getParent","ancestors","index","getChildren","EMPTY_ARRAY","depth","root","getChildCount","remove","parent","opt_preorderFn","opt_postorderFn","forEach","traverse","assertChildHasNoParent","parseFn_","Uri","url","maybeAddProtocolAndHostname_","multimap","getAll","addParameterValue","ensureQueryInitialized_","param","urlDecode","getHostname","getPort","HOSTNAME_PLACEHOLDER","getHost","getProtocol","get","querystring","getParameterNames","getParameterValues","encodeURIComponent","contains","setParameterValue","RANDOM_PARAM","getRandomString","DEFAULT_PROTOCOL","charAt","removeParameter","getPathname","getSearch","getHash","parsed","substr","normalizeObject","parseFn","basePath","paths","path","concat","join","decodeURIComponent","assertBrowserEnvironment","assertDefAndNotNull","errorMessage","assertFunction","assertObject","assertResponseSucceeded","response","succeeded","assertUserSignedIn","user","assertUriWithNoPath","uri","Auth","tokenOrEmail","opt_password","token","email","createdAt","photoUrl","wedeployClient","authUrl_","getId","auth","patch","delete","tokenOrUsername","ApiHelper","authOrTokenOrEmail","helperAuthScope","AuthProvider","provider","providerScope","redirectUri","opt_authUrl","setPathname","hasProvider","getProvider","hasProviderScope","getProviderScope","hasRedirectUri","getRedirectUri","hasScope","getScope","assertStringIfDefAndNotNull","FacebookAuthProvider","PROVIDER","GithubAuthProvider","GoogleAuthProvider","StorageMechanism","Storage","mechanism","clear","json","ErrorCode","INVALID_VALUE","assertMechanismDefAndNotNull","assertMechanismIntanceOf","LocalStorageMechanism","localStorage","storage","getItem","removeItem","setItem","isSupported","AuthApiHelper","currentUser","onSignInCallback","onSignOutCallback","processSignIn_","post","makeUserAuthFromData","fragment","userId","resolveAuthScope","setWedeployClient","setCreatedAt","setEmail","setId","setName","setPhotoUrl","setToken","redirectAccessToken","getRedirectAccessToken_","removeUrlFragmentCompletely_","loadCurrentUser","maybeCallOnSignInCallback_","history","pushState","title","access_token","setRedirectUri","getHrefWithoutFragment_","makeAuthorizationUrl","maybeCallOnSignOutCallback_","unloadCurrentUser_","assertSupportedProvider","Aggregation","field_","operator_","ranges","DistanceAggregation","interval","RangeAggregation","rangeOrFrom","unit","Query","aggregationOrField","opt_operator","aggregation","getField","getOperator","getValue","offset","highlight","limit","filterOrTextOrField","opt_textOrOperator","match","opt_direction","sort","sortEntry","aggregate","DataApiHelper","getOrCreateFilter_","and","or","args","where","none","similar","lt","lte","any","boundingBox","distance","getOrCreateQuery_","collection","dataUrl_","put","addFiltersToQuery_","query_","onSearch_","opt_options","watch","filter_","toSearch_","Base64","btoa","Buffer","Thenable","IMPLEMENTED_BY_PROP","addImplementation","ctor","$goog_Thenable","isImplementedBy","partial","newArgs","apply","CancellablePromise","resolver","state_","State_","PENDING","result_","callbackEntries_","executing_","UNHANDLED_REJECTION_DELAY","unhandledRejectionId_","hadUnhandledRejection_","self","resolve_","FULFILLED","reason","REJECTED","CallbackEntry_","resolve","reject","opt_reason","race","promises","promise","all","toFulfill","onFulfill","onReject","firstFulfilled","toReject","reasons","opt_onFulfilled","opt_onRejected","addChildPromise_","thenAlways","onResolved","err","handleRejection_","addCallbackEntry_","thenCatch","onRejected","catch","cancel","opt_message","CancellationError","IS_CANCELLATION_ERROR","cancelInternal_","cancelChild_","childPromise","childCount","childIndex","entry","callbackEntry","executeCallback_","scheduleCallbacks_","onFulfilled","result","unblockAndFulfill_","BLOCKED","unblockAndReject_","state","TypeError","tryThen_","addUnhandledRejection_","thenable","called","executeCallbacks_","entries","removeUnhandledRejection_","p","setTimeout","setUnhandledRejectionHandler","handler","Ajax","allHeaders","headers","pairs","method","opt_headers","opt_params","opt_timeout","opt_sync","opt_withCredentials","request","XMLHttpRequest","Promise","onload","aborted","onerror","error","abort","timeout","addParametersFromMultiMap","withCredentials","setRequestHeader","send","Transport","ClientMessage","headers_","opt_body","ClientResponse","clientRequest","clientRequest_","opt_statusCode","statusCode_","opt_statusText","statusText_","statusCode","AjaxTransport","deferred","params","clientResponse","responseText","status","statusText","parseResponseHeaders","getAllResponseHeaders","header","TransportFactory","transports","DEFAULT_TRANSPORT_NAME","implementationName","TransportClass","instance_","ClientRequest","params_","withCredentials_","opt_method","method_","DEFAULT_METHOD","opt_url","url_","io","WeDeploy","auth_","joinPaths","formData_","encode","isContentTypeJson","sendAsync","FormData","maybeWrapWithQuery_","convertBodyToParams_","removeBody","encodeParams_","resolveAuthentication_","append","embodied","use","customTransport_","hasToken","credentials","encodeString","transport","instance","getDefault","createClientRequest_","decode","opt_dataUrl","data_","clientMessage","contentType","socket"],"mappings":"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","preExisting":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjpudWxsLCJzb3VyY2VzIjpbIi9Vc2Vycy9lZHVhcmRvL1Byb2plY3RzL3dlZGVwbG95L2FwaS1qcy9zcmMvZ2xvYmFscy9nbG9iYWxzLmpzIiwiL1VzZXJzL2VkdWFyZG8vUHJvamVjdHMvd2VkZXBsb3kvYXBpLWpzL25vZGVfbW9kdWxlcy9tZXRhbC9zcmMvY29yZU5hbWVkLmpzIiwiL1VzZXJzL2VkdWFyZG8vUHJvamVjdHMvd2VkZXBsb3kvYXBpLWpzL25vZGVfbW9kdWxlcy9tZXRhbC9zcmMvY29yZS5qcyIsIi9Vc2Vycy9lZHVhcmRvL1Byb2plY3RzL3dlZGVwbG95L2FwaS1qcy9ub2RlX21vZHVsZXMvbWV0YWwvc3JjL2FycmF5L2FycmF5LmpzIiwiL1VzZXJzL2VkdWFyZG8vUHJvamVjdHMvd2VkZXBsb3kvYXBpLWpzL25vZGVfbW9kdWxlcy9tZXRhbC9zcmMvYXN5bmMvYXN5bmMuanMiLCIvVXNlcnMvZWR1YXJkby9Qcm9qZWN0cy93ZWRlcGxveS9hcGktanMvbm9kZV9tb2R1bGVzL21ldGFsL3NyYy9kaXNwb3NhYmxlL0Rpc3Bvc2FibGUuanMiLCIvVXNlcnMvZWR1YXJkby9Qcm9qZWN0cy93ZWRlcGxveS9hcGktanMvbm9kZV9tb2R1bGVzL21ldGFsL3NyYy9vYmplY3Qvb2JqZWN0LmpzIiwiL1VzZXJzL2VkdWFyZG8vUHJvamVjdHMvd2VkZXBsb3kvYXBpLWpzL25vZGVfbW9kdWxlcy9tZXRhbC9zcmMvc3RyaW5nL3N0cmluZy5qcyIsIi9Vc2Vycy9lZHVhcmRvL1Byb2plY3RzL3dlZGVwbG95L2FwaS1qcy9zcmMvYXBpLXF1ZXJ5L0VtYm9kaWVkLmpzIiwiL1VzZXJzL2VkdWFyZG8vUHJvamVjdHMvd2VkZXBsb3kvYXBpLWpzL3NyYy9hcGktcXVlcnkvRmlsdGVyQm9keS5qcyIsIi9Vc2Vycy9lZHVhcmRvL1Byb2plY3RzL3dlZGVwbG95L2FwaS1qcy9zcmMvYXBpLXF1ZXJ5L0dlby5qcyIsIi9Vc2Vycy9lZHVhcmRvL1Byb2plY3RzL3dlZGVwbG95L2FwaS1qcy9zcmMvYXBpLXF1ZXJ5L1JhbmdlLmpzIiwiL1VzZXJzL2VkdWFyZG8vUHJvamVjdHMvd2VkZXBsb3kvYXBpLWpzL3NyYy9hcGktcXVlcnkvRmlsdGVyLmpzIiwiL1VzZXJzL2VkdWFyZG8vUHJvamVjdHMvd2VkZXBsb3kvYXBpLWpzL25vZGVfbW9kdWxlcy9tZXRhbC11cmkvc3JjL3BhcnNlRnJvbUFuY2hvci5qcyIsIi9Vc2Vycy9lZHVhcmRvL1Byb2plY3RzL3dlZGVwbG95L2FwaS1qcy9ub2RlX21vZHVsZXMvbWV0YWwtdXJpL3NyYy9wYXJzZS5qcyIsIi9Vc2Vycy9lZHVhcmRvL1Byb2plY3RzL3dlZGVwbG95L2FwaS1qcy9ub2RlX21vZHVsZXMvbWV0YWwtc3RydWN0cy9zcmMvTXVsdGlNYXAuanMiLCIvVXNlcnMvZWR1YXJkby9Qcm9qZWN0cy93ZWRlcGxveS9hcGktanMvbm9kZV9tb2R1bGVzL21ldGFsLXN0cnVjdHMvc3JjL1RyZWVOb2RlLmpzIiwiL1VzZXJzL2VkdWFyZG8vUHJvamVjdHMvd2VkZXBsb3kvYXBpLWpzL25vZGVfbW9kdWxlcy9tZXRhbC11cmkvc3JjL1VyaS5qcyIsIi9Vc2Vycy9lZHVhcmRvL1Byb2plY3RzL3dlZGVwbG95L2FwaS1qcy9zcmMvYXBpL2Fzc2VydGlvbnMuanMiLCIvVXNlcnMvZWR1YXJkby9Qcm9qZWN0cy93ZWRlcGxveS9hcGktanMvc3JjL2FwaS9hdXRoL0F1dGguanMiLCIvVXNlcnMvZWR1YXJkby9Qcm9qZWN0cy93ZWRlcGxveS9hcGktanMvc3JjL2FwaS9BcGlIZWxwZXIuanMiLCIvVXNlcnMvZWR1YXJkby9Qcm9qZWN0cy93ZWRlcGxveS9hcGktanMvc3JjL2FwaS9hdXRoL0F1dGhQcm92aWRlci5qcyIsIi9Vc2Vycy9lZHVhcmRvL1Byb2plY3RzL3dlZGVwbG95L2FwaS1qcy9zcmMvYXBpL2F1dGgvRmFjZWJvb2tBdXRoUHJvdmlkZXIuanMiLCIvVXNlcnMvZWR1YXJkby9Qcm9qZWN0cy93ZWRlcGxveS9hcGktanMvc3JjL2FwaS9hdXRoL0dpdGh1YkF1dGhQcm92aWRlci5qcyIsIi9Vc2Vycy9lZHVhcmRvL1Byb2plY3RzL3dlZGVwbG95L2FwaS1qcy9zcmMvYXBpL2F1dGgvR29vZ2xlQXV0aFByb3ZpZGVyLmpzIiwiL1VzZXJzL2VkdWFyZG8vUHJvamVjdHMvd2VkZXBsb3kvYXBpLWpzL25vZGVfbW9kdWxlcy9tZXRhbC1zdG9yYWdlL3NyYy9tZWNoYW5pc20vU3RvcmFnZU1lY2hhbmlzbS5qcyIsIi9Vc2Vycy9lZHVhcmRvL1Byb2plY3RzL3dlZGVwbG95L2FwaS1qcy9ub2RlX21vZHVsZXMvbWV0YWwtc3RvcmFnZS9zcmMvU3RvcmFnZS5qcyIsIi9Vc2Vycy9lZHVhcmRvL1Byb2plY3RzL3dlZGVwbG95L2FwaS1qcy9ub2RlX21vZHVsZXMvbWV0YWwtc3RvcmFnZS9zcmMvbWVjaGFuaXNtL0xvY2FsU3RvcmFnZU1lY2hhbmlzbS5qcyIsIi9Vc2Vycy9lZHVhcmRvL1Byb2plY3RzL3dlZGVwbG95L2FwaS1qcy9zcmMvYXBpL2F1dGgvQXV0aEFwaUhlbHBlci5qcyIsIi9Vc2Vycy9lZHVhcmRvL1Byb2plY3RzL3dlZGVwbG95L2FwaS1qcy9zcmMvYXBpLXF1ZXJ5L0FnZ3JlZ2F0aW9uLmpzIiwiL1VzZXJzL2VkdWFyZG8vUHJvamVjdHMvd2VkZXBsb3kvYXBpLWpzL3NyYy9hcGktcXVlcnkvUXVlcnkuanMiLCIvVXNlcnMvZWR1YXJkby9Qcm9qZWN0cy93ZWRlcGxveS9hcGktanMvc3JjL2FwaS9kYXRhL0RhdGFBcGlIZWxwZXIuanMiLCIvVXNlcnMvZWR1YXJkby9Qcm9qZWN0cy93ZWRlcGxveS9hcGktanMvc3JjL2NyeXB0L0Jhc2U2NC5qcyIsIi9Vc2Vycy9lZHVhcmRvL1Byb2plY3RzL3dlZGVwbG95L2FwaS1qcy9ub2RlX21vZHVsZXMvbWV0YWwtcHJvbWlzZS9zcmMvcHJvbWlzZS9Qcm9taXNlLmpzIiwiL1VzZXJzL2VkdWFyZG8vUHJvamVjdHMvd2VkZXBsb3kvYXBpLWpzL25vZGVfbW9kdWxlcy9tZXRhbC1hamF4L3NyYy9BamF4LmpzIiwiL1VzZXJzL2VkdWFyZG8vUHJvamVjdHMvd2VkZXBsb3kvYXBpLWpzL3NyYy9hcGkvVHJhbnNwb3J0LmpzIiwiL1VzZXJzL2VkdWFyZG8vUHJvamVjdHMvd2VkZXBsb3kvYXBpLWpzL3NyYy9hcGkvQ2xpZW50TWVzc2FnZS5qcyIsIi9Vc2Vycy9lZHVhcmRvL1Byb2plY3RzL3dlZGVwbG95L2FwaS1qcy9zcmMvYXBpL0NsaWVudFJlc3BvbnNlLmpzIiwiL1VzZXJzL2VkdWFyZG8vUHJvamVjdHMvd2VkZXBsb3kvYXBpLWpzL3NyYy9hcGkvYnJvd3Nlci9BamF4VHJhbnNwb3J0LmpzIiwiL1VzZXJzL2VkdWFyZG8vUHJvamVjdHMvd2VkZXBsb3kvYXBpLWpzL3NyYy9hcGkvVHJhbnNwb3J0RmFjdG9yeS5qcyIsIi9Vc2Vycy9lZHVhcmRvL1Byb2plY3RzL3dlZGVwbG95L2FwaS1qcy9zcmMvYXBpL0NsaWVudFJlcXVlc3QuanMiLCIvVXNlcnMvZWR1YXJkby9Qcm9qZWN0cy93ZWRlcGxveS9hcGktanMvc3JjL2FwaS9XZURlcGxveS5qcyIsIi9Vc2Vycy9lZHVhcmRvL1Byb2plY3RzL3dlZGVwbG95L2FwaS1qcy9zcmMvZW52L2Jyb3dzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGdsb2JhbHMgPSB7fTtcblxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG5cdGdsb2JhbHMud2luZG93ID0gd2luZG93O1xufVxuXG5pZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJykge1xuXHRnbG9iYWxzLmRvY3VtZW50ID0gZG9jdW1lbnQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGdsb2JhbHM7XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQSBjb2xsZWN0aW9uIG9mIGNvcmUgdXRpbGl0eSBmdW5jdGlvbnMuXG4gKiBAY29uc3RcbiAqL1xuXG5sZXQgY29tcGF0aWJpbGl0eU1vZGVEYXRhXztcblxuLyoqXG4gKiBDb3VudGVyIGZvciB1bmlxdWUgaWQuXG4gKiBAdHlwZSB7TnVtYmVyfVxuICogQHByaXZhdGVcbiAqL1xubGV0IHVuaXF1ZUlkQ291bnRlcl8gPSAxO1xuXG4vKipcbiAqIFVuaXF1ZSBpZCBwcm9wZXJ0eSBwcmVmaXguXG4gKiBAdHlwZSB7U3RyaW5nfVxuICogQHByb3RlY3RlZFxuICovXG5leHBvcnQgY29uc3QgVUlEX1BST1BFUlRZID0gJ2NvcmVfJyArICgoTWF0aC5yYW5kb20oKSAqIDFlOSkgPj4+IDApO1xuXG4vKipcbiAqIFdoZW4gZGVmaW5pbmcgYSBjbGFzcyBGb28gd2l0aCBhbiBhYnN0cmFjdCBtZXRob2QgYmFyKCksIHlvdSBjYW4gZG86XG4gKiBGb28ucHJvdG90eXBlLmJhciA9IGFic3RyYWN0TWV0aG9kXG4gKlxuICogTm93IGlmIGEgc3ViY2xhc3Mgb2YgRm9vIGZhaWxzIHRvIG92ZXJyaWRlIGJhcigpLCBhbiBlcnJvciB3aWxsIGJlIHRocm93blxuICogd2hlbiBiYXIoKSBpcyBpbnZva2VkLlxuICpcbiAqIEB0eXBlIHshRnVuY3Rpb259XG4gKiBAdGhyb3dzIHtFcnJvcn0gd2hlbiBpbnZva2VkIHRvIGluZGljYXRlIHRoZSBtZXRob2Qgc2hvdWxkIGJlIG92ZXJyaWRkZW4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhYnN0cmFjdE1ldGhvZCgpIHtcblx0dGhyb3cgRXJyb3IoJ1VuaW1wbGVtZW50ZWQgYWJzdHJhY3QgbWV0aG9kJyk7XG59XG5cbi8qKlxuICogTG9vcHMgY29uc3RydWN0b3Igc3VwZXIgY2xhc3NlcyBjb2xsZWN0aW5nIGl0cyBwcm9wZXJ0aWVzIHZhbHVlcy4gSWZcbiAqIHByb3BlcnR5IGlzIG5vdCBhdmFpbGFibGUgb24gdGhlIHN1cGVyIGNsYXNzIGB1bmRlZmluZWRgIHdpbGwgYmVcbiAqIGNvbGxlY3RlZCBhcyB2YWx1ZSBmb3IgdGhlIGNsYXNzIGhpZXJhcmNoeSBwb3NpdGlvbi5cbiAqIEBwYXJhbSB7IWZ1bmN0aW9uKCl9IGNvbnN0cnVjdG9yIENsYXNzIGNvbnN0cnVjdG9yLlxuICogQHBhcmFtIHtzdHJpbmd9IHByb3BlcnR5TmFtZSBQcm9wZXJ0eSBuYW1lIHRvIGJlIGNvbGxlY3RlZC5cbiAqIEByZXR1cm4ge0FycmF5LjwqPn0gQXJyYXkgb2YgY29sbGVjdGVkIHZhbHVlcy5cbiAqIFRPRE8oKik6IFJldGhpbmsgc3VwZXJjbGFzcyBsb29wLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY29sbGVjdFN1cGVyQ2xhc3Nlc1Byb3BlcnR5KGNvbnN0cnVjdG9yLCBwcm9wZXJ0eU5hbWUpIHtcblx0dmFyIHByb3BlcnR5VmFsdWVzID0gW2NvbnN0cnVjdG9yW3Byb3BlcnR5TmFtZV1dO1xuXHR3aGlsZSAoY29uc3RydWN0b3IuX19wcm90b19fICYmICFjb25zdHJ1Y3Rvci5fX3Byb3RvX18uaXNQcm90b3R5cGVPZihGdW5jdGlvbikpIHtcblx0XHRjb25zdHJ1Y3RvciA9IGNvbnN0cnVjdG9yLl9fcHJvdG9fXztcblx0XHRwcm9wZXJ0eVZhbHVlcy5wdXNoKGNvbnN0cnVjdG9yW3Byb3BlcnR5TmFtZV0pO1xuXHR9XG5cdHJldHVybiBwcm9wZXJ0eVZhbHVlcztcbn1cblxuLyoqXG4gKiBEaXNhYmxlcyBNZXRhbC5qcydzIGNvbXBhdGliaWxpdHkgbW9kZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRpc2FibGVDb21wYXRpYmlsaXR5TW9kZSgpIHtcblx0Y29tcGF0aWJpbGl0eU1vZGVEYXRhXyA9IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBFbmFibGVzIE1ldGFsLmpzJ3MgY29tcGF0aWJpbGl0eSBtb2RlIHdpdGggdGhlIGZvbGxvd2luZyBmZWF0dXJlcyBmcm9tIHJjXG4gKiBhbmQgMS54IHZlcnNpb25zOlxuICogICAgIC0gVXNpbmcgXCJrZXlcIiB0byByZWZlcmVuY2UgY29tcG9uZW50IGluc3RhbmNlcy4gSW4gdGhlIGN1cnJlbnQgdmVyc2lvblxuICogICAgICAgdGhpcyBzaG91bGQgYmUgZG9uZSB2aWEgXCJyZWZcIiBpbnN0ZWFkLiBUaGlzIGFsbG93cyBvbGQgY29kZSBzdGlsbFxuICogICAgICAgdXNpbmcgXCJrZXlcIiB0byBrZWVwIHdvcmtpbmcgbGlrZSBiZWZvcmUuIE5PVEU6IHRoaXMgbWF5IGNhdXNlXG4gKiAgICAgICBwcm9ibGVtcywgc2luY2UgXCJrZXlcIiBpcyBtZWFudCB0byBiZSB1c2VkIGRpZmZlcmVudGx5LiBPbmx5IHVzZSB0aGlzXG4gKiAgICAgICBpZiBpdCdzIG5vdCBwb3NzaWJsZSB0byB1cGdyYWRlIHRoZSBjb2RlIHRvIHVzZSBcInJlZlwiIGluc3RlYWQuXG4gKiBAcGFyYW0ge09iamVjdD19IG9wdF9kYXRhIE9wdGlvbmFsIG9iamVjdCB3aXRoIGRhdGEgdG8gc3BlY2lmeSBtb3JlXG4gKiAgICAgZGV0YWlscywgc3VjaCBhczpcbiAqICAgICAgICAgLSByZW5kZXJlcnMge0FycmF5fSB0aGUgdGVtcGxhdGUgcmVuZGVyZXJzIHRoYXQgc2hvdWxkIGJlIGluXG4gKiAgICAgICAgICAgY29tcGF0aWJpbGl0eSBtb2RlLCBlaXRoZXIgdGhlaXIgY29uc3RydWN0b3JzIG9yIHN0cmluZ3NcbiAqICAgICAgICAgICByZXByZXNlbnRpbmcgdGhlbSAoZS5nLiAnc295JyBvciAnanN4JykuIEJ5IGRlZmF1bHQsIGFsbCB0aGUgb25lc1xuICogICAgICAgICAgIHRoYXQgZXh0ZW5kIGZyb20gSW5jcmVtZW50YWxEb21SZW5kZXJlci5cbiAqIEB0eXBlIHtPYmplY3R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmFibGVDb21wYXRpYmlsaXR5TW9kZShvcHRfZGF0YSA9IHt9KSB7XG5cdGNvbXBhdGliaWxpdHlNb2RlRGF0YV8gPSBvcHRfZGF0YTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBkYXRhIHVzZWQgZm9yIGNvbXBhdGliaWxpdHkgbW9kZSwgb3Igbm90aGluZyBpZiBpdCBoYXNuJ3QgYmVlblxuICogZW5hYmxlZC5cbiAqIEByZXR1cm4ge09iamVjdH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldENvbXBhdGliaWxpdHlNb2RlRGF0YSgpIHtcblx0Ly8gQ29tcGF0aWJpbGl0eSBtb2RlIGNhbiBiZSBzZXQgdmlhIHRoZSBfX01FVEFMX0NPTVBBVElCSUxJVFlfXyBnbG9iYWwgdmFyLlxuXHRpZiAoY29tcGF0aWJpbGl0eU1vZGVEYXRhXyA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5fX01FVEFMX0NPTVBBVElCSUxJVFlfXykge1xuXHRcdFx0ZW5hYmxlQ29tcGF0aWJpbGl0eU1vZGUod2luZG93Ll9fTUVUQUxfQ09NUEFUSUJJTElUWV9fKTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGNvbXBhdGliaWxpdHlNb2RlRGF0YV87XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbmFtZSBvZiB0aGUgZ2l2ZW4gZnVuY3Rpb24uIElmIHRoZSBjdXJyZW50IGJyb3dzZXIgZG9lc24ndFxuICogc3VwcG9ydCB0aGUgYG5hbWVgIHByb3BlcnR5LCB0aGlzIHdpbGwgY2FsY3VsYXRlIGl0IGZyb20gdGhlIGZ1bmN0aW9uJ3NcbiAqIGNvbnRlbnQgc3RyaW5nLlxuICogQHBhcmFtIHshZnVuY3Rpb24oKX0gZm5cbiAqIEByZXR1cm4ge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEZ1bmN0aW9uTmFtZShmbikge1xuXHRpZiAoIWZuLm5hbWUpIHtcblx0XHR2YXIgc3RyID0gZm4udG9TdHJpbmcoKTtcblx0XHRmbi5uYW1lID0gc3RyLnN1YnN0cmluZyg5LCBzdHIuaW5kZXhPZignKCcpKTtcblx0fVxuXHRyZXR1cm4gZm4ubmFtZTtcbn1cblxuLyoqXG4gKiBHZXRzIGFuIHVuaXF1ZSBpZC4gSWYgYG9wdF9vYmplY3RgIGFyZ3VtZW50IGlzIHBhc3NlZCwgdGhlIG9iamVjdCBpc1xuICogbXV0YXRlZCB3aXRoIGFuIHVuaXF1ZSBpZC4gQ29uc2VjdXRpdmUgY2FsbHMgd2l0aCB0aGUgc2FtZSBvYmplY3RcbiAqIHJlZmVyZW5jZSB3b24ndCBtdXRhdGUgdGhlIG9iamVjdCBhZ2FpbiwgaW5zdGVhZCB0aGUgY3VycmVudCBvYmplY3QgdWlkXG4gKiByZXR1cm5zLiBTZWUge0BsaW5rIFVJRF9QUk9QRVJUWX0uXG4gKiBAcGFyYW0ge09iamVjdD19IG9wdF9vYmplY3QgT3B0aW9uYWwgb2JqZWN0IHRvIGJlIG11dGF0ZWQgd2l0aCB0aGUgdWlkLiBJZlxuICogICAgIG5vdCBzcGVjaWZpZWQgdGhpcyBtZXRob2Qgb25seSByZXR1cm5zIHRoZSB1aWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfbm9Jbmhlcml0YW5jZSBPcHRpb25hbCBmbGFnIGluZGljYXRpbmcgaWYgdGhpc1xuICogICAgIG9iamVjdCdzIHVpZCBwcm9wZXJ0eSBjYW4gYmUgaW5oZXJpdGVkIGZyb20gcGFyZW50cyBvciBub3QuXG4gKiBAdGhyb3dzIHtFcnJvcn0gd2hlbiBpbnZva2VkIHRvIGluZGljYXRlIHRoZSBtZXRob2Qgc2hvdWxkIGJlIG92ZXJyaWRkZW4uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRVaWQob3B0X29iamVjdCwgb3B0X25vSW5oZXJpdGFuY2UpIHtcblx0aWYgKG9wdF9vYmplY3QpIHtcblx0XHR2YXIgaWQgPSBvcHRfb2JqZWN0W1VJRF9QUk9QRVJUWV07XG5cdFx0aWYgKG9wdF9ub0luaGVyaXRhbmNlICYmICFvcHRfb2JqZWN0Lmhhc093blByb3BlcnR5KFVJRF9QUk9QRVJUWSkpIHtcblx0XHRcdGlkID0gbnVsbDtcblx0XHR9XG5cdFx0cmV0dXJuIGlkIHx8IChvcHRfb2JqZWN0W1VJRF9QUk9QRVJUWV0gPSB1bmlxdWVJZENvdW50ZXJfKyspO1xuXHR9XG5cdHJldHVybiB1bmlxdWVJZENvdW50ZXJfKys7XG59XG5cbi8qKlxuICogVGhlIGlkZW50aXR5IGZ1bmN0aW9uLiBSZXR1cm5zIGl0cyBmaXJzdCBhcmd1bWVudC5cbiAqIEBwYXJhbSB7Kj19IG9wdF9yZXR1cm5WYWx1ZSBUaGUgc2luZ2xlIHZhbHVlIHRoYXQgd2lsbCBiZSByZXR1cm5lZC5cbiAqIEByZXR1cm4gez99IFRoZSBmaXJzdCBhcmd1bWVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5RnVuY3Rpb24ob3B0X3JldHVyblZhbHVlKSB7XG5cdHJldHVybiBvcHRfcmV0dXJuVmFsdWU7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBzcGVjaWZpZWQgdmFsdWUgaXMgYSBib29sZWFuLlxuICogQHBhcmFtIHs/fSB2YWwgVmFyaWFibGUgdG8gdGVzdC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdmFyaWFibGUgaXMgYm9vbGVhbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzQm9vbGVhbih2YWwpIHtcblx0cmV0dXJuIHR5cGVvZiB2YWwgPT09ICdib29sZWFuJztcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIHNwZWNpZmllZCB2YWx1ZSBpcyBub3QgdW5kZWZpbmVkLlxuICogQHBhcmFtIHs/fSB2YWwgVmFyaWFibGUgdG8gdGVzdC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdmFyaWFibGUgaXMgZGVmaW5lZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRGVmKHZhbCkge1xuXHRyZXR1cm4gdmFsICE9PSB1bmRlZmluZWQ7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHZhbHVlIGlzIG5vdCB1bmRlZmluZWQgb3IgbnVsbC5cbiAqIEBwYXJhbSB7Kn0gdmFsXG4gKiBAcmV0dXJuIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNEZWZBbmROb3ROdWxsKHZhbCkge1xuXHRyZXR1cm4gaXNEZWYodmFsKSAmJiAhaXNOdWxsKHZhbCk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHZhbHVlIGlzIGEgZG9jdW1lbnQuXG4gKiBAcGFyYW0geyp9IHZhbFxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzRG9jdW1lbnQodmFsKSB7XG5cdHJldHVybiB2YWwgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgJiYgdmFsLm5vZGVUeXBlID09PSA5O1xufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB2YWx1ZSBpcyBhIGRvbSBlbGVtZW50LlxuICogQHBhcmFtIHsqfSB2YWxcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0VsZW1lbnQodmFsKSB7XG5cdHJldHVybiB2YWwgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgJiYgdmFsLm5vZGVUeXBlID09PSAxO1xufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgc3BlY2lmaWVkIHZhbHVlIGlzIGEgZnVuY3Rpb24uXG4gKiBAcGFyYW0gez99IHZhbCBWYXJpYWJsZSB0byB0ZXN0LlxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciB2YXJpYWJsZSBpcyBhIGZ1bmN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbih2YWwpIHtcblx0cmV0dXJuIHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbic7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHZhbHVlIGlzIG51bGwuXG4gKiBAcGFyYW0geyp9IHZhbFxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTnVsbCh2YWwpIHtcblx0cmV0dXJuIHZhbCA9PT0gbnVsbDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIHNwZWNpZmllZCB2YWx1ZSBpcyBhIG51bWJlci5cbiAqIEBwYXJhbSB7P30gdmFsIFZhcmlhYmxlIHRvIHRlc3QuXG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHZhcmlhYmxlIGlzIGEgbnVtYmVyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNOdW1iZXIodmFsKSB7XG5cdHJldHVybiB0eXBlb2YgdmFsID09PSAnbnVtYmVyJztcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdmFsdWUgaXMgYSB3aW5kb3cuXG4gKiBAcGFyYW0geyp9IHZhbFxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzV2luZG93KHZhbCkge1xuXHRyZXR1cm4gdmFsICE9PSBudWxsICYmIHZhbCA9PT0gdmFsLndpbmRvdztcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIHNwZWNpZmllZCB2YWx1ZSBpcyBhbiBvYmplY3QuIFRoaXMgaW5jbHVkZXMgYXJyYXlzXG4gKiBhbmQgZnVuY3Rpb25zLlxuICogQHBhcmFtIHs/fSB2YWwgVmFyaWFibGUgdG8gdGVzdC5cbiAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdmFyaWFibGUgaXMgYW4gb2JqZWN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNPYmplY3QodmFsKSB7XG5cdHZhciB0eXBlID0gdHlwZW9mIHZhbDtcblx0cmV0dXJuIHR5cGUgPT09ICdvYmplY3QnICYmIHZhbCAhPT0gbnVsbCB8fCB0eXBlID09PSAnZnVuY3Rpb24nO1xufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB2YWx1ZSBpcyBhIFByb21pc2UuXG4gKiBAcGFyYW0geyp9IHZhbFxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUHJvbWlzZSh2YWwpIHtcblx0cmV0dXJuIHZhbCAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsLnRoZW4gPT09ICdmdW5jdGlvbic7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHZhbHVlIGlzIGEgc3RyaW5nLlxuICogQHBhcmFtIHsqfSB2YWxcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1N0cmluZyh2YWwpIHtcblx0cmV0dXJuIHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnIHx8IHZhbCBpbnN0YW5jZW9mIFN0cmluZztcbn1cblxuLyoqXG4gKiBNZXJnZXMgdGhlIHZhbHVlcyBvZiBhIGV4cG9ydCBmdW5jdGlvbiBwcm9wZXJ0eSBhIGNsYXNzIHdpdGggdGhlIHZhbHVlcyBvZiB0aGF0XG4gKiBwcm9wZXJ0eSBmb3IgYWxsIGl0cyBzdXBlciBjbGFzc2VzLCBhbmQgc3RvcmVzIGl0IGFzIGEgbmV3IHN0YXRpY1xuICogcHJvcGVydHkgb2YgdGhhdCBjbGFzcy4gSWYgdGhlIGV4cG9ydCBmdW5jdGlvbiBwcm9wZXJ0eSBhbHJlYWR5IGV4aXN0ZWQsIGl0IHdvbid0XG4gKiBiZSByZWNhbGN1bGF0ZWQuXG4gKiBAcGFyYW0geyFmdW5jdGlvbigpfSBjb25zdHJ1Y3RvciBDbGFzcyBjb25zdHJ1Y3Rvci5cbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eU5hbWUgUHJvcGVydHkgbmFtZSB0byBiZSBjb2xsZWN0ZWQuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCosICopOio9fSBvcHRfbWVyZ2VGbiBGdW5jdGlvbiB0aGF0IHJlY2VpdmVzIGFuIGFycmF5IGZpbGxlZFxuICogICB3aXRoIHRoZSB2YWx1ZXMgb2YgdGhlIHByb3BlcnR5IGZvciB0aGUgY3VycmVudCBjbGFzcyBhbmQgYWxsIGl0cyBzdXBlciBjbGFzc2VzLlxuICogICBTaG91bGQgcmV0dXJuIHRoZSBtZXJnZWQgdmFsdWUgdG8gYmUgc3RvcmVkIG9uIHRoZSBjdXJyZW50IGNsYXNzLlxuICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIG1lcmdlIGhhcHBlbnMsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlU3VwZXJDbGFzc2VzUHJvcGVydHkoY29uc3RydWN0b3IsIHByb3BlcnR5TmFtZSwgb3B0X21lcmdlRm4pIHtcblx0dmFyIG1lcmdlZE5hbWUgPSBwcm9wZXJ0eU5hbWUgKyAnX01FUkdFRCc7XG5cdGlmIChjb25zdHJ1Y3Rvci5oYXNPd25Qcm9wZXJ0eShtZXJnZWROYW1lKSkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdHZhciBtZXJnZWQgPSBjb2xsZWN0U3VwZXJDbGFzc2VzUHJvcGVydHkoY29uc3RydWN0b3IsIHByb3BlcnR5TmFtZSk7XG5cdGlmIChvcHRfbWVyZ2VGbikge1xuXHRcdG1lcmdlZCA9IG9wdF9tZXJnZUZuKG1lcmdlZCk7XG5cdH1cblx0Y29uc3RydWN0b3JbbWVyZ2VkTmFtZV0gPSBtZXJnZWQ7XG5cdHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIE51bGwgZnVuY3Rpb24gdXNlZCBmb3IgZGVmYXVsdCB2YWx1ZXMgb2YgY2FsbGJhY2tzLCBldGMuXG4gKiBAcmV0dXJuIHt2b2lkfSBOb3RoaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbnVsbEZ1bmN0aW9uKCkge31cbiIsIid1c2Ugc3RyaWN0JztcblxuLy8gVGhpcyBmaWxlIGV4aXN0cyBqdXN0IGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSwgbWFraW5nIHN1cmUgdGhhdCBvbGRcbi8vIGRlZmF1bHQgaW1wb3J0cyBmb3IgdGhpcyBmaWxlIHN0aWxsIHdvcmsuIEl0J3MgYmVzdCB0byB1c2UgdGhlIG5hbWVkIGV4cG9ydHNcbi8vIGZvciBlYWNoIGZ1bmN0aW9uIGluc3RlYWQgdGhvdWdoLCBzaW5jZSB0aGF0IGFsbG93cyBidW5kbGVycyBsaWtlIFJvbGx1cCB0b1xuLy8gcmVkdWNlIHRoZSBidW5kbGUgc2l6ZSBieSByZW1vdmluZyB1bnVzZWQgY29kZS5cbmltcG9ydCAqIGFzIGNvcmUgZnJvbSAnLi9jb3JlTmFtZWQnO1xuXG5leHBvcnQgZGVmYXVsdCBjb3JlO1xuZXhwb3J0IHsgY29yZSB9O1xuZXhwb3J0ICogZnJvbSAnLi9jb3JlTmFtZWQnO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBpc0RlZiB9IGZyb20gJy4uL2NvcmUnO1xuXG5jbGFzcyBhcnJheSB7XG5cdC8qKlxuXHQgKiBDaGVja3MgaWYgdGhlIGdpdmVuIGFycmF5cyBoYXZlIHRoZSBzYW1lIGNvbnRlbnQuXG5cdCAqIEBwYXJhbSB7IUFycmF5PCo+fSBhcnIxXG5cdCAqIEBwYXJhbSB7IUFycmF5PCo+fSBhcnIyXG5cdCAqIEByZXR1cm4ge2Jvb2xlYW59XG5cdCAqL1xuXHRzdGF0aWMgZXF1YWwoYXJyMSwgYXJyMikge1xuXHRcdGlmIChhcnIxLmxlbmd0aCAhPT0gYXJyMi5sZW5ndGgpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBhcnIxLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAoYXJyMVtpXSAhPT0gYXJyMltpXSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgdGhlIGZpcnN0IHZhbHVlIGluIHRoZSBnaXZlbiBhcnJheSB0aGF0IGlzbid0IHVuZGVmaW5lZC5cblx0ICogQHBhcmFtIHshQXJyYXl9IGFyclxuXHQgKiBAcmV0dXJuIHsqfVxuXHQgKi9cblx0c3RhdGljIGZpcnN0RGVmaW5lZFZhbHVlKGFycikge1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAoYXJyW2ldICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0cmV0dXJuIGFycltpXTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogVHJhbnNmb3JtcyB0aGUgaW5wdXQgbmVzdGVkIGFycmF5IHRvIGJlY29tZSBmbGF0LlxuXHQgKiBAcGFyYW0ge0FycmF5LjwqfEFycmF5LjwqPj59IGFyciBOZXN0ZWQgYXJyYXkgdG8gZmxhdHRlbi5cblx0ICogQHBhcmFtIHtBcnJheS48Kj59IG9wdF9vdXRwdXQgT3B0aW9uYWwgb3V0cHV0IGFycmF5LlxuXHQgKiBAcmV0dXJuIHtBcnJheS48Kj59IEZsYXQgYXJyYXkuXG5cdCAqL1xuXHRzdGF0aWMgZmxhdHRlbihhcnIsIG9wdF9vdXRwdXQpIHtcblx0XHR2YXIgb3V0cHV0ID0gb3B0X291dHB1dCB8fCBbXTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xuXHRcdFx0aWYgKEFycmF5LmlzQXJyYXkoYXJyW2ldKSkge1xuXHRcdFx0XHRhcnJheS5mbGF0dGVuKGFycltpXSwgb3V0cHV0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG91dHB1dC5wdXNoKGFycltpXSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBvdXRwdXQ7XG5cdH1cblxuXHQvKipcblx0ICogUmVtb3ZlcyB0aGUgZmlyc3Qgb2NjdXJyZW5jZSBvZiBhIHBhcnRpY3VsYXIgdmFsdWUgZnJvbSBhbiBhcnJheS5cblx0ICogQHBhcmFtIHtBcnJheS48VD59IGFyciBBcnJheSBmcm9tIHdoaWNoIHRvIHJlbW92ZSB2YWx1ZS5cblx0ICogQHBhcmFtIHtUfSBvYmogT2JqZWN0IHRvIHJlbW92ZS5cblx0ICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBhbiBlbGVtZW50IHdhcyByZW1vdmVkLlxuXHQgKiBAdGVtcGxhdGUgVFxuXHQgKi9cblx0c3RhdGljIHJlbW92ZShhcnIsIG9iaikge1xuXHRcdHZhciBpID0gYXJyLmluZGV4T2Yob2JqKTtcblx0XHR2YXIgcnY7XG5cdFx0aWYgKCAocnYgPSBpID49IDApICkge1xuXHRcdFx0YXJyYXkucmVtb3ZlQXQoYXJyLCBpKTtcblx0XHR9XG5cdFx0cmV0dXJuIHJ2O1xuXHR9XG5cblx0LyoqXG5cdCAqIFJlbW92ZXMgZnJvbSBhbiBhcnJheSB0aGUgZWxlbWVudCBhdCBpbmRleCBpXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGFyciBBcnJheSBvciBhcnJheSBsaWtlIG9iamVjdCBmcm9tIHdoaWNoIHRvIHJlbW92ZSB2YWx1ZS5cblx0ICogQHBhcmFtIHtudW1iZXJ9IGkgVGhlIGluZGV4IHRvIHJlbW92ZS5cblx0ICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBhbiBlbGVtZW50IHdhcyByZW1vdmVkLlxuXHQgKi9cblx0c3RhdGljIHJlbW92ZUF0KGFyciwgaSkge1xuXHRcdHJldHVybiBBcnJheS5wcm90b3R5cGUuc3BsaWNlLmNhbGwoYXJyLCBpLCAxKS5sZW5ndGggPT09IDE7XG5cdH1cblxuXHQvKipcblx0ICogU2xpY2VzIHRoZSBnaXZlbiBhcnJheSwganVzdCBsaWtlIEFycmF5LnByb3RvdHlwZS5zbGljZSwgYnV0IHRoaXNcblx0ICogaXMgZmFzdGVyIGFuZCB3b3JraW5nIG9uIGFsbCBhcnJheS1saWtlIG9iamVjdHMgKGxpa2UgYXJndW1lbnRzKS5cblx0ICogQHBhcmFtIHshT2JqZWN0fSBhcnIgQXJyYXktbGlrZSBvYmplY3QgdG8gc2xpY2UuXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBUaGUgaW5kZXggdGhhdCBzaG91bGQgc3RhcnQgdGhlIHNsaWNlLlxuXHQgKiBAcGFyYW0ge251bWJlcj19IG9wdF9lbmQgVGhlIGluZGV4IHdoZXJlIHRoZSBzbGljZSBzaG91bGQgZW5kLCBub3Rcblx0ICogICBpbmNsdWRlZCBpbiB0aGUgZmluYWwgYXJyYXkuIElmIG5vdCBnaXZlbiwgYWxsIGVsZW1lbnRzIGFmdGVyIHRoZVxuXHQgKiAgIHN0YXJ0IGluZGV4IHdpbGwgYmUgaW5jbHVkZWQuXG5cdCAqIEByZXR1cm4geyFBcnJheX1cblx0ICovXG5cdHN0YXRpYyBzbGljZShhcnIsIHN0YXJ0LCBvcHRfZW5kKSB7XG5cdFx0dmFyIHNsaWNlZCA9IFtdO1xuXHRcdHZhciBlbmQgPSBpc0RlZihvcHRfZW5kKSA/IG9wdF9lbmQgOiBhcnIubGVuZ3RoO1xuXHRcdGZvciAodmFyIGkgPSBzdGFydDsgaSA8IGVuZDsgaSsrKSB7XG5cdFx0XHRzbGljZWQucHVzaChhcnJbaV0pO1xuXHRcdH1cblx0XHRyZXR1cm4gc2xpY2VkO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGFycmF5O1xuIiwiLyohXG4gKiBQb2x5ZmlsbCBmcm9tIEdvb2dsZSdzIENsb3N1cmUgTGlicmFyeS5cbiAqIENvcHlyaWdodCAyMDEzIFRoZSBDbG9zdXJlIExpYnJhcnkgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBhc3luYyA9IHt9O1xuXG5cbi8qKlxuICogVGhyb3cgYW4gaXRlbSB3aXRob3V0IGludGVycnVwdGluZyB0aGUgY3VycmVudCBleGVjdXRpb24gY29udGV4dC4gIEZvclxuICogZXhhbXBsZSwgaWYgcHJvY2Vzc2luZyBhIGdyb3VwIG9mIGl0ZW1zIGluIGEgbG9vcCwgc29tZXRpbWVzIGl0IGlzIHVzZWZ1bFxuICogdG8gcmVwb3J0IGFuIGVycm9yIHdoaWxlIHN0aWxsIGFsbG93aW5nIHRoZSByZXN0IG9mIHRoZSBiYXRjaCB0byBiZVxuICogcHJvY2Vzc2VkLlxuICogQHBhcmFtIHsqfSBleGNlcHRpb25cbiAqL1xuYXN5bmMudGhyb3dFeGNlcHRpb24gPSBmdW5jdGlvbihleGNlcHRpb24pIHtcblx0Ly8gRWFjaCB0aHJvdyBuZWVkcyB0byBiZSBpbiBpdHMgb3duIGNvbnRleHQuXG5cdGFzeW5jLm5leHRUaWNrKGZ1bmN0aW9uKCkge1xuXHRcdHRocm93IGV4Y2VwdGlvbjtcblx0fSk7XG59O1xuXG5cbi8qKlxuICogRmlyZXMgdGhlIHByb3ZpZGVkIGNhbGxiYWNrIGp1c3QgYmVmb3JlIHRoZSBjdXJyZW50IGNhbGxzdGFjayB1bndpbmRzLCBvciBhc1xuICogc29vbiBhcyBwb3NzaWJsZSBhZnRlciB0aGUgY3VycmVudCBKUyBleGVjdXRpb24gY29udGV4dC5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24odGhpczpUSElTKX0gY2FsbGJhY2tcbiAqIEBwYXJhbSB7VEhJUz19IG9wdF9jb250ZXh0IE9iamVjdCB0byB1c2UgYXMgdGhlIFwidGhpcyB2YWx1ZVwiIHdoZW4gY2FsbGluZ1xuICogICAgIHRoZSBwcm92aWRlZCBmdW5jdGlvbi5cbiAqIEB0ZW1wbGF0ZSBUSElTXG4gKi9cbmFzeW5jLnJ1biA9IGZ1bmN0aW9uKGNhbGxiYWNrLCBvcHRfY29udGV4dCkge1xuXHRpZiAoIWFzeW5jLnJ1bi53b3JrUXVldWVTY2hlZHVsZWRfKSB7XG5cdFx0Ly8gTm90aGluZyBpcyBjdXJyZW50bHkgc2NoZWR1bGVkLCBzY2hlZHVsZSBpdCBub3cuXG5cdFx0YXN5bmMubmV4dFRpY2soYXN5bmMucnVuLnByb2Nlc3NXb3JrUXVldWUpO1xuXHRcdGFzeW5jLnJ1bi53b3JrUXVldWVTY2hlZHVsZWRfID0gdHJ1ZTtcblx0fVxuXG5cdGFzeW5jLnJ1bi53b3JrUXVldWVfLnB1c2goXG5cdFx0bmV3IGFzeW5jLnJ1bi5Xb3JrSXRlbV8oY2FsbGJhY2ssIG9wdF9jb250ZXh0KSk7XG59O1xuXG5cbi8qKiBAcHJpdmF0ZSB7Ym9vbGVhbn0gKi9cbmFzeW5jLnJ1bi53b3JrUXVldWVTY2hlZHVsZWRfID0gZmFsc2U7XG5cblxuLyoqIEBwcml2YXRlIHshQXJyYXkuPCFhc3luYy5ydW4uV29ya0l0ZW1fPn0gKi9cbmFzeW5jLnJ1bi53b3JrUXVldWVfID0gW107XG5cbi8qKlxuICogUnVuIGFueSBwZW5kaW5nIGFzeW5jLnJ1biB3b3JrIGl0ZW1zLiBUaGlzIGZ1bmN0aW9uIGlzIG5vdCBpbnRlbmRlZFxuICogZm9yIGdlbmVyYWwgdXNlLCBidXQgZm9yIHVzZSBieSBlbnRyeSBwb2ludCBoYW5kbGVycyB0byBydW4gaXRlbXMgYWhlYWQgb2ZcbiAqIGFzeW5jLm5leHRUaWNrLlxuICovXG5hc3luYy5ydW4ucHJvY2Vzc1dvcmtRdWV1ZSA9IGZ1bmN0aW9uKCkge1xuXHQvLyBOT1RFOiBhZGRpdGlvbmFsIHdvcmsgcXVldWUgaXRlbXMgbWF5IGJlIHB1c2hlZCB3aGlsZSBwcm9jZXNzaW5nLlxuXHR3aGlsZSAoYXN5bmMucnVuLndvcmtRdWV1ZV8ubGVuZ3RoKSB7XG5cdFx0Ly8gRG9uJ3QgbGV0IHRoZSB3b3JrIHF1ZXVlIGdyb3cgaW5kZWZpbml0ZWx5LlxuXHRcdHZhciB3b3JrSXRlbXMgPSBhc3luYy5ydW4ud29ya1F1ZXVlXztcblx0XHRhc3luYy5ydW4ud29ya1F1ZXVlXyA9IFtdO1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgd29ya0l0ZW1zLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgd29ya0l0ZW0gPSB3b3JrSXRlbXNbaV07XG5cdFx0XHR0cnkge1xuXHRcdFx0XHR3b3JrSXRlbS5mbi5jYWxsKHdvcmtJdGVtLnNjb3BlKTtcblx0XHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdFx0YXN5bmMudGhyb3dFeGNlcHRpb24oZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0Ly8gVGhlcmUgYXJlIG5vIG1vcmUgd29yayBpdGVtcywgcmVzZXQgdGhlIHdvcmsgcXVldWUuXG5cdGFzeW5jLnJ1bi53b3JrUXVldWVTY2hlZHVsZWRfID0gZmFsc2U7XG59O1xuXG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZmluYWxcbiAqIEBzdHJ1Y3RcbiAqIEBwcml2YXRlXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbigpfSBmblxuICogQHBhcmFtIHtPYmplY3R8bnVsbHx1bmRlZmluZWR9IHNjb3BlXG4gKi9cbmFzeW5jLnJ1bi5Xb3JrSXRlbV8gPSBmdW5jdGlvbihmbiwgc2NvcGUpIHtcblx0LyoqIEBjb25zdCAqL1xuXHR0aGlzLmZuID0gZm47XG5cdC8qKiBAY29uc3QgKi9cblx0dGhpcy5zY29wZSA9IHNjb3BlO1xufTtcblxuXG4vKipcbiAqIEZpcmVzIHRoZSBwcm92aWRlZCBjYWxsYmFja3MgYXMgc29vbiBhcyBwb3NzaWJsZSBhZnRlciB0aGUgY3VycmVudCBKU1xuICogZXhlY3V0aW9uIGNvbnRleHQuIHNldFRpbWVvdXQo4oCmLCAwKSBhbHdheXMgdGFrZXMgYXQgbGVhc3QgNW1zIGZvciBsZWdhY3lcbiAqIHJlYXNvbnMuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKHRoaXM6U0NPUEUpfSBjYWxsYmFjayBDYWxsYmFjayBmdW5jdGlvbiB0byBmaXJlIGFzIHNvb24gYXNcbiAqICAgICBwb3NzaWJsZS5cbiAqIEBwYXJhbSB7U0NPUEU9fSBvcHRfY29udGV4dCBPYmplY3QgaW4gd2hvc2Ugc2NvcGUgdG8gY2FsbCB0aGUgbGlzdGVuZXIuXG4gKiBAdGVtcGxhdGUgU0NPUEVcbiAqL1xuYXN5bmMubmV4dFRpY2sgPSBmdW5jdGlvbihjYWxsYmFjaywgb3B0X2NvbnRleHQpIHtcblx0dmFyIGNiID0gY2FsbGJhY2s7XG5cdGlmIChvcHRfY29udGV4dCkge1xuXHRcdGNiID0gY2FsbGJhY2suYmluZChvcHRfY29udGV4dCk7XG5cdH1cblx0Y2IgPSBhc3luYy5uZXh0VGljay53cmFwQ2FsbGJhY2tfKGNiKTtcblx0Ly8gSW50cm9kdWNlZCBhbmQgY3VycmVudGx5IG9ubHkgc3VwcG9ydGVkIGJ5IElFMTAuXG5cdC8vIFZlcmlmeSBpZiB2YXJpYWJsZSBpcyBkZWZpbmVkIG9uIHRoZSBjdXJyZW50IHJ1bnRpbWUgKGkuZS4sIG5vZGUsIGJyb3dzZXIpLlxuXHQvLyBDYW4ndCB1c2UgdHlwZW9mIGVuY2xvc2VkIGluIGEgZnVuY3Rpb24gKHN1Y2ggYXMgY29yZS5pc0Z1bmN0aW9uKSBvciBhblxuXHQvLyBleGNlcHRpb24gd2lsbCBiZSB0aHJvd24gd2hlbiB0aGUgZnVuY3Rpb24gaXMgY2FsbGVkIG9uIGFuIGVudmlyb25tZW50XG5cdC8vIHdoZXJlIHRoZSB2YXJpYWJsZSBpcyB1bmRlZmluZWQuXG5cdGlmICh0eXBlb2Ygc2V0SW1tZWRpYXRlID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0c2V0SW1tZWRpYXRlKGNiKTtcblx0XHRyZXR1cm47XG5cdH1cblx0Ly8gTG9vayBmb3IgYW5kIGNhY2hlIHRoZSBjdXN0b20gZmFsbGJhY2sgdmVyc2lvbiBvZiBzZXRJbW1lZGlhdGUuXG5cdGlmICghYXN5bmMubmV4dFRpY2suc2V0SW1tZWRpYXRlXykge1xuXHRcdGFzeW5jLm5leHRUaWNrLnNldEltbWVkaWF0ZV8gPSBhc3luYy5uZXh0VGljay5nZXRTZXRJbW1lZGlhdGVFbXVsYXRvcl8oKTtcblx0fVxuXHRhc3luYy5uZXh0VGljay5zZXRJbW1lZGlhdGVfKGNiKTtcbn07XG5cblxuLyoqXG4gKiBDYWNoZSBmb3IgdGhlIHNldEltbWVkaWF0ZSBpbXBsZW1lbnRhdGlvbi5cbiAqIEB0eXBlIHtmdW5jdGlvbihmdW5jdGlvbigpKX1cbiAqIEBwcml2YXRlXG4gKi9cbmFzeW5jLm5leHRUaWNrLnNldEltbWVkaWF0ZV8gPSBudWxsO1xuXG5cbi8qKlxuICogRGV0ZXJtaW5lcyB0aGUgYmVzdCBwb3NzaWJsZSBpbXBsZW1lbnRhdGlvbiB0byBydW4gYSBmdW5jdGlvbiBhcyBzb29uIGFzXG4gKiB0aGUgSlMgZXZlbnQgbG9vcCBpcyBpZGxlLlxuICogQHJldHVybiB7ZnVuY3Rpb24oZnVuY3Rpb24oKSl9IFRoZSBcInNldEltbWVkaWF0ZVwiIGltcGxlbWVudGF0aW9uLlxuICogQHByaXZhdGVcbiAqL1xuYXN5bmMubmV4dFRpY2suZ2V0U2V0SW1tZWRpYXRlRW11bGF0b3JfID0gZnVuY3Rpb24oKSB7XG5cdC8vIENyZWF0ZSBhIHByaXZhdGUgbWVzc2FnZSBjaGFubmVsIGFuZCB1c2UgaXQgdG8gcG9zdE1lc3NhZ2UgZW1wdHkgbWVzc2FnZXNcblx0Ly8gdG8gb3Vyc2VsdmVzLlxuXHR2YXIgQ2hhbm5lbDtcblxuXHQvLyBWZXJpZnkgaWYgdmFyaWFibGUgaXMgZGVmaW5lZCBvbiB0aGUgY3VycmVudCBydW50aW1lIChpLmUuLCBub2RlLCBicm93c2VyKS5cblx0Ly8gQ2FuJ3QgdXNlIHR5cGVvZiBlbmNsb3NlZCBpbiBhIGZ1bmN0aW9uIChzdWNoIGFzIGNvcmUuaXNGdW5jdGlvbikgb3IgYW5cblx0Ly8gZXhjZXB0aW9uIHdpbGwgYmUgdGhyb3duIHdoZW4gdGhlIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbiBhbiBlbnZpcm9ubWVudFxuXHQvLyB3aGVyZSB0aGUgdmFyaWFibGUgaXMgdW5kZWZpbmVkLlxuXHRpZiAodHlwZW9mIE1lc3NhZ2VDaGFubmVsID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0Q2hhbm5lbCA9IE1lc3NhZ2VDaGFubmVsO1xuXHR9XG5cblx0Ly8gSWYgTWVzc2FnZUNoYW5uZWwgaXMgbm90IGF2YWlsYWJsZSBhbmQgd2UgYXJlIGluIGEgYnJvd3NlciwgaW1wbGVtZW50XG5cdC8vIGFuIGlmcmFtZSBiYXNlZCBwb2x5ZmlsbCBpbiBicm93c2VycyB0aGF0IGhhdmUgcG9zdE1lc3NhZ2UgYW5kXG5cdC8vIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIuIFRoZSBsYXR0ZXIgZXhjbHVkZXMgSUU4IGJlY2F1c2UgaXQgaGFzIGFcblx0Ly8gc3luY2hyb25vdXMgcG9zdE1lc3NhZ2UgaW1wbGVtZW50YXRpb24uXG5cdGlmICh0eXBlb2YgQ2hhbm5lbCA9PT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcblx0XHR3aW5kb3cucG9zdE1lc3NhZ2UgJiYgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIpIHtcblx0XHQvKiogQGNvbnN0cnVjdG9yICovXG5cdFx0Q2hhbm5lbCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0Ly8gTWFrZSBhbiBlbXB0eSwgaW52aXNpYmxlIGlmcmFtZS5cblx0XHRcdHZhciBpZnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpZnJhbWUnKTtcblx0XHRcdGlmcmFtZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXHRcdFx0aWZyYW1lLnNyYyA9ICcnO1xuXHRcdFx0ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKGlmcmFtZSk7XG5cdFx0XHR2YXIgd2luID0gaWZyYW1lLmNvbnRlbnRXaW5kb3c7XG5cdFx0XHR2YXIgZG9jID0gd2luLmRvY3VtZW50O1xuXHRcdFx0ZG9jLm9wZW4oKTtcblx0XHRcdGRvYy53cml0ZSgnJyk7XG5cdFx0XHRkb2MuY2xvc2UoKTtcblx0XHRcdHZhciBtZXNzYWdlID0gJ2NhbGxJbW1lZGlhdGUnICsgTWF0aC5yYW5kb20oKTtcblx0XHRcdHZhciBvcmlnaW4gPSB3aW4ubG9jYXRpb24ucHJvdG9jb2wgKyAnLy8nICsgd2luLmxvY2F0aW9uLmhvc3Q7XG5cdFx0XHR2YXIgb25tZXNzYWdlID0gZnVuY3Rpb24oZSkge1xuXHRcdFx0XHQvLyBWYWxpZGF0ZSBvcmlnaW4gYW5kIG1lc3NhZ2UgdG8gbWFrZSBzdXJlIHRoYXQgdGhpcyBtZXNzYWdlIHdhc1xuXHRcdFx0XHQvLyBpbnRlbmRlZCBmb3IgdXMuXG5cdFx0XHRcdGlmIChlLm9yaWdpbiAhPT0gb3JpZ2luICYmIGUuZGF0YSAhPT0gbWVzc2FnZSkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLnBvcnQxLm9ubWVzc2FnZSgpO1xuXHRcdFx0fS5iaW5kKHRoaXMpO1xuXHRcdFx0d2luLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBvbm1lc3NhZ2UsIGZhbHNlKTtcblx0XHRcdHRoaXMucG9ydDEgPSB7fTtcblx0XHRcdHRoaXMucG9ydDIgPSB7XG5cdFx0XHRcdHBvc3RNZXNzYWdlOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR3aW4ucG9zdE1lc3NhZ2UobWVzc2FnZSwgb3JpZ2luKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9O1xuXHR9XG5cdGlmICh0eXBlb2YgQ2hhbm5lbCAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHR2YXIgY2hhbm5lbCA9IG5ldyBDaGFubmVsKCk7XG5cdFx0Ly8gVXNlIGEgZmlmbyBsaW5rZWQgbGlzdCB0byBjYWxsIGNhbGxiYWNrcyBpbiB0aGUgcmlnaHQgb3JkZXIuXG5cdFx0dmFyIGhlYWQgPSB7fTtcblx0XHR2YXIgdGFpbCA9IGhlYWQ7XG5cdFx0Y2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBmdW5jdGlvbigpIHtcblx0XHRcdGhlYWQgPSBoZWFkLm5leHQ7XG5cdFx0XHR2YXIgY2IgPSBoZWFkLmNiO1xuXHRcdFx0aGVhZC5jYiA9IG51bGw7XG5cdFx0XHRjYigpO1xuXHRcdH07XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKGNiKSB7XG5cdFx0XHR0YWlsLm5leHQgPSB7XG5cdFx0XHRcdGNiOiBjYlxuXHRcdFx0fTtcblx0XHRcdHRhaWwgPSB0YWlsLm5leHQ7XG5cdFx0XHRjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKDApO1xuXHRcdH07XG5cdH1cblx0Ly8gSW1wbGVtZW50YXRpb24gZm9yIElFNi04OiBTY3JpcHQgZWxlbWVudHMgZmlyZSBhbiBhc3luY2hyb25vdXNcblx0Ly8gb25yZWFkeXN0YXRlY2hhbmdlIGV2ZW50IHdoZW4gaW5zZXJ0ZWQgaW50byB0aGUgRE9NLlxuXHRpZiAodHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiAnb25yZWFkeXN0YXRlY2hhbmdlJyBpblxuXHRcdGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKGNiKSB7XG5cdFx0XHR2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG5cdFx0XHRzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdC8vIENsZWFuIHVwIGFuZCBjYWxsIHRoZSBjYWxsYmFjay5cblx0XHRcdFx0c2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG5cdFx0XHRcdHNjcmlwdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNjcmlwdCk7XG5cdFx0XHRcdHNjcmlwdCA9IG51bGw7XG5cdFx0XHRcdGNiKCk7XG5cdFx0XHRcdGNiID0gbnVsbDtcblx0XHRcdH07XG5cdFx0XHRkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcblx0XHR9O1xuXHR9XG5cdC8vIEZhbGwgYmFjayB0byBzZXRUaW1lb3V0IHdpdGggMC4gSW4gYnJvd3NlcnMgdGhpcyBjcmVhdGVzIGEgZGVsYXkgb2YgNW1zXG5cdC8vIG9yIG1vcmUuXG5cdHJldHVybiBmdW5jdGlvbihjYikge1xuXHRcdHNldFRpbWVvdXQoY2IsIDApO1xuXHR9O1xufTtcblxuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGlzIG92ZXJyaWRlZCB0byBwcm90ZWN0IGNhbGxiYWNrcyB3aXRoIGVudHJ5IHBvaW50XG4gKiBtb25pdG9yIGlmIHRoZSBhcHBsaWNhdGlvbiBtb25pdG9ycyBlbnRyeSBwb2ludHMuXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IGNhbGxiYWNrIENhbGxiYWNrIGZ1bmN0aW9uIHRvIGZpcmUgYXMgc29vbiBhcyBwb3NzaWJsZS5cbiAqIEByZXR1cm4ge2Z1bmN0aW9uKCl9IFRoZSB3cmFwcGVkIGNhbGxiYWNrLlxuICogQHByaXZhdGVcbiAqL1xuYXN5bmMubmV4dFRpY2sud3JhcENhbGxiYWNrXyA9IGZ1bmN0aW9uKG9wdF9yZXR1cm5WYWx1ZSkge1xuXHRyZXR1cm4gb3B0X3JldHVyblZhbHVlO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmM7XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogRGlzcG9zYWJsZSB1dGlsaXR5LiBXaGVuIGluaGVyaXRlZCBwcm92aWRlcyB0aGUgYGRpc3Bvc2VgIGZ1bmN0aW9uIHRvIGl0c1xuICogc3ViY2xhc3MsIHdoaWNoIGlzIHJlc3BvbnNpYmxlIGZvciBkaXNwb3Npbmcgb2YgYW55IG9iamVjdCByZWZlcmVuY2VzXG4gKiB3aGVuIGFuIGluc3RhbmNlIHdvbid0IGJlIHVzZWQgYW55bW9yZS4gU3ViY2xhc3NlcyBzaG91bGQgb3ZlcnJpZGVcbiAqIGBkaXNwb3NlSW50ZXJuYWxgIHRvIGltcGxlbWVudCBhbnkgc3BlY2lmaWMgZGlzcG9zaW5nIGxvZ2ljLlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmNsYXNzIERpc3Bvc2FibGUge1xuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHQvKipcblx0XHQgKiBGbGFnIGluZGljYXRpbmcgaWYgdGhpcyBpbnN0YW5jZSBoYXMgYWxyZWFkeSBiZWVuIGRpc3Bvc2VkLlxuXHRcdCAqIEB0eXBlIHtib29sZWFufVxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKi9cblx0XHR0aGlzLmRpc3Bvc2VkXyA9IGZhbHNlO1xuXHR9XG5cblx0LyoqXG5cdCAqIERpc3Bvc2VzIG9mIHRoaXMgaW5zdGFuY2UncyBvYmplY3QgcmVmZXJlbmNlcy4gQ2FsbHMgYGRpc3Bvc2VJbnRlcm5hbGAuXG5cdCAqL1xuXHRkaXNwb3NlKCkge1xuXHRcdGlmICghdGhpcy5kaXNwb3NlZF8pIHtcblx0XHRcdHRoaXMuZGlzcG9zZUludGVybmFsKCk7XG5cdFx0XHR0aGlzLmRpc3Bvc2VkXyA9IHRydWU7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFN1YmNsYXNzZXMgc2hvdWxkIG92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvIGltcGxlbWVudCBhbnkgc3BlY2lmaWNcblx0ICogZGlzcG9zaW5nIGxvZ2ljIChsaWtlIGNsZWFyaW5nIHJlZmVyZW5jZXMgYW5kIGNhbGxpbmcgYGRpc3Bvc2VgIG9uIG90aGVyXG5cdCAqIGRpc3Bvc2FibGVzKS5cblx0ICovXG5cdGRpc3Bvc2VJbnRlcm5hbCgpIHt9XG5cblx0LyoqXG5cdCAqIENoZWNrcyBpZiB0aGlzIGluc3RhbmNlIGhhcyBhbHJlYWR5IGJlZW4gZGlzcG9zZWQuXG5cdCAqIEByZXR1cm4ge2Jvb2xlYW59XG5cdCAqL1xuXHRpc0Rpc3Bvc2VkKCkge1xuXHRcdHJldHVybiB0aGlzLmRpc3Bvc2VkXztcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBEaXNwb3NhYmxlO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jbGFzcyBvYmplY3Qge1xuXHQvKipcblx0ICogQ29waWVzIGFsbCB0aGUgbWVtYmVycyBvZiBhIHNvdXJjZSBvYmplY3QgdG8gYSB0YXJnZXQgb2JqZWN0LlxuXHQgKiBAcGFyYW0ge09iamVjdH0gdGFyZ2V0IFRhcmdldCBvYmplY3QuXG5cdCAqIEBwYXJhbSB7Li4uT2JqZWN0fSB2YXJfYXJncyBUaGUgb2JqZWN0cyBmcm9tIHdoaWNoIHZhbHVlcyB3aWxsIGJlIGNvcGllZC5cblx0ICogQHJldHVybiB7T2JqZWN0fSBSZXR1cm5zIHRoZSB0YXJnZXQgb2JqZWN0IHJlZmVyZW5jZS5cblx0ICovXG5cdHN0YXRpYyBtaXhpbih0YXJnZXQpIHtcblx0XHR2YXIga2V5LCBzb3VyY2U7XG5cdFx0Zm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHNvdXJjZSA9IGFyZ3VtZW50c1tpXTtcblx0XHRcdGZvciAoa2V5IGluIHNvdXJjZSkge1xuXHRcdFx0XHR0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gdGFyZ2V0O1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgYW4gb2JqZWN0IGJhc2VkIG9uIGl0cyBmdWxseSBxdWFsaWZpZWQgZXh0ZXJuYWwgbmFtZS5cblx0ICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIGZ1bGx5IHF1YWxpZmllZCBuYW1lLlxuXHQgKiBAcGFyYW0ge29iamVjdD19IG9wdF9vYmogVGhlIG9iamVjdCB3aXRoaW4gd2hpY2ggdG8gbG9vazsgZGVmYXVsdCBpc1xuXHQgKiAgICAgPGNvZGU+d2luZG93PC9jb2RlPi5cblx0ICogQHJldHVybiB7P30gVGhlIHZhbHVlIChvYmplY3Qgb3IgcHJpbWl0aXZlKSBvciwgaWYgbm90IGZvdW5kLCB1bmRlZmluZWQuXG5cdCAqL1xuXHRzdGF0aWMgZ2V0T2JqZWN0QnlOYW1lKG5hbWUsIG9wdF9vYmopIHtcblx0XHR2YXIgc2NvcGUgPSBvcHRfb2JqIHx8IHdpbmRvdztcblx0XHR2YXIgcGFydHMgPSBuYW1lLnNwbGl0KCcuJyk7XG5cdFx0cmV0dXJuIHBhcnRzLnJlZHVjZSgocGFydCwga2V5KSA9PiBwYXJ0W2tleV0sIHNjb3BlKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEgbmV3IG9iamVjdCB3aXRoIHRoZSBzYW1lIGtleXMgYXMgdGhlIGdpdmVuIG9uZSwgYnV0IHdpdGhcblx0ICogdGhlaXIgdmFsdWVzIHNldCB0byB0aGUgcmV0dXJuIHZhbHVlcyBvZiB0aGUgc3BlY2lmaWVkIGZ1bmN0aW9uLlxuXHQgKiBAcGFyYW0geyFPYmplY3R9IG9ialxuXHQgKiBAcGFyYW0geyFmdW5jdGlvbihzdHJpbmcsICopfSBmblxuXHQgKiBAcmV0dXJuIHshT2JqZWN0fVxuXHQgKi9cblx0c3RhdGljIG1hcChvYmosIGZuKSB7XG5cdFx0dmFyIG1hcHBlZE9iaiA9IHt9O1xuXHRcdHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdG1hcHBlZE9ialtrZXlzW2ldXSA9IGZuKGtleXNbaV0sIG9ialtrZXlzW2ldXSk7XG5cdFx0fVxuXHRcdHJldHVybiBtYXBwZWRPYmo7XG5cdH1cblxuXHQvKipcblx0ICogQ2hlY2tzIGlmIHRoZSB0d28gZ2l2ZW4gb2JqZWN0cyBhcmUgZXF1YWwuIFRoaXMgaXMgZG9uZSB2aWEgYSBzaGFsbG93XG5cdCAqIGNoZWNrLCBpbmNsdWRpbmcgb25seSB0aGUga2V5cyBkaXJlY3RseSBjb250YWluZWQgYnkgdGhlIDIgb2JqZWN0cy5cblx0ICogQHJldHVybiB7Ym9vbGVhbn1cblx0ICovXG5cdHN0YXRpYyBzaGFsbG93RXF1YWwob2JqMSwgb2JqMikge1xuXHRcdGlmIChvYmoxID09PSBvYmoyKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHR2YXIga2V5czEgPSBPYmplY3Qua2V5cyhvYmoxKTtcblx0XHR2YXIga2V5czIgPSBPYmplY3Qua2V5cyhvYmoyKTtcblx0XHRpZiAoa2V5czEubGVuZ3RoICE9PSBrZXlzMi5sZW5ndGgpIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGtleXMxLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRpZiAob2JqMVtrZXlzMVtpXV0gIT09IG9iajJba2V5czFbaV1dKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgb2JqZWN0O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jbGFzcyBzdHJpbmcge1xuXHQvKipcblx0ICogQ29tcGFyZXMgdGhlIGdpdmVuIHN0cmluZ3Mgd2l0aG91dCB0YWtpbmcgdGhlIGNhc2UgaW50byBhY2NvdW50LlxuXHQgKiBAcGFyYW0ge3N0cmluZ3xudW1iZXJ9IHN0cjFcblx0ICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBzdHIyXG5cdCAqIEByZXR1cm4ge251bWJlcn0gRWl0aGVyIC0xLCAwIG9yIDEsIGFjY29yZGluZyB0byBpZiB0aGUgZmlyc3Qgc3RyaW5nIGlzXG5cdCAqICAgICBcInNtYWxsZXJcIiwgZXF1YWwgb3IgXCJiaWdnZXJcIiB0aGFuIHRoZSBzZWNvbmQgZ2l2ZW4gc3RyaW5nLlxuXHQgKi9cblx0c3RhdGljIGNhc2VJbnNlbnNpdGl2ZUNvbXBhcmUoc3RyMSwgc3RyMikge1xuXHQgIHZhciB0ZXN0MSA9IFN0cmluZyhzdHIxKS50b0xvd2VyQ2FzZSgpO1xuXHQgIHZhciB0ZXN0MiA9IFN0cmluZyhzdHIyKS50b0xvd2VyQ2FzZSgpO1xuXG5cdCAgaWYgKHRlc3QxIDwgdGVzdDIpIHtcblx0ICAgIHJldHVybiAtMTtcblx0ICB9IGVsc2UgaWYgKHRlc3QxID09PSB0ZXN0Mikge1xuXHQgICAgcmV0dXJuIDA7XG5cdCAgfSBlbHNlIHtcblx0ICAgIHJldHVybiAxO1xuXHQgIH1cblx0fVxuXG5cdC8qKlxuXHQgKiBSZW1vdmVzIHRoZSBicmVha2luZyBzcGFjZXMgZnJvbSB0aGUgbGVmdCBhbmQgcmlnaHQgb2YgdGhlIHN0cmluZyBhbmRcblx0ICogY29sbGFwc2VzIHRoZSBzZXF1ZW5jZXMgb2YgYnJlYWtpbmcgc3BhY2VzIGluIHRoZSBtaWRkbGUgaW50byBzaW5nbGUgc3BhY2VzLlxuXHQgKiBUaGUgb3JpZ2luYWwgYW5kIHRoZSByZXN1bHQgc3RyaW5ncyByZW5kZXIgdGhlIHNhbWUgd2F5IGluIEhUTUwuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgQSBzdHJpbmcgaW4gd2hpY2ggdG8gY29sbGFwc2Ugc3BhY2VzLlxuXHQgKiBAcmV0dXJuIHtzdHJpbmd9IENvcHkgb2YgdGhlIHN0cmluZyB3aXRoIG5vcm1hbGl6ZWQgYnJlYWtpbmcgc3BhY2VzLlxuXHQgKi9cblx0c3RhdGljIGNvbGxhcHNlQnJlYWtpbmdTcGFjZXMoc3RyKSB7XG5cdFx0cmV0dXJuIHN0ci5yZXBsYWNlKC9bXFx0XFxyXFxuIF0rL2csICcgJykucmVwbGFjZSgvXltcXHRcXHJcXG4gXSt8W1xcdFxcclxcbiBdKyQvZywgJycpO1xuXHR9XG5cblx0LyoqXG5cdCogRXNjYXBlcyBjaGFyYWN0ZXJzIGluIHRoZSBzdHJpbmcgdGhhdCBhcmUgbm90IHNhZmUgdG8gdXNlIGluIGEgUmVnRXhwLlxuXHQqIEBwYXJhbSB7Kn0gc3RyIFRoZSBzdHJpbmcgdG8gZXNjYXBlLiBJZiBub3QgYSBzdHJpbmcsIGl0IHdpbGwgYmUgY2FzdGVkXG5cdCogICAgIHRvIG9uZS5cblx0KiBAcmV0dXJuIHtzdHJpbmd9IEEgUmVnRXhwIHNhZmUsIGVzY2FwZWQgY29weSBvZiB7QGNvZGUgc30uXG5cdCovXG5cdHN0YXRpYyBlc2NhcGVSZWdleChzdHIpIHtcblx0XHRyZXR1cm4gU3RyaW5nKHN0cilcblx0XHRcdC5yZXBsYWNlKC8oWy0oKVxcW1xcXXt9Kz8qLiRcXF58LDojPCFcXFxcXSkvZywgJ1xcXFwkMScpXG5cdFx0XHQucmVwbGFjZSgvXFx4MDgvZywgJ1xcXFx4MDgnKTtcblx0fVxuXG5cdC8qKlxuXHQqIFJldHVybnMgYSBzdHJpbmcgd2l0aCBhdCBsZWFzdCA2NC1iaXRzIG9mIHJhbmRvbW5lc3MuXG5cdCogQHJldHVybiB7c3RyaW5nfSBBIHJhbmRvbSBzdHJpbmcsIGUuZy4gc24xczd2YjRnY2ljLlxuXHQqL1xuXHRzdGF0aWMgZ2V0UmFuZG9tU3RyaW5nKCkge1xuXHRcdHZhciB4ID0gMjE0NzQ4MzY0ODtcblx0XHRyZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogeCkudG9TdHJpbmcoMzYpICtcblx0XHRcdE1hdGguYWJzKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHgpIF4gRGF0ZS5ub3coKSkudG9TdHJpbmcoMzYpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENhbGN1bGF0ZXMgdGhlIGhhc2hjb2RlIGZvciBhIHN0cmluZy4gVGhlIGhhc2hjb2RlIHZhbHVlIGlzIGNvbXB1dGVkIGJ5XG5cdCAqIHRoZSBzdW0gYWxnb3JpdGhtOiBzWzBdKjMxXihuLTEpICsgc1sxXSozMV4obi0yKSArIC4uLiArIHNbbi0xXS4gQSBuaWNlXG5cdCAqIHByb3BlcnR5IG9mIHVzaW5nIDMxIHByaW1lIGlzIHRoYXQgdGhlIG11bHRpcGxpY2F0aW9uIGNhbiBiZSByZXBsYWNlZCBieVxuXHQgKiBhIHNoaWZ0IGFuZCBhIHN1YnRyYWN0aW9uIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2U6IDMxKmkgPT0gKGk8PDUpLWkuXG5cdCAqIE1vZGVybiBWTXMgZG8gdGhpcyBzb3J0IG9mIG9wdGltaXphdGlvbiBhdXRvbWF0aWNhbGx5LlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdmFsIFRhcmdldCBzdHJpbmcuXG5cdCAqIEByZXR1cm4ge051bWJlcn0gUmV0dXJucyB0aGUgc3RyaW5nIGhhc2hjb2RlLlxuXHQgKi9cblx0c3RhdGljIGhhc2hDb2RlKHZhbCkge1xuXHRcdHZhciBoYXNoID0gMDtcblx0XHRmb3IgKHZhciBpID0gMCwgbGVuID0gdmFsLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRoYXNoID0gMzEgKiBoYXNoICsgdmFsLmNoYXJDb2RlQXQoaSk7XG5cdFx0XHRoYXNoICU9IDB4MTAwMDAwMDAwO1xuXHRcdH1cblx0XHRyZXR1cm4gaGFzaDtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXBsYWNlcyBpbnRlcnZhbCBpbnRvIHRoZSBzdHJpbmcgd2l0aCBzcGVjaWZpZWQgdmFsdWUsIGUuZy5cblx0ICogYHJlcGxhY2VJbnRlcnZhbChcImFiY2RlXCIsIDEsIDQsIFwiXCIpYCByZXR1cm5zIFwiYWVcIi5cblx0ICogQHBhcmFtIHtzdHJpbmd9IHN0ciBUaGUgaW5wdXQgc3RyaW5nLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gc3RhcnQgU3RhcnQgaW50ZXJ2YWwgcG9zaXRpb24gdG8gYmUgcmVwbGFjZWQuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBlbmQgRW5kIGludGVydmFsIHBvc2l0aW9uIHRvIGJlIHJlcGxhY2VkLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgVGhlIHZhbHVlIHRoYXQgcmVwbGFjZXMgdGhlIHNwZWNpZmllZCBpbnRlcnZhbC5cblx0ICogQHJldHVybiB7c3RyaW5nfVxuXHQgKi9cblx0c3RhdGljIHJlcGxhY2VJbnRlcnZhbChzdHIsIHN0YXJ0LCBlbmQsIHZhbHVlKSB7XG5cdFx0cmV0dXJuIHN0ci5zdWJzdHJpbmcoMCwgc3RhcnQpICsgdmFsdWUgKyBzdHIuc3Vic3RyaW5nKGVuZCk7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgc3RyaW5nO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIENsYXNzIHJlc3BvbnNpYmxlIGZvciBzdG9yaW5nIGFuIG9iamVjdCB0aGF0IHdpbGwgYmUgcHJpbnRlZCBhcyBKU09OXG4gKiB3aGVuIHRoZSBgdG9TdHJpbmdgIG1ldGhvZCBpcyBjYWxsZWQuXG4gKi9cbmNsYXNzIEVtYm9kaWVkIHtcblx0LyoqXG5cdCAqIENvbnN0cnVjdHMgYSBFbWJvZGllZCBpbnN0YW5jZS5cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHR0aGlzLmJvZHlfID0ge307XG5cdH1cblxuXHQvKipcblx0ICogR2V0cyB0aGUganNvbiBvYmplY3QgdGhhdCByZXByZXNlbnRzIHRoaXMgaW5zdGFuY2UuXG5cdCAqIEByZXR1cm4geyFPYmplY3R9XG5cdCAqL1xuXHRib2R5KCkge1xuXHRcdHJldHVybiB0aGlzLmJvZHlfO1xuXHR9XG5cblx0LyoqXG5cdCAqIElmIHRoZSBnaXZlbiBvYmplY3QgaXMgYW4gaW5zdGFuY2Ugb2YgRW1ib2RpZWQsIHRoaXMgd2lsbFxuXHQgKiByZXR1cm4gaXRzIGJvZHkgY29udGVudC4gT3RoZXJ3aXNlIHRoaXMgd2lsbCByZXR1cm4gdGhlXG5cdCAqIG9yaWdpbmFsIG9iamVjdC5cblx0ICogQHBhcmFtIHsqfSBvYmpcblx0ICogQHJldHVybiB7Kn1cblx0ICogQHN0YXRpY1xuXHQgKi9cblx0c3RhdGljIHRvQm9keShvYmopIHtcblx0XHRyZXR1cm4gKG9iaiBpbnN0YW5jZW9mIEVtYm9kaWVkKSA/IG9iai5ib2R5KCkgOiBvYmo7XG5cdH1cblxuXHQvKipcblx0ICogR2V0cyB0aGUganNvbiBzdHJpbmcgdGhhdCByZXByZXNlbnRzIHRoaXMgaW5zdGFuY2UuXG5cdCAqIEByZXR1cm4ge3N0cmluZ31cblx0ICovXG5cdHRvU3RyaW5nKCkge1xuXHRcdHJldHVybiBKU09OLnN0cmluZ2lmeSh0aGlzLmJvZHkoKSk7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRW1ib2RpZWQ7XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IGNvcmUgfSBmcm9tICdtZXRhbCc7XG5pbXBvcnQgRW1ib2RpZWQgZnJvbSAnLi9FbWJvZGllZCc7XG5cbi8qKlxuICogQ2xhc3MgcmVzcG9uc2libGUgZm9yIHN0b3JpbmcgYW5kIGhhbmRsaW5nIHRoZSBib2R5IGNvbnRlbnRzXG4gKiBvZiBhIEZpbHRlciBpbnN0YW5jZS5cbiAqL1xuY2xhc3MgRmlsdGVyQm9keSB7XG5cdC8qKlxuXHQgKiBDb25zdHJ1Y3RzIGEge0BsaW5rIEZpbHRlckJvZHl9IGluc3RhbmNlLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZmllbGQgVGhlIG5hbWUgb2YgdGhlIGZpZWxkIHRvIGZpbHRlciBieS5cblx0ICogQHBhcmFtIHsqfSBvcGVyYXRvck9yVmFsdWUgSWYgYSB0aGlyZCBwYXJhbSBpcyBnaXZlbiwgdGhpcyBzaG91bGRcblx0ICogICBiZSB0aGUgZmlsdGVyJ3Mgb3BlcmF0b3IgKGxpa2UgXCI+PVwiKS4gT3RoZXJ3aXNlLCB0aGlzIHdpbGwgYmVcblx0ICogICB1c2VkIGFzIHRoZSBmaWx0ZXIncyB2YWx1ZSwgYW5kIHRoZSBmaWx0ZXIncyBvcGVyYXRvciB3aWxsIGJlIFwiPVwiLlxuXHQgKiBAcGFyYW0geyo9fSBvcHRfdmFsdWUgVGhlIGZpbHRlcidzIHZhbHVlLlxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICovXG5cdGNvbnN0cnVjdG9yKGZpZWxkLCBvcGVyYXRvck9yVmFsdWUsIG9wdF92YWx1ZSkge1xuXHRcdHZhciBvYmogPSB7XG5cdFx0XHRvcGVyYXRvcjogY29yZS5pc0RlZihvcHRfdmFsdWUpID8gb3BlcmF0b3JPclZhbHVlIDogJz0nXG5cdFx0fTtcblxuXHRcdHZhciB2YWx1ZSA9IGNvcmUuaXNEZWYob3B0X3ZhbHVlKSA/IG9wdF92YWx1ZSA6IG9wZXJhdG9yT3JWYWx1ZTtcblxuXHRcdGlmIChjb3JlLmlzRGVmQW5kTm90TnVsbCh2YWx1ZSkpIHtcblx0XHRcdGlmICh2YWx1ZSBpbnN0YW5jZW9mIEVtYm9kaWVkKSB7XG5cdFx0XHRcdHZhbHVlID0gdmFsdWUuYm9keSgpO1xuXHRcdFx0fVxuXHRcdFx0b2JqLnZhbHVlID0gdmFsdWU7XG5cdFx0fVxuXG5cdFx0aWYgKGNvcmUuaXNEZWZBbmROb3ROdWxsKGZpZWxkKSkge1xuXHRcdFx0dGhpcy5jcmVhdGVCb2R5XyhmaWVsZCwgb2JqKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5jcmVhdGVCb2R5XygnYW5kJywgW10pO1xuXHRcdH1cblxuXHR9XG5cblx0LyoqXG5cdCAqIENvbXBvc2VzIHRoZSBjdXJyZW50IGZpbHRlciB3aXRoIHRoZSBnaXZlbiBvcGVyYXRvci5cblx0ICogQHBhcmFtIHtzdHJpbmd9IG9wZXJhdG9yXG5cdCAqIEBwYXJhbSB7RmlsdGVyPX0gb3B0X2ZpbHRlciBBbm90aGVyIGZpbHRlciB0byBjb21wb3NlIHRoaXMgZmlsdGVyIHdpdGgsXG5cdCAqICAgaWYgdGhlIG9wZXJhdG9yIGlzIG5vdCB1bmFyeS5cblx0ICovXG5cdGFkZChvcGVyYXRvciwgb3B0X2ZpbHRlcikge1xuXHRcdGlmIChvcHRfZmlsdGVyKSB7XG5cdFx0XHR0aGlzLmFkZEFycmF5T3BlcmF0b3JfKG9wZXJhdG9yLCBvcHRfZmlsdGVyKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhpcy5jcmVhdGVCb2R5XyhvcGVyYXRvciwgdGhpcy5ib2R5Xyk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIENvbXBvc2VzIHRoZSBjdXJyZW50IGZpbHRlciB3aXRoIGFuIG9wZXJhdG9yIHRoYXQgc3RvcmVzIGl0cyB2YWx1ZXMgaW4gYW4gYXJyYXkuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBvcGVyYXRvclxuXHQgKiBAcGFyYW0geyFGaWx0ZXJ9IGZpbHRlclxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRhZGRBcnJheU9wZXJhdG9yXyhvcGVyYXRvciwgZmlsdGVyKSB7XG5cdFx0aWYgKCEodGhpcy5ib2R5X1tvcGVyYXRvcl0gaW5zdGFuY2VvZiBBcnJheSkpIHtcblx0XHRcdHRoaXMuY3JlYXRlQm9keV8ob3BlcmF0b3IsIFt0aGlzLmJvZHlfXSk7XG5cdFx0fVxuXHRcdHRoaXMuYm9keV9bb3BlcmF0b3JdLnB1c2goZmlsdGVyLmJvZHkoKSk7XG5cdH1cblxuXHQvKipcblx0ICogQWRkcyBmaWx0ZXJzIHRvIGJlIGNvbXBvc2VkIHdpdGggdGhpcyBmaWx0ZXIgYm9keSB1c2luZyB0aGUgZ2l2ZW4gb3BlcmF0b3IuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBvcGVyYXRvclxuXHQgKiBAcGFyYW0gey4uLip9IGZpbHRlcnMgQSB2YXJpYWJsZSBhbW91bnQgb2YgZmlsdGVycyB0byBiZSBjb21wb3NlZC5cblx0ICovXG5cdGFkZE1hbnkob3BlcmF0b3IsIC4uLmZpbHRlcnMpIHtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGZpbHRlcnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHRoaXMuYWRkKG9wZXJhdG9yLCBmaWx0ZXJzW2ldKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhIG5ldyBib2R5IG9iamVjdCwgc2V0dGluZyB0aGUgcmVxdWVzdGQga2V5IHRvIHRoZSBnaXZlbiB2YWx1ZS5cblx0ICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IHRvIHNldCBpbiB0aGUgbmV3IGJvZHkgb2JqZWN0XG5cdCAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRoZSByZXF1ZXN0ZWQga2V5IHNob3VsZCBoYXZlIGluIHRoZSBuZXcgYm9keSBvYmplY3QuXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdGNyZWF0ZUJvZHlfKGtleSwgdmFsdWUpIHtcblx0XHR0aGlzLmJvZHlfID0ge307XG5cdFx0dGhpcy5ib2R5X1trZXldID0gdmFsdWU7XG5cdH1cblxuXHQvKipcblx0ICogR2V0cyB0aGUganNvbiBvYmplY3QgdGhhdCByZXByZXNlbnRzIHRoaXMgZmlsdGVyJ3MgYm9keS5cblx0ICogQHJldHVybiB7IU9iamVjdH1cblx0ICovXG5cdGdldE9iamVjdCgpIHtcblx0XHRyZXR1cm4gdGhpcy5ib2R5Xztcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBGaWx0ZXJCb2R5O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgRW1ib2RpZWQgZnJvbSAnLi9FbWJvZGllZCc7XG5cbi8qKlxuICogQ2xhc3MgcmVzcG9uc2libGUgZm9yIGJ1aWxkaW5nIGRpZmZlcmVudCB0eXBlcyBvZiBnZW9tZXRyaWNcbiAqIHNoYXBlcy5cbiAqL1xuY2xhc3MgR2VvIHtcblx0LyoqXG5cdCAqIENyZWF0ZXMgYSBuZXcge0BsaW5rIEJvdW5kaW5nQm94fSBpbnN0YW5jZS5cblx0ICogQHBhcmFtIHsqfSB1cHBlckxlZnQgVGhlIHVwcGVyIGxlZnQgcG9pbnQuXG5cdCAqIEBwYXJhbSB7Kn0gbG93ZXJSaWdodCBUaGUgbG93ZXIgcmlnaHQgcG9pbnQuXG5cdCAqIEByZXR1cm4geyFCb3VuZGluZ0JveH1cblx0ICogQHN0YXRpY1xuXHQgKi9cblx0c3RhdGljIGJvdW5kaW5nQm94KHVwcGVyTGVmdCwgbG93ZXJSaWdodCkge1xuXHRcdHJldHVybiBuZXcgR2VvLkJvdW5kaW5nQm94KHVwcGVyTGVmdCwgbG93ZXJSaWdodCk7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhIG5ldyB7QGxpbmsgQ2lyY2xlfSBpbnN0YW5jZS5cblx0ICogQHBhcmFtIHsqfSBjZW50ZXIgVGhlIGNpcmNsZSdzIGNlbnRlciBjb29yZGluYXRlLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcmFkaXVzIFRoZSBjaXJjbGUncyByYWRpdXMuXG5cdCAqIEByZXR1cm4geyFDaXJjbGV9XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyBjaXJjbGUoY2VudGVyLCByYWRpdXMpIHtcblx0XHRyZXR1cm4gbmV3IEdlby5DaXJjbGUoY2VudGVyLCByYWRpdXMpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYSBuZXcge0BsaW5rIExpbmV9IGluc3RhbmNlLlxuXHQgKiBAcGFyYW0gey4uLip9IHBvaW50cyBUaGlzIGxpbmUncyBwb2ludHMuXG5cdCAqIEByZXR1cm4geyFMaW5lfVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzdGF0aWMgbGluZSguLi5wb2ludHMpIHtcblx0XHRyZXR1cm4gbmV3IEdlby5MaW5lKC4uLnBvaW50cyk7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhIG5ldyB7QGxpbmsgUG9pbnR9IGluc3RhbmNlLlxuXHQgKiBAcGFyYW0ge251bWJlcn0gbGF0IFRoZSBsYXRpdHVkZSBjb29yZGluYXRlXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBsb24gVGhlIGxvbmdpdHVkZSBjb29yZGluYXRlXG5cdCAqIEByZXR1cm4geyFQb2ludH1cblx0ICogQHN0YXRpY1xuXHQgKi9cblx0c3RhdGljIHBvaW50KGxhdCwgbG9uKSB7XG5cdFx0cmV0dXJuIG5ldyBHZW8uUG9pbnQobGF0LCBsb24pO1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYSBuZXcge0BsaW5rIFBvbHlnb259IGluc3RhbmNlLlxuXHQgKiBAcGFyYW0gey4uLip9IHBvaW50cyBUaGlzIHBvbHlnb24ncyBwb2ludHMuXG5cdCAqIEByZXR1cm4geyFQb2x5Z29ufVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzdGF0aWMgcG9seWdvbiguLi5wb2ludHMpIHtcblx0XHRyZXR1cm4gbmV3IEdlby5Qb2x5Z29uKC4uLnBvaW50cyk7XG5cdH1cbn1cblxuLyoqXG4gKiBDbGFzcyB0aGF0IHJlcHJlc2VudHMgYSBwb2ludCBjb29yZGluYXRlLlxuICogQGV4dGVuZHMge0VtYm9kaWVkfVxuICovXG5jbGFzcyBQb2ludCBleHRlbmRzIEVtYm9kaWVkIHtcblx0LyoqXG5cdCAqIENvbnN0cnVjdHMgYSB7QGxpbmsgUG9pbnR9IGluc3RhbmNlLlxuXHQgKiBAcGFyYW0ge251bWJlcn0gbGF0IFRoZSBsYXRpdHVkZSBjb29yZGluYXRlXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBsb24gVGhlIGxvbmdpdHVkZSBjb29yZGluYXRlXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKi9cblx0Y29uc3RydWN0b3IobGF0LCBsb24pIHtcblx0XHRzdXBlcigpO1xuXHRcdHRoaXMuYm9keV8gPSBbbGF0LCBsb25dO1xuXHR9XG59XG5HZW8uUG9pbnQgPSBQb2ludDtcblxuLyoqXG4gKiBDbGFzcyB0aGF0IHJlcHJlc2VudHMgYSBsaW5lLlxuICogQGV4dGVuZHMge0VtYm9kaWVkfVxuICovXG5jbGFzcyBMaW5lIGV4dGVuZHMgRW1ib2RpZWQge1xuXHQvKipcblx0ICogQ29uc3RydWN0cyBhIHtAbGluayBMaW5lfSBpbnN0YW5jZS5cblx0ICogQHBhcmFtIHsuLi4qfSBwb2ludHMgVGhpcyBsaW5lJ3MgcG9pbnRzLlxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICovXG5cdGNvbnN0cnVjdG9yKC4uLnBvaW50cykge1xuXHRcdHN1cGVyKCk7XG5cdFx0dGhpcy5ib2R5XyA9IHtcblx0XHRcdHR5cGU6ICdsaW5lc3RyaW5nJyxcblx0XHRcdGNvb3JkaW5hdGVzOiBwb2ludHMubWFwKHBvaW50ID0+IEVtYm9kaWVkLnRvQm9keShwb2ludCkpXG5cdFx0fTtcblx0fVxufVxuR2VvLkxpbmUgPSBMaW5lO1xuXG4vKipcbiAqIENsYXNzIHRoYXQgcmVwcmVzZW50cyBhIGJvdW5kaW5nIGJveC5cbiAqIEBleHRlbmRzIHtFbWJvZGllZH1cbiAqL1xuY2xhc3MgQm91bmRpbmdCb3ggZXh0ZW5kcyBFbWJvZGllZCB7XG5cdC8qKlxuXHQgKiBDb25zdHJ1Y3RzIGEge0BsaW5rIEJvdW5kaW5nQm94fSBpbnN0YW5jZS5cblx0ICogQHBhcmFtIHsqfSB1cHBlckxlZnQgVGhlIHVwcGVyIGxlZnQgcG9pbnQuXG5cdCAqIEBwYXJhbSB7Kn0gbG93ZXJSaWdodCBUaGUgbG93ZXIgcmlnaHQgcG9pbnQuXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKi9cblx0Y29uc3RydWN0b3IodXBwZXJMZWZ0LCBsb3dlclJpZ2h0KSB7XG5cdFx0c3VwZXIoKTtcblx0XHR0aGlzLmJvZHlfID0ge1xuXHRcdFx0dHlwZTogJ2VudmVsb3BlJyxcblx0XHRcdGNvb3JkaW5hdGVzOiBbRW1ib2RpZWQudG9Cb2R5KHVwcGVyTGVmdCksIEVtYm9kaWVkLnRvQm9keShsb3dlclJpZ2h0KV1cblx0XHR9O1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldHMgdGhpcyBib3VuZGluZyBib3gncyBwb2ludHMuXG5cdCAqIEByZXR1cm4geyFBcnJheX1cblx0ICovXG5cdGdldFBvaW50cygpIHtcblx0XHRyZXR1cm4gdGhpcy5ib2R5Xy5jb29yZGluYXRlcztcblx0fVxufVxuR2VvLkJvdW5kaW5nQm94ID0gQm91bmRpbmdCb3g7XG5cbi8qKlxuICogQ2xhc3MgdGhhdCByZXByZXNlbnRzIGEgY2lyY2xlLlxuICogQGV4dGVuZHMge0VtYm9kaWVkfVxuICovXG5jbGFzcyBDaXJjbGUgZXh0ZW5kcyBFbWJvZGllZCB7XG5cdC8qKlxuXHQgKiBDb25zdHJ1Y3RzIGEge0BsaW5rIENpcmNsZX0gaW5zdGFuY2UuXG5cdCAqIEBwYXJhbSB7Kn0gY2VudGVyIFRoZSBjaXJjbGUncyBjZW50ZXIgY29vcmRpbmF0ZS5cblx0ICogQHBhcmFtIHtzdHJpbmd9IHJhZGl1cyBUaGUgY2lyY2xlJ3MgcmFkaXVzLlxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICovXG5cdGNvbnN0cnVjdG9yKGNlbnRlciwgcmFkaXVzKSB7XG5cdFx0c3VwZXIoKTtcblx0XHR0aGlzLmJvZHlfID0ge1xuXHRcdFx0dHlwZTogJ2NpcmNsZScsXG5cdFx0XHRjb29yZGluYXRlczogRW1ib2RpZWQudG9Cb2R5KGNlbnRlciksXG5cdFx0XHRyYWRpdXM6IHJhZGl1c1xuXHRcdH07XG5cdH1cblxuXHQvKipcblx0ICogR2V0cyB0aGlzIGNpcmNsZSdzIGNlbnRlciBjb29yZGluYXRlLlxuXHQgKiBAcmV0dXJuIHsqfVxuXHQgKi9cblx0Z2V0Q2VudGVyKCkge1xuXHRcdHJldHVybiB0aGlzLmJvZHlfLmNvb3JkaW5hdGVzO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldHMgdGhpcyBjaXJjbGUncyByYWRpdXMuXG5cdCAqIEByZXR1cm4ge3N0cmluZ31cblx0ICovXG5cdGdldFJhZGl1cygpIHtcblx0XHRyZXR1cm4gdGhpcy5ib2R5Xy5yYWRpdXM7XG5cdH1cbn1cbkdlby5DaXJjbGUgPSBDaXJjbGU7XG5cbi8qKlxuICogQ2xhc3MgdGhhdCByZXByZXNlbnRzIGEgcG9seWdvbi5cbiAqIEBleHRlbmRzIHtFbWJvZGllZH1cbiAqL1xuY2xhc3MgUG9seWdvbiBleHRlbmRzIEVtYm9kaWVkIHtcblx0LyoqXG5cdCAqIENvbnN0cnVjdHMgYSB7QGxpbmsgUG9seWdvbn0gaW5zdGFuY2UuXG5cdCAqIEBwYXJhbSB7Li4uKn0gcG9pbnRzIFRoaXMgcG9seWdvbidzIHBvaW50cy5cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRjb25zdHJ1Y3RvciguLi5wb2ludHMpIHtcblx0XHRzdXBlcigpO1xuXHRcdHRoaXMuYm9keV8gPSB7XG5cdFx0XHR0eXBlOiAncG9seWdvbicsXG5cdFx0XHRjb29yZGluYXRlczogW11cblx0XHR9O1xuXHRcdHRoaXMuYWRkQ29vcmRpbmF0ZXNfKC4uLnBvaW50cyk7XG5cdH1cblxuXHQvKipcblx0ICogQWRkcyB0aGUgZ2l2ZW4gcG9pbnRzIGFzIGNvb3JkaW5hdGVzIGZvciB0aGlzIHBvbHlnb24uXG5cdCAqIEBwYXJhbSB7Li4uKn0gcG9pbnRzXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdGFkZENvb3JkaW5hdGVzXyguLi5wb2ludHMpIHtcblx0XHR0aGlzLmJvZHlfLmNvb3JkaW5hdGVzLnB1c2gocG9pbnRzLm1hcChwb2ludCA9PiBFbWJvZGllZC50b0JvZHkocG9pbnQpKSk7XG5cdH1cblxuXHQvKipcblx0ICogQWRkcyB0aGUgZ2l2ZW4gcG9pbnRzIGFzIGEgaG9sZSBpbnNpZGUgdGhpcyBwb2x5Z29uLlxuXHQgKiBAcGFyYW0gIHsuLi4qfSBwb2ludHNcblx0ICogQGNoYWlubmFibGVcblx0ICovXG5cdGhvbGUoLi4ucG9pbnRzKSB7XG5cdFx0dGhpcy5hZGRDb29yZGluYXRlc18oLi4ucG9pbnRzKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxufVxuR2VvLlBvbHlnb24gPSBQb2x5Z29uO1xuXG5leHBvcnQgZGVmYXVsdCBHZW87XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IGNvcmUgfSBmcm9tICdtZXRhbCc7XG5pbXBvcnQgRW1ib2RpZWQgZnJvbSAnLi9FbWJvZGllZCc7XG5cbi8qKlxuICogQ2xhc3MgcmVzcG9uc2libGUgZm9yIGJ1aWxkaW5nIHJhbmdlIG9iamVjdHMgdG8gYmUgdXNlZCBieSBgRmlsdGVyYC5cbiAqIEBleHRlbmRzIHtFbWJvZGllZH1cbiAqL1xuY2xhc3MgUmFuZ2UgZXh0ZW5kcyBFbWJvZGllZCB7XG5cdC8qKlxuXHQgKiBDb25zdHJ1Y3RzIGEge0BsaW5rIFJhbmdlfSBpbnN0YW5jZS5cblx0ICogQHBhcmFtIHsqfSBmcm9tXG5cdCAqIEBwYXJhbSB7Kn0gb3B0X3RvXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKi9cblx0Y29uc3RydWN0b3IoZnJvbSwgb3B0X3RvKSB7XG5cdFx0c3VwZXIoKTtcblx0XHRpZiAoY29yZS5pc0RlZkFuZE5vdE51bGwoZnJvbSkpIHtcblx0XHRcdHRoaXMuYm9keV8uZnJvbSA9IGZyb207XG5cdFx0fVxuXHRcdGlmIChjb3JlLmlzRGVmQW5kTm90TnVsbChvcHRfdG8pKSB7XG5cdFx0XHR0aGlzLmJvZHlfLnRvID0gb3B0X3RvO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBDb25zdHJ1Y3RzIGEge0BsaW5rIFJhbmdlfSBpbnN0YW5jZS5cblx0ICogQHBhcmFtIHsqfSBmcm9tXG5cdCAqIEByZXR1cm4geyFSYW5nZX1cblx0ICogQHN0YXRpY1xuXHQgKi9cblx0c3RhdGljIGZyb20oZnJvbSkge1xuXHRcdHJldHVybiBuZXcgUmFuZ2UoZnJvbSk7XG5cdH1cblxuXHQvKipcblx0ICogQ29uc3RydWN0cyBhIHtAbGluayBSYW5nZX0gaW5zdGFuY2UuXG5cdCAqIEBwYXJhbSB7Kn0gZnJvbVxuXHQgKiBAcGFyYW0geyp9IHRvXG5cdCAqIEByZXR1cm4geyFSYW5nZX1cblx0ICogQHN0YXRpY1xuXHQgKi9cblx0c3RhdGljIHJhbmdlKGZyb20sIHRvKSB7XG5cdFx0cmV0dXJuIG5ldyBSYW5nZShmcm9tLCB0byk7XG5cdH1cblxuXHQvKipcblx0ICogQ29uc3RydWN0cyBhIHtAbGluayBSYW5nZX0gaW5zdGFuY2UuXG5cdCAqIEBwYXJhbSB7Kn0gdG9cblx0ICogQHJldHVybiB7IVJhbmdlfVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzdGF0aWMgdG8odG8pIHtcblx0XHRyZXR1cm4gbmV3IFJhbmdlKG51bGwsIHRvKTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBSYW5nZTtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgY29yZSB9IGZyb20gJ21ldGFsJztcbmltcG9ydCBFbWJvZGllZCBmcm9tICcuL0VtYm9kaWVkJztcbmltcG9ydCBGaWx0ZXJCb2R5IGZyb20gJy4vRmlsdGVyQm9keSc7XG5pbXBvcnQgR2VvIGZyb20gJy4vR2VvJztcbmltcG9ydCBSYW5nZSBmcm9tICcuL1JhbmdlJztcblxuLyoqXG4gKiBDbGFzcyByZXNwb25zaWJsZSBmb3IgYnVpbGRpbmcgZmlsdGVycy5cbiAqIEBleHRlbmRzIHtFbWJvZGllZH1cbiAqL1xuY2xhc3MgRmlsdGVyIGV4dGVuZHMgRW1ib2RpZWQge1xuXHQvKipcblx0ICogQ29uc3RydWN0cyBhIHtAbGluayBGaWx0ZXJ9IGluc3RhbmNlLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZmllbGQgVGhlIG5hbWUgb2YgdGhlIGZpZWxkIHRvIGZpbHRlciBieS5cblx0ICogQHBhcmFtIHsqfSBvcGVyYXRvck9yVmFsdWUgSWYgYSB0aGlyZCBwYXJhbSBpcyBnaXZlbiwgdGhpcyBzaG91bGRcblx0ICogICBiZSB0aGUgZmlsdGVyJ3Mgb3BlcmF0b3IgKGxpa2UgXCI+PVwiKS4gT3RoZXJ3aXNlLCB0aGlzIHdpbGwgYmVcblx0ICogICB1c2VkIGFzIHRoZSBmaWx0ZXIncyB2YWx1ZSwgYW5kIHRoZSBmaWx0ZXIncyBvcGVyYXRvciB3aWxsIGJlIFwiPVwiLlxuXHQgKiBAcGFyYW0geyo9fSBvcHRfdmFsdWUgVGhlIGZpbHRlcidzIHZhbHVlLlxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICovXG5cdGNvbnN0cnVjdG9yKGZpZWxkLCBvcGVyYXRvck9yVmFsdWUsIG9wdF92YWx1ZSkge1xuXHRcdHN1cGVyKCk7XG5cdFx0dGhpcy5ib2R5XyA9IG5ldyBGaWx0ZXJCb2R5KGZpZWxkLCBvcGVyYXRvck9yVmFsdWUsIG9wdF92YWx1ZSk7XG5cdH1cblxuXHQvKipcblx0ICogQWRkcyBhIGZpbHRlciB0byBiZSBjb21wb3NlZCB3aXRoIHRoaXMgZmlsdGVyIHVzaW5nIHRoZSBnaXZlbiBvcGVyYXRvci5cblx0ICogQHBhcmFtIHtzdHJpbmd9IG9wZXJhdG9yXG5cdCAqIEBwYXJhbSB7IUZpbHRlcnxzdHJpbmd9IGZpZWxkT3JGaWx0ZXIgRWl0aGVyIGEge0BsaW5rIEZpbHRlcn0gaW5zdGFuY2Ugb3IgdGhlXG5cdCAqICAgbmFtZSBvZiB0aGUgZmllbGQgdG8gZmlsdGVyIGJ5LlxuXHQgKiBAcGFyYW0geyo9fSBvcHRfb3BlcmF0b3JPclZhbHVlIEVpdGhlciB0aGUgZmllbGQncyBvcGVyYXRvciBvciBpdHMgdmFsdWUuXG5cdCAqIEBwYXJhbSB7Kj19IG9wdF92YWx1ZSBUaGUgZmlsdGVyJ3MgdmFsdWUuXG5cdCAqIEBjaGFpbm5hYmxlXG5cdCAqL1xuXHRhZGQob3BlcmF0b3IsIGZpZWxkT3JGaWx0ZXIsIG9wdF9vcGVyYXRvck9yVmFsdWUsIG9wdF92YWx1ZSkge1xuXHRcdHZhciBmaWx0ZXIgPSBmaWVsZE9yRmlsdGVyID8gRmlsdGVyLnRvRmlsdGVyKGZpZWxkT3JGaWx0ZXIsIG9wdF9vcGVyYXRvck9yVmFsdWUsIG9wdF92YWx1ZSkgOiBudWxsO1xuXHRcdHRoaXMuYm9keV8uYWRkKG9wZXJhdG9yLCBmaWx0ZXIpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0LyoqXG5cdCAqIEFkZHMgZmlsdGVycyB0byBiZSBjb21wb3NlZCB3aXRoIHRoaXMgZmlsdGVyIHVzaW5nIHRoZSBnaXZlbiBvcGVyYXRvci5cblx0ICogQHBhcmFtIHtzdHJpbmd9IG9wZXJhdG9yXG5cdCAqIEBwYXJhbSB7Li4uKn0gZmlsdGVycyBBIHZhcmlhYmxlIGFtb3VudCBvZiBmaWx0ZXJzIHRvIGJlIGNvbXBvc2VkLlxuXHQgKiBAY2hhaW5uYWJsZVxuXHQgKi9cblx0YWRkTWFueShvcGVyYXRvciwgLi4uZmlsdGVycykge1xuXHRcdHRoaXMuYm9keV8uYWRkTWFueShvcGVyYXRvciwgLi4uZmlsdGVycyk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKipcblx0ICogQWRkcyBhIGZpbHRlciB0byBiZSBjb21wb3NlZCB3aXRoIHRoaXMgZmlsdGVyIHVzaW5nIHRoZSBcImFuZFwiIG9wZXJhdG9yLlxuXHQgKiBAcGFyYW0geyFGaWx0ZXJ8c3RyaW5nfSBmaWVsZE9yRmlsdGVyIEVpdGhlciBhIHtAbGluayBGaWx0ZXJ9IGluc3RhbmNlIG9yIHRoZVxuXHQgKiAgIG5hbWUgb2YgdGhlIGZpZWxkIHRvIGZpbHRlciBieS5cblx0ICogQHBhcmFtIHsqPX0gb3B0X29wZXJhdG9yT3JWYWx1ZSBFaXRoZXIgdGhlIGZpZWxkJ3Mgb3BlcmF0b3Igb3IgaXRzIHZhbHVlLlxuXHQgKiBAcGFyYW0geyo9fSBvcHRfdmFsdWUgVGhlIGZpbHRlcidzIHZhbHVlLlxuXHQgKiBAY2hhaW5uYWJsZVxuXHQgKi9cblx0YW5kKGZpZWxkT3JGaWx0ZXIsIG9wdF9vcGVyYXRvck9yVmFsdWUsIG9wdF92YWx1ZSkge1xuXHRcdHJldHVybiB0aGlzLmFkZCgnYW5kJywgZmllbGRPckZpbHRlciwgb3B0X29wZXJhdG9yT3JWYWx1ZSwgb3B0X3ZhbHVlKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEge0BsaW5rIEZpbHRlcn0gaW5zdGFuY2UgdGhhdCB1c2VzIHRoZSBcImFueVwiIG9wZXJhdG9yLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZmllbGQgVGhlIG5hbWUgb2YgdGhlIGZpZWxkIHRvIGZpbHRlciBieS5cblx0ICogQHBhcmFtIHshKEFycmF5fC4uLiopfSB2YWx1ZXMgQSB2YXJpYWJsZSBhbW91bnQgb2YgdmFsdWVzIHRvIGJlIHVzZWQgd2l0aFxuXHQgKiAgIHRoZSBcIm5vbmVcIiBvcGVyYXRvci4gQ2FuIGJlIHBhc3NlZCBlaXRoZXIgYXMgYSBzaW5nbGUgYXJyYXkgb3IgYXNcblx0ICogICBzZXBhcmF0ZSBwYXJhbXMuXG5cdCAqIEByZXR1cm4geyFGaWx0ZXJ9XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyBhbnkoZmllbGQpIHtcblx0XHR2YXIgdmFsdWVzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcblx0XHRpZiAodmFsdWVzLmxlbmd0aCA9PT0gMSAmJiB2YWx1ZXNbMF0gaW5zdGFuY2VvZiBBcnJheSkge1xuXHRcdFx0dmFsdWVzID0gdmFsdWVzWzBdO1xuXHRcdH1cblx0XHRyZXR1cm4gbmV3IEZpbHRlcihmaWVsZCwgJ2FueScsIHZhbHVlcyk7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyBhIHtAbGluayBGaWx0ZXJ9IGluc3RhbmNlIHRoYXQgdXNlcyB0aGUgXCJncFwiIG9wZXJhdG9yLlxuXHQgKiBUaGlzIGlzIGEgc3BlY2lhbCB1c2UgY2FzZSBvZiBgRmlsdGVyLnBvbHlnb25gIGZvciBib3VuZGluZ1xuXHQgKiBib3hlcy5cblx0ICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkIFRoZSBmaWVsZCdzIG5hbWUuXG5cdCAqIEBwYXJhbSB7Kn0gYm94T3JVcHBlckxlZnQgRWl0aGVyIGEgYEdlby5Cb3VuZGluZ0JveGAgaW5zdGFuY2UsIG9yXG5cdCAqICAgYSBib3VuZGluZyBib3gncyB1cHBlciBsZWZ0IGNvb3JkaW5hdGUuXG5cdCAqIEBwYXJhbSB7Kj19IG9wdF9sb3dlclJpZ2h0IEEgYm91bmRpbmcgYm94J3MgbG93ZXIgcmlnaHQgY29vcmRpbmF0ZS5cblx0ICogQHJldHVybiB7IUZpbHRlcn1cblx0ICogQHN0YXRpY1xuXHQgKi9cblx0c3RhdGljIGJvdW5kaW5nQm94KGZpZWxkLCBib3hPclVwcGVyTGVmdCwgb3B0X2xvd2VyUmlnaHQpIHtcblx0XHRpZiAoYm94T3JVcHBlckxlZnQgaW5zdGFuY2VvZiBHZW8uQm91bmRpbmdCb3gpIHtcblx0XHRcdHJldHVybiBGaWx0ZXIucG9seWdvbihmaWVsZCwgLi4uYm94T3JVcHBlckxlZnQuZ2V0UG9pbnRzKCkpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm4gRmlsdGVyLnBvbHlnb24oZmllbGQsIGJveE9yVXBwZXJMZWZ0LCBvcHRfbG93ZXJSaWdodCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEdldHMgdGhlIGpzb24gb2JqZWN0IHRoYXQgcmVwcmVzZW50cyB0aGlzIGZpbHRlci5cblx0ICogQHJldHVybiB7IU9iamVjdH1cblx0ICovXG5cdGJvZHkoKSB7XG5cdFx0cmV0dXJuIHRoaXMuYm9keV8uZ2V0T2JqZWN0KCk7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyBhIHtAbGluayBGaWx0ZXJ9IGluc3RhbmNlIHRoYXQgdXNlcyB0aGUgXCJnZFwiIG9wZXJhdG9yLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZmllbGQgVGhlIGZpZWxkJ3MgbmFtZS5cblx0ICogQHBhcmFtIHsqfSBsb2NhdGlvbk9yQ2lyY2xlIEVpdGhlciBhIGBHZW8uQ2lyY2xlYCBpbnN0YW5jZSBvciBhIGNvb3JkaW5hdGUuXG5cdCAqIEBwYXJhbSB7UmFuZ2V8c3RyaW5nPX0gb3B0X3JhbmdlT3JEaXN0YW5jZSBFaXRoZXIgYSBgUmFuZ2VgIGluc3RhbmNlIG9yXG5cdCAqICAgdGhlIGRpc3RhbmNlIHZhbHVlLlxuXHQgKiBAcmV0dXJuIHshRmlsdGVyfVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzdGF0aWMgZGlzdGFuY2UoZmllbGQsIGxvY2F0aW9uT3JDaXJjbGUsIG9wdF9yYW5nZU9yRGlzdGFuY2UpIHtcblx0XHR2YXIgbG9jYXRpb24gPSBsb2NhdGlvbk9yQ2lyY2xlO1xuXHRcdHZhciByYW5nZSA9IG9wdF9yYW5nZU9yRGlzdGFuY2U7XG5cdFx0aWYgKGxvY2F0aW9uT3JDaXJjbGUgaW5zdGFuY2VvZiBHZW8uQ2lyY2xlKSB7XG5cdFx0XHRsb2NhdGlvbiA9IGxvY2F0aW9uT3JDaXJjbGUuZ2V0Q2VudGVyKCk7XG5cdFx0XHRyYW5nZSA9IFJhbmdlLnRvKGxvY2F0aW9uT3JDaXJjbGUuZ2V0UmFkaXVzKCkpO1xuXHRcdH0gZWxzZSBpZiAoIShvcHRfcmFuZ2VPckRpc3RhbmNlIGluc3RhbmNlb2YgUmFuZ2UpKSB7XG5cdFx0XHRyYW5nZSA9IFJhbmdlLnRvKG9wdF9yYW5nZU9yRGlzdGFuY2UpO1xuXHRcdH1cblx0XHRyZXR1cm4gRmlsdGVyLmRpc3RhbmNlSW50ZXJuYWxfKGZpZWxkLCBsb2NhdGlvbiwgcmFuZ2UpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgYSB7QGxpbmsgRmlsdGVyfSBpbnN0YW5jZSB0aGF0IHVzZXMgdGhlIFwiZ2RcIiBvcGVyYXRvci4gVGhpc1xuXHQgKiBpcyBqdXN0IGFuIGludGVybmFsIGhlbHBlciB1c2VkIGJ5IGBGaWx0ZXIuZGlzdGFuY2VgLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZmllbGQgVGhlIGZpZWxkJ3MgbmFtZS5cblx0ICogQHBhcmFtIHsqfSBsb2NhdGlvbiBBIGxvY2F0aW9uIGNvb3JkaW5hdGUuXG5cdCAqIEBwYXJhbSB7UmFuZ2V9IHJhbmdlIEEgYFJhbmdlYCBpbnN0YW5jZS5cblx0ICogQHJldHVybiB7IUZpbHRlcn1cblx0ICogQHByb3RlY3RlZFxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzdGF0aWMgZGlzdGFuY2VJbnRlcm5hbF8oZmllbGQsIGxvY2F0aW9uLCByYW5nZSkge1xuXHRcdHZhciB2YWx1ZSA9IHtcblx0XHRcdGxvY2F0aW9uOiBFbWJvZGllZC50b0JvZHkobG9jYXRpb24pXG5cdFx0fTtcblx0XHRyYW5nZSA9IHJhbmdlLmJvZHkoKTtcblx0XHRpZiAocmFuZ2UuZnJvbSkge1xuXHRcdFx0dmFsdWUubWluID0gcmFuZ2UuZnJvbTtcblx0XHR9XG5cdFx0aWYgKHJhbmdlLnRvKSB7XG5cdFx0XHR2YWx1ZS5tYXggPSByYW5nZS50bztcblx0XHR9XG5cdFx0cmV0dXJuIEZpbHRlci5maWVsZChmaWVsZCwgJ2dkJywgdmFsdWUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgYSB7QGxpbmsgRmlsdGVyfSBpbnN0YW5jZSB0aGF0IHVzZXMgdGhlIFwiPVwiIG9wZXJhdG9yLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZmllbGQgVGhlIG5hbWUgb2YgdGhlIGZpZWxkIHRvIGZpbHRlciBieS5cblx0ICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgZmlsdGVyJ3MgdmFsdWUuXG5cdCAqIEByZXR1cm4geyFGaWx0ZXJ9XG4gICAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyBlcXVhbChmaWVsZCwgdmFsdWUpIHtcblx0XHRyZXR1cm4gbmV3IEZpbHRlcihmaWVsZCwgJz0nLCB2YWx1ZSk7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyBhIHtAbGluayBGaWx0ZXJ9IGluc3RhbmNlIHRoYXQgdXNlcyB0aGUgXCJleGlzdHNcIiBvcGVyYXRvci5cblx0ICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkIFRoZSBmaWVsZCdzIG5hbWUuXG5cdCAqIEByZXR1cm4geyFGaWx0ZXJ9XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyBleGlzdHMoZmllbGQpIHtcblx0XHRyZXR1cm4gRmlsdGVyLmZpZWxkKGZpZWxkLCAnZXhpc3RzJywgbnVsbCk7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyBhIHtAbGluayBGaWx0ZXJ9IGluc3RhbmNlIHRoYXQgdXNlcyB0aGUgXCJmdXp6eVwiIG9wZXJhdG9yLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZmllbGRPclF1ZXJ5IElmIG5vIHNlY29uZCBzdHJpbmcgYXJndW1lbnQgaXMgZ2l2ZW4sIHRoaXNcblx0ICogICBzaG91bGQgYmUgdGhlIHF1ZXJ5IHN0cmluZywgaW4gd2hpY2ggY2FzZSBhbGwgZmllbGRzIHdpbGwgYmUgbWF0Y2hlZC5cblx0ICogICBPdGhlcndpc2UsIHRoaXMgc2hvdWxkIGJlIHRoZSBuYW1lIG9mIHRoZSBmaWVsZCB0byBtYXRjaC5cblx0ICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyPX0gb3B0X3F1ZXJ5T3JGdXp6aW5lc3MgSWYgdGhpcyBpcyBhIHN0cmluZywgaXQgc2hvdWxkXG5cdCAqICAgYmUgdGhlIHF1ZXJ5LCBvdGhlcndpc2UgaXQgc2hvdWxkIGJlIHRoZSBmdXp6aW5lc3MgdmFsdWUuXG5cdCAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X2Z1enppbmVzcyBUaGUgZnV6emluZXNzIHZhbHVlLlxuXHQgKiBAcmV0dXJuIHshRmlsdGVyfVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzdGF0aWMgZnV6enkoZmllbGRPclF1ZXJ5LCBvcHRfcXVlcnlPckZ1enppbmVzcywgb3B0X2Z1enppbmVzcykge1xuXHRcdHJldHVybiBGaWx0ZXIuZnV6enlJbnRlcm5hbF8oJ2Z1enp5JywgZmllbGRPclF1ZXJ5LCBvcHRfcXVlcnlPckZ1enppbmVzcywgb3B0X2Z1enppbmVzcyk7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyBhIHtAbGluayBGaWx0ZXJ9IGluc3RhbmNlIHRoYXQgdXNlcyB0aGUgZ2l2ZW4gZnV6enkgb3BlcmF0b3IuIFRoaXNcblx0ICogaXMgYW4gaW50ZXJuYWwgaW1wbGVtZW50YXRpb24gdXNlZCBieSB0aGUgYEZpbHRlci5mdXp6eWAgbWV0aG9kLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gb3BlcmF0b3IgVGhlIGZ1enp5IG9wZXJhdG9yLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZmllbGRPclF1ZXJ5IElmIG5vIHNlY29uZCBzdHJpbmcgYXJndW1lbnQgaXMgZ2l2ZW4sIHRoaXNcblx0ICogICBzaG91bGQgYmUgdGhlIHF1ZXJ5IHN0cmluZywgaW4gd2hpY2ggY2FzZSBhbGwgZmllbGRzIHdpbGwgYmUgbWF0Y2hlZC5cblx0ICogICBPdGhlcndpc2UsIHRoaXMgc2hvdWxkIGJlIHRoZSBuYW1lIG9mIHRoZSBmaWVsZCB0byBtYXRjaC5cblx0ICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyPX0gb3B0X3F1ZXJ5T3JGdXp6aW5lc3MgSWYgdGhpcyBpcyBhIHN0cmluZywgaXQgc2hvdWxkXG5cdCAqICAgYmUgdGhlIHF1ZXJ5LCBvdGhlcndpc2UgaXQgc2hvdWxkIGJlIHRoZSBmdXp6aW5lc3MgdmFsdWUuXG5cdCAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X2Z1enppbmVzcyBUaGUgZnV6emluZXNzIHZhbHVlLlxuXHQgKiBAcmV0dXJuIHshRmlsdGVyfVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyBmdXp6eUludGVybmFsXyhvcGVyYXRvciwgZmllbGRPclF1ZXJ5LCBvcHRfcXVlcnlPckZ1enppbmVzcywgb3B0X2Z1enppbmVzcykge1xuXHRcdHZhciBhcmcySXNTdHJpbmcgPSBjb3JlLmlzU3RyaW5nKG9wdF9xdWVyeU9yRnV6emluZXNzKTtcblxuXHRcdHZhciB2YWx1ZSA9IHtcblx0XHRcdHF1ZXJ5OiBhcmcySXNTdHJpbmcgPyBvcHRfcXVlcnlPckZ1enppbmVzcyA6IGZpZWxkT3JRdWVyeVxuXHRcdH07XG5cdFx0dmFyIGZ1enppbmVzcyA9IGFyZzJJc1N0cmluZyA/IG9wdF9mdXp6aW5lc3MgOiBvcHRfcXVlcnlPckZ1enppbmVzcztcblx0XHRpZiAoZnV6emluZXNzKSB7XG5cdFx0XHR2YWx1ZS5mdXp6aW5lc3MgPSBmdXp6aW5lc3M7XG5cdFx0fVxuXG5cdFx0dmFyIGZpZWxkID0gYXJnMklzU3RyaW5nID8gZmllbGRPclF1ZXJ5IDogRmlsdGVyLkFMTDtcblx0XHRyZXR1cm4gRmlsdGVyLmZpZWxkKGZpZWxkLCBvcGVyYXRvciwgdmFsdWUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgYSB7QGxpbmsgRmlsdGVyfSBpbnN0YW5jZSB0aGF0IHVzZXMgdGhlIFwiPlwiIG9wZXJhdG9yLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZmllbGQgVGhlIG5hbWUgb2YgdGhlIGZpZWxkIHRvIGZpbHRlciBieS5cblx0ICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgZmlsdGVyJ3MgdmFsdWUuXG5cdCAqIEByZXR1cm4geyFGaWx0ZXJ9XG4gICAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyBndChmaWVsZCwgdmFsdWUpIHtcblx0XHRyZXR1cm4gbmV3IEZpbHRlcihmaWVsZCwgJz4nLCB2YWx1ZSk7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyBhIHtAbGluayBGaWx0ZXJ9IGluc3RhbmNlIHRoYXQgdXNlcyB0aGUgXCI+PVwiIG9wZXJhdG9yLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZmllbGQgVGhlIG5hbWUgb2YgdGhlIGZpZWxkIHRvIGZpbHRlciBieS5cblx0ICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgZmlsdGVyJ3MgdmFsdWUuXG5cdCAqIEByZXR1cm4geyFGaWx0ZXJ9XG4gICAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyBndGUoZmllbGQsIHZhbHVlKSB7XG5cdFx0cmV0dXJuIG5ldyBGaWx0ZXIoZmllbGQsICc+PScsIHZhbHVlKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEge0BsaW5rIEZpbHRlcn0gaW5zdGFuY2UgdGhhdCB1c2VzIHRoZSBcIm1hdGNoXCIgb3BlcmF0b3IuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZE9yUXVlcnkgSWYgbm8gc2Vjb25kIHN0cmluZyBhcmd1bWVudCBpcyBnaXZlbiwgdGhpc1xuXHQgKiAgIHNob3VsZCBiZSB0aGUgcXVlcnkgc3RyaW5nLCBpbiB3aGljaCBjYXNlIGFsbCBmaWVsZHMgd2lsbCBiZSBtYXRjaGVkLlxuXHQgKiAgIE90aGVyd2lzZSwgdGhpcyBzaG91bGQgYmUgdGhlIG5hbWUgb2YgdGhlIGZpZWxkIHRvIG1hdGNoLlxuXHQgKiBAcGFyYW0ge3N0cmluZz19IG9wdF9xdWVyeSBUaGUgcXVlcnkgc3RyaW5nLlxuXHQgKiBAcmV0dXJuIHshRmlsdGVyfVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzdGF0aWMgbWF0Y2goZmllbGRPclF1ZXJ5LCBvcHRfcXVlcnkpIHtcblx0XHR2YXIgZmllbGQgPSBjb3JlLmlzU3RyaW5nKG9wdF9xdWVyeSkgPyBmaWVsZE9yUXVlcnkgOiBGaWx0ZXIuQUxMO1xuXHRcdHZhciBxdWVyeSA9IGNvcmUuaXNTdHJpbmcob3B0X3F1ZXJ5KSA/IG9wdF9xdWVyeSA6IGZpZWxkT3JRdWVyeTtcblx0XHRyZXR1cm4gRmlsdGVyLmZpZWxkKGZpZWxkLCAnbWF0Y2gnLCBxdWVyeSk7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyBhIHtAbGluayBGaWx0ZXJ9IGluc3RhbmNlIHRoYXQgdXNlcyB0aGUgXCJtaXNzaW5nXCIgb3BlcmF0b3IuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZCBUaGUgZmllbGQncyBuYW1lLlxuXHQgKiBAcmV0dXJuIHshRmlsdGVyfVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzdGF0aWMgbWlzc2luZyhmaWVsZCkge1xuXHRcdHJldHVybiBGaWx0ZXIuZmllbGQoZmllbGQsICdtaXNzaW5nJywgbnVsbCk7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyBhIHtAbGluayBGaWx0ZXJ9IGluc3RhbmNlIHRoYXQgdXNlcyB0aGUgXCJwaHJhc2VcIiBvcGVyYXRvci5cblx0ICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkT3JRdWVyeSBJZiBubyBzZWNvbmQgc3RyaW5nIGFyZ3VtZW50IGlzIGdpdmVuLCB0aGlzXG5cdCAqICAgc2hvdWxkIGJlIHRoZSBxdWVyeSBzdHJpbmcsIGluIHdoaWNoIGNhc2UgYWxsIGZpZWxkcyB3aWxsIGJlIG1hdGNoZWQuXG5cdCAqICAgT3RoZXJ3aXNlLCB0aGlzIHNob3VsZCBiZSB0aGUgbmFtZSBvZiB0aGUgZmllbGQgdG8gbWF0Y2guXG5cdCAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0X3F1ZXJ5IFRoZSBxdWVyeSBzdHJpbmcuXG5cdCAqIEByZXR1cm4geyFGaWx0ZXJ9XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyBwaHJhc2UoZmllbGRPclF1ZXJ5LCBvcHRfcXVlcnkpIHtcblx0XHR2YXIgZmllbGQgPSBjb3JlLmlzU3RyaW5nKG9wdF9xdWVyeSkgPyBmaWVsZE9yUXVlcnkgOiBGaWx0ZXIuQUxMO1xuXHRcdHZhciBxdWVyeSA9IGNvcmUuaXNTdHJpbmcob3B0X3F1ZXJ5KSA/IG9wdF9xdWVyeSA6IGZpZWxkT3JRdWVyeTtcblx0XHRyZXR1cm4gRmlsdGVyLmZpZWxkKGZpZWxkLCAncGhyYXNlJywgcXVlcnkpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgYSB7QGxpbmsgRmlsdGVyfSBpbnN0YW5jZSB0aGF0IHVzZXMgdGhlIFwiZ3BcIiBvcGVyYXRvci5cblx0ICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkIFRoZSBuYW1lIG9mIHRoZSBmaWVsZC5cblx0ICogQHBhcmFtIHsuLi4hT2JqZWN0fSBwb2ludHMgT2JqZWN0cyByZXByZXNlbnRpbmcgcG9pbnRzIGluIHRoZSBwb2x5Z29uLlxuXHQgKiBAcmV0dXJuIHshRmlsdGVyfVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzdGF0aWMgcG9seWdvbihmaWVsZCwgLi4ucG9pbnRzKSB7XG5cdFx0cG9pbnRzID0gcG9pbnRzLm1hcChwb2ludCA9PiBFbWJvZGllZC50b0JvZHkocG9pbnQpKTtcblx0XHRyZXR1cm4gRmlsdGVyLmZpZWxkKGZpZWxkLCAnZ3AnLCBwb2ludHMpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgYSB7QGxpbmsgRmlsdGVyfSBpbnN0YW5jZSB0aGF0IHVzZXMgdGhlIFwicHJlZml4XCIgb3BlcmF0b3IuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZE9yUXVlcnkgSWYgbm8gc2Vjb25kIGFyZ3VtZW50IGlzIGdpdmVuLCB0aGlzIHNob3VsZFxuXHQgKiAgIGJlIHRoZSBxdWVyeSBzdHJpbmcsIGluIHdoaWNoIGNhc2UgYWxsIGZpZWxkcyB3aWxsIGJlIG1hdGNoZWQuIE90aGVyd2lzZSxcblx0ICogICB0aGlzIHNob3VsZCBiZSB0aGUgbmFtZSBvZiB0aGUgZmllbGQgdG8gbWF0Y2guXG5cdCAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0X3F1ZXJ5IFRoZSBxdWVyeSBzdHJpbmcuXG5cdCAqIEByZXR1cm4geyFGaWx0ZXJ9XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyBwcmVmaXgoZmllbGRPclF1ZXJ5LCBvcHRfcXVlcnkpIHtcblx0XHR2YXIgZmllbGQgPSBvcHRfcXVlcnkgPyBmaWVsZE9yUXVlcnkgOiBGaWx0ZXIuQUxMO1xuXHRcdHZhciBxdWVyeSA9IG9wdF9xdWVyeSA/IG9wdF9xdWVyeSA6IGZpZWxkT3JRdWVyeTtcblx0XHRyZXR1cm4gRmlsdGVyLmZpZWxkKGZpZWxkLCAncHJlZml4JywgcXVlcnkpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgYSB7QGxpbmsgRmlsdGVyfSBpbnN0YW5jZSB0aGF0IHVzZXMgdGhlIFwicmFuZ2VcIiBvcGVyYXRvci5cblx0ICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkIFRoZSBmaWVsZCdzIG5hbWUuXG5cdCAqIEBwYXJhbSB7Kn0gcmFuZ2VPck1pbiBFaXRoZXIgYSBgUmFuZ2VgIGluc3RhbmNlIG9yIGEgdGhlIHJhbmdlJ3MgbWluIHZhbHVlLlxuXHQgKiBAcGFyYW0geyo9fSBvcHRfbWF4IFRoZSByYW5nZSdzIG1heCB2YWx1ZS5cblx0ICogQHJldHVybiB7IUZpbHRlcn1cblx0ICogQHN0YXRpY1xuXHQgKi9cblx0c3RhdGljIHJhbmdlKGZpZWxkLCByYW5nZU9yTWluLCBvcHRfbWF4KSB7XG5cdFx0dmFyIHJhbmdlID0gcmFuZ2VPck1pbjtcblx0XHRpZiAoIShyYW5nZSBpbnN0YW5jZW9mIFJhbmdlKSkge1xuXHRcdFx0cmFuZ2UgPSBSYW5nZS5yYW5nZShyYW5nZU9yTWluLCBvcHRfbWF4KTtcblx0XHR9XG5cdFx0cmV0dXJuIEZpbHRlci5maWVsZChmaWVsZCwgJ3JhbmdlJywgcmFuZ2UpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgYSB7QGxpbmsgRmlsdGVyfSBpbnN0YW5jZSB0aGF0IHVzZXMgdGhlIFwiflwiIG9wZXJhdG9yLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZmllbGQgVGhlIG5hbWUgb2YgdGhlIGZpZWxkIHRvIGZpbHRlciBieS5cblx0ICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgZmlsdGVyJ3MgdmFsdWUuXG5cdCAqIEByZXR1cm4geyFGaWx0ZXJ9XG4gICAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyByZWdleChmaWVsZCwgdmFsdWUpIHtcblx0XHRyZXR1cm4gbmV3IEZpbHRlcihmaWVsZCwgJ34nLCB2YWx1ZSk7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyBhIHtAbGluayBGaWx0ZXJ9IGluc3RhbmNlIHRoYXQgdXNlcyB0aGUgXCJnc1wiIG9wZXJhdG9yLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZmllbGQgVGhlIGZpZWxkJ3MgbmFtZS5cblx0ICogQHBhcmFtIHsuLi4hT2JqZWN0fSBzaGFwZXMgT2JqZWN0cyByZXByZXNlbnRpbmcgc2hhcGVzLlxuXHQgKiBAcmV0dXJuIHshRmlsdGVyfVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzdGF0aWMgc2hhcGUoZmllbGQsIC4uLnNoYXBlcykge1xuXHRcdHNoYXBlcyA9IHNoYXBlcy5tYXAoc2hhcGUgPT4gRW1ib2RpZWQudG9Cb2R5KHNoYXBlKSk7XG5cdFx0dmFyIHZhbHVlID0ge1xuXHRcdFx0dHlwZTogJ2dlb21ldHJ5Y29sbGVjdGlvbicsXG5cdFx0XHRnZW9tZXRyaWVzOiBzaGFwZXNcblx0XHR9O1xuXHRcdHJldHVybiBGaWx0ZXIuZmllbGQoZmllbGQsICdncycsIHZhbHVlKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEge0BsaW5rIEZpbHRlcn0gaW5zdGFuY2UgdGhhdCB1c2VzIHRoZSBcInNpbWlsYXJcIiBvcGVyYXRvci5cblx0ICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkT3JRdWVyeSBJZiBubyBzZWNvbmQgc3RyaW5nIGFyZ3VtZW50IGlzIGdpdmVuLCB0aGlzXG5cdCAqICAgc2hvdWxkIGJlIHRoZSBxdWVyeSBzdHJpbmcsIGluIHdoaWNoIGNhc2UgYWxsIGZpZWxkcyB3aWxsIGJlIG1hdGNoZWQuXG5cdCAqICAgT3RoZXJ3aXNlLCB0aGlzIHNob3VsZCBiZSB0aGUgbmFtZSBvZiB0aGUgZmllbGQgdG8gbWF0Y2guXG5cdCAqIEBwYXJhbSB7P3N0cmluZ30gcXVlcnkgVGhlIHF1ZXJ5IHN0cmluZy5cblx0ICogQHJldHVybiB7IUZpbHRlcn1cblx0ICogQHN0YXRpY1xuXHQgKi9cblx0c3RhdGljIHNpbWlsYXIoZmllbGRPclF1ZXJ5LCBxdWVyeSkge1xuXHRcdHZhciBmaWVsZCA9IGNvcmUuaXNTdHJpbmcocXVlcnkpID8gZmllbGRPclF1ZXJ5IDogRmlsdGVyLkFMTDtcblx0XHR2YXIgdmFsdWUgPSB7XG5cdFx0XHRxdWVyeTogY29yZS5pc1N0cmluZyhxdWVyeSkgPyBxdWVyeSA6IGZpZWxkT3JRdWVyeVxuXHRcdH07XG5cdFx0cmV0dXJuIEZpbHRlci5maWVsZChmaWVsZCwgJ3NpbWlsYXInLCB2YWx1ZSk7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyBhIHtAbGluayBGaWx0ZXJ9IGluc3RhbmNlIHRoYXQgdXNlcyB0aGUgXCI8XCIgb3BlcmF0b3IuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZCBUaGUgbmFtZSBvZiB0aGUgZmllbGQgdG8gZmlsdGVyIGJ5LlxuXHQgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSBmaWx0ZXIncyB2YWx1ZS5cblx0ICogQHJldHVybiB7IUZpbHRlcn1cbiAgICogQHN0YXRpY1xuXHQgKi9cblx0c3RhdGljIGx0KGZpZWxkLCB2YWx1ZSkge1xuXHRcdHJldHVybiBuZXcgRmlsdGVyKGZpZWxkLCAnPCcsIHZhbHVlKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEge0BsaW5rIEZpbHRlcn0gaW5zdGFuY2UgdGhhdCB1c2VzIHRoZSBcIjw9XCIgb3BlcmF0b3IuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZCBUaGUgbmFtZSBvZiB0aGUgZmllbGQgdG8gZmlsdGVyIGJ5LlxuXHQgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSBmaWx0ZXIncyB2YWx1ZS5cblx0ICogQHJldHVybiB7IUZpbHRlcn1cbiAgICogQHN0YXRpY1xuXHQgKi9cblx0c3RhdGljIGx0ZShmaWVsZCwgdmFsdWUpIHtcblx0XHRyZXR1cm4gbmV3IEZpbHRlcihmaWVsZCwgJzw9JywgdmFsdWUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgYSB7QGxpbmsgRmlsdGVyfSBpbnN0YW5jZSB0aGF0IHVzZXMgdGhlIFwibm9uZVwiIG9wZXJhdG9yLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZmllbGQgVGhlIG5hbWUgb2YgdGhlIGZpZWxkIHRvIGZpbHRlciBieS5cblx0ICogQHBhcmFtIHshKEFycmF5fC4uLiopfSB2YWx1ZSBBIHZhcmlhYmxlIGFtb3VudCBvZiB2YWx1ZXMgdG8gYmUgdXNlZCB3aXRoXG5cdCAqIHRoZSBcIm5vbmVcIiBvcGVyYXRvci4gQ2FuIGJlIHBhc3NlZCBlaXRoZXIgYXMgYSBzaW5nbGUgYXJyYXkgb3IgYXNcblx0ICogc2VwYXJhdGUgcGFyYW1zLlxuXHQgKiBAcmV0dXJuIHshRmlsdGVyfVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzdGF0aWMgbm9uZShmaWVsZCkge1xuXHRcdHZhciB2YWx1ZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuXHRcdGlmICh2YWx1ZXMubGVuZ3RoID09PSAxICYmIHZhbHVlc1swXSBpbnN0YW5jZW9mIEFycmF5KSB7XG5cdFx0XHR2YWx1ZXMgPSB2YWx1ZXNbMF07XG5cdFx0fVxuXHRcdHJldHVybiBuZXcgRmlsdGVyKGZpZWxkLCAnbm9uZScsIHZhbHVlcyk7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyBhIHtAbGluayBGaWx0ZXJ9IGluc3RhbmNlIHRoYXQgdXNlcyB0aGUgXCIhPVwiIG9wZXJhdG9yLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZmllbGQgVGhlIG5hbWUgb2YgdGhlIGZpZWxkIHRvIGZpbHRlciBieS5cblx0ICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgZmlsdGVyJ3MgdmFsdWUuXG5cdCAqIEByZXR1cm4geyFGaWx0ZXJ9XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyBub3RFcXVhbChmaWVsZCwgdmFsdWUpIHtcblx0XHRyZXR1cm4gbmV3IEZpbHRlcihmaWVsZCwgJyE9JywgdmFsdWUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgYSB7QGxpbmsgRmlsdGVyfSBpbnN0YW5jZSB0aGF0IHVzZXMgdGhlIFwibm90XCIgb3BlcmF0b3IuXG5cdCAqIEBwYXJhbSB7IUZpbHRlcnxzdHJpbmd9IGZpZWxkT3JGaWx0ZXIgRWl0aGVyIGEge0BsaW5rIEZpbHRlcn0gaW5zdGFuY2Ugb3Jcblx0ICogdGhlIG5hbWUgb2YgdGhlIGZpZWxkIHRvIGZpbHRlciBieS5cblx0ICogQHBhcmFtIHsqPX0gb3B0X29wZXJhdG9yT3JWYWx1ZSBFaXRoZXIgdGhlIGZpZWxkJ3Mgb3BlcmF0b3Igb3IgaXRzIHZhbHVlLlxuXHQgKiBAcGFyYW0geyo9fSBvcHRfdmFsdWUgVGhlIGZpbHRlcidzIHZhbHVlLlxuXHQgKiBAcmV0dXJuIHshRmlsdGVyfVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzdGF0aWMgbm90KGZpZWxkT3JGaWx0ZXIsIG9wdF9vcGVyYXRvck9yVmFsdWUsIG9wdF92YWx1ZSkge1xuXHRcdHJldHVybiBGaWx0ZXIudG9GaWx0ZXIoZmllbGRPckZpbHRlciwgb3B0X29wZXJhdG9yT3JWYWx1ZSwgb3B0X3ZhbHVlKS5hZGQoJ25vdCcpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgYSB7QGxpbmsgRmlsdGVyfSBpbnN0YW5jZS5cblx0ICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkIFRoZSBuYW1lIG9mIHRoZSBmaWVsZCB0byBmaWx0ZXIgYnkuXG5cdCAqIEBwYXJhbSB7Kn0gb3BlcmF0b3JPclZhbHVlIElmIGEgdGhpcmQgcGFyYW0gaXMgZ2l2ZW4sIHRoaXMgc2hvdWxkIGJlIHRoZVxuXHQgKiBmaWx0ZXIncyBvcGVyYXRvciAobGlrZSBcIj49XCIpLiBPdGhlcndpc2UsIHRoaXMgd2lsbCBiZSB1c2VkIGFzIHRoZVxuXHQgKiBmaWx0ZXIncyB2YWx1ZSwgYW5kIHRoZSBmaWx0ZXIncyBvcGVyYXRvciB3aWxsIGJlIFwiPVwiLlxuXHQgKiBAcGFyYW0geyo9fSBvcHRfdmFsdWUgVGhlIGZpbHRlcidzIHZhbHVlLlxuXHQgKiBAcmV0dXJuIHshRmlsdGVyfVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzdGF0aWMgZmllbGQoZmllbGQsIG9wZXJhdG9yT3JWYWx1ZSwgb3B0X3ZhbHVlKSB7XG5cdFx0cmV0dXJuIG5ldyBGaWx0ZXIoZmllbGQsIG9wZXJhdG9yT3JWYWx1ZSwgb3B0X3ZhbHVlKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBZGRzIGEgZmlsdGVyIHRvIGJlIGNvbXBvc2VkIHdpdGggdGhpcyBmaWx0ZXIgdXNpbmcgdGhlIFwib3JcIiBvcGVyYXRvci5cblx0ICogQHBhcmFtIHshRmlsdGVyfHN0cmluZ30gZmllbGRPckZpbHRlciBFaXRoZXIgYSB7QGxpbmsgRmlsdGVyfSBpbnN0YW5jZSBvclxuXHQgKiB0aGUgbmFtZSBvZiB0aGUgZmllbGQgdG8gZmlsdGVyIGJ5LlxuXHQgKiBAcGFyYW0geyo9fSBvcHRfb3BlcmF0b3JPclZhbHVlIEVpdGhlciB0aGUgZmllbGQncyBvcGVyYXRvciBvciBpdHMgdmFsdWUuXG5cdCAqIEBwYXJhbSB7Kj19IG9wdF92YWx1ZSBUaGUgZmlsdGVyJ3MgdmFsdWUuXG5cdCAqIEBjaGFpbm5hYmxlXG5cdCAqL1xuXHRvcihmaWVsZE9yRmlsdGVyLCBvcHRfb3BlcmF0b3JPclZhbHVlLCBvcHRfdmFsdWUpIHtcblx0XHRyZXR1cm4gdGhpcy5hZGQoJ29yJywgZmllbGRPckZpbHRlciwgb3B0X29wZXJhdG9yT3JWYWx1ZSwgb3B0X3ZhbHVlKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyB0aGUgZ2l2ZW4gYXJndW1lbnRzIGludG8gYSB7QGxpbmsgRmlsdGVyfSBpbnN0YW5jZS5cblx0ICogQHBhcmFtIHshRmlsdGVyfHN0cmluZ30gZmllbGRPckZpbHRlciBFaXRoZXIgYSB7QGxpbmsgRmlsdGVyfSBpbnN0YW5jZSBvclxuXHQgKiB0aGUgbmFtZSBvZiB0aGUgZmllbGQgdG8gZmlsdGVyIGJ5LlxuXHQgKiBAcGFyYW0geyo9fSBvcHRfb3BlcmF0b3JPclZhbHVlIEVpdGhlciB0aGUgZmllbGQncyBvcGVyYXRvciBvciBpdHMgdmFsdWUuXG5cdCAqIEBwYXJhbSB7Kj19IG9wdF92YWx1ZSBUaGUgZmlsdGVyJ3MgdmFsdWUuXG5cdCAqIEByZXR1cm4geyFGaWx0ZXJ9XG5cdCAqL1xuXHRzdGF0aWMgdG9GaWx0ZXIoZmllbGRPckZpbHRlciwgb3B0X29wZXJhdG9yT3JWYWx1ZSwgb3B0X3ZhbHVlKSB7XG5cdFx0dmFyIGZpbHRlciA9IGZpZWxkT3JGaWx0ZXI7XG5cdFx0aWYgKCEoZmlsdGVyIGluc3RhbmNlb2YgRmlsdGVyKSkge1xuXHRcdFx0ZmlsdGVyID0gRmlsdGVyLmZpZWxkKGZpZWxkT3JGaWx0ZXIsIG9wdF9vcGVyYXRvck9yVmFsdWUsIG9wdF92YWx1ZSk7XG5cdFx0fVxuXHRcdHJldHVybiBmaWx0ZXI7XG5cdH1cbn1cblxuLyoqXG4gKiBTdHJpbmcgY29uc3RhbnQgdGhhdCByZXByZXNlbnRzIGFsbCBmaWVsZHMuXG4gKiBAdHlwZSB7c3RyaW5nfVxuICogQHN0YXRpY1xuICovXG5GaWx0ZXIuQUxMID0gJyonO1xuXG5leHBvcnQgZGVmYXVsdCBGaWx0ZXI7XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogUGFyc2VzIHRoZSBnaXZlbiB1cmkgc3RyaW5nIGludG8gYW4gb2JqZWN0LlxuICogQHBhcmFtIHsqPX0gb3B0X3VyaSBPcHRpb25hbCBzdHJpbmcgVVJJIHRvIHBhcnNlXG4gKi9cbmZ1bmN0aW9uIHBhcnNlRnJvbUFuY2hvcihvcHRfdXJpKSB7XG5cdHZhciBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuXHRsaW5rLmhyZWYgPSBvcHRfdXJpO1xuXHRyZXR1cm4ge1xuXHRcdGhhc2g6IGxpbmsuaGFzaCxcblx0XHRob3N0bmFtZTogbGluay5ob3N0bmFtZSxcblx0XHRwYXNzd29yZDogbGluay5wYXNzd29yZCxcblx0XHRwYXRobmFtZTogbGluay5wYXRobmFtZVswXSA9PT0gJy8nID8gbGluay5wYXRobmFtZSA6ICcvJyArIGxpbmsucGF0aG5hbWUsXG5cdFx0cG9ydDogbGluay5wb3J0LFxuXHRcdHByb3RvY29sOiBsaW5rLnByb3RvY29sLFxuXHRcdHNlYXJjaDogbGluay5zZWFyY2gsXG5cdFx0dXNlcm5hbWU6IGxpbmsudXNlcm5hbWVcblx0fTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcGFyc2VGcm9tQW5jaG9yO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnbWV0YWwnO1xuaW1wb3J0IHBhcnNlRnJvbUFuY2hvciBmcm9tICcuL3BhcnNlRnJvbUFuY2hvcic7XG5cbi8qKlxuICogUGFyc2VzIHRoZSBnaXZlbiB1cmkgc3RyaW5nIGludG8gYW4gb2JqZWN0LiBUaGUgVVJMIGZ1bmN0aW9uIHdpbGwgYmUgdXNlZFxuICogd2hlbiBwcmVzZW50LCBvdGhlcndpc2Ugd2UnbGwgZmFsbCBiYWNrIHRvIHRoZSBhbmNob3Igbm9kZSBlbGVtZW50LlxuICogQHBhcmFtIHsqPX0gb3B0X3VyaSBPcHRpb25hbCBzdHJpbmcgVVJJIHRvIHBhcnNlXG4gKi9cbmZ1bmN0aW9uIHBhcnNlKG9wdF91cmkpIHtcblx0aWYgKGlzRnVuY3Rpb24oVVJMKSAmJiBVUkwubGVuZ3RoKSB7XG5cdFx0cmV0dXJuIG5ldyBVUkwob3B0X3VyaSk7XG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuIHBhcnNlRnJvbUFuY2hvcihvcHRfdXJpKTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBwYXJzZTtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgRGlzcG9zYWJsZSB9IGZyb20gJ21ldGFsJztcblxuLyoqXG4gKiBBIGNhY2hlZCByZWZlcmVuY2UgdG8gdGhlIGNyZWF0ZSBmdW5jdGlvbi5cbiAqL1xudmFyIGNyZWF0ZSA9IE9iamVjdC5jcmVhdGU7XG5cbi8qKlxuICogQ2FzZSBpbnNlbnNpdGl2ZSBzdHJpbmcgTXVsdGltYXAgaW1wbGVtZW50YXRpb24uIEFsbG93cyBtdWx0aXBsZSB2YWx1ZXMgZm9yXG4gKiB0aGUgc2FtZSBrZXkgbmFtZS5cbiAqIEBleHRlbmRzIHtEaXNwb3NhYmxlfVxuICovXG5jbGFzcyBNdWx0aU1hcCBleHRlbmRzIERpc3Bvc2FibGUge1xuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHRzdXBlcigpO1xuXHRcdHRoaXMua2V5cyA9IGNyZWF0ZShudWxsKTtcblx0XHR0aGlzLnZhbHVlcyA9IGNyZWF0ZShudWxsKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBZGRzIHZhbHVlIHRvIGEga2V5IG5hbWUuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG5cdCAqIEBwYXJhbSB7Kn0gdmFsdWVcblx0ICogQGNoYWluYWJsZVxuXHQgKi9cblx0YWRkKG5hbWUsIHZhbHVlKSB7XG5cdFx0dGhpcy5rZXlzW25hbWUudG9Mb3dlckNhc2UoKV0gPSBuYW1lO1xuXHRcdHRoaXMudmFsdWVzW25hbWUudG9Mb3dlckNhc2UoKV0gPSB0aGlzLnZhbHVlc1tuYW1lLnRvTG93ZXJDYXNlKCldIHx8IFtdO1xuXHRcdHRoaXMudmFsdWVzW25hbWUudG9Mb3dlckNhc2UoKV0ucHVzaCh2YWx1ZSk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKipcblx0ICogQ2xlYXJzIG1hcCBuYW1lcyBhbmQgdmFsdWVzLlxuXHQgKiBAY2hhaW5hYmxlXG5cdCAqL1xuXHRjbGVhcigpIHtcblx0XHR0aGlzLmtleXMgPSBjcmVhdGUobnVsbCk7XG5cdFx0dGhpcy52YWx1ZXMgPSBjcmVhdGUobnVsbCk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKipcblx0ICogQ2hlY2tzIGlmIG1hcCBjb250YWlucyBhIHZhbHVlIHRvIHRoZSBrZXkgbmFtZS5cblx0ICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcblx0ICogQHJldHVybiB7Ym9vbGVhbn1cblx0ICogQGNoYWluYWJsZVxuXHQgKi9cblx0Y29udGFpbnMobmFtZSkge1xuXHRcdHJldHVybiBuYW1lLnRvTG93ZXJDYXNlKCkgaW4gdGhpcy52YWx1ZXM7XG5cdH1cblxuXHQvKipcblx0ICogQGluaGVyaXREb2Ncblx0ICovXG5cdGRpc3Bvc2VJbnRlcm5hbCgpIHtcblx0XHR0aGlzLnZhbHVlcyA9IG51bGw7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhIGBNdWx0aU1hcGAgaW5zdGFuY2UgZnJvbSB0aGUgZ2l2ZW4gb2JqZWN0LlxuXHQgKiBAcGFyYW0geyFPYmplY3R9IG9ialxuXHQgKiBAcmV0dXJuIHshTXVsdGlNYXB9XG5cdCAqL1xuXHRzdGF0aWMgZnJvbU9iamVjdChvYmopIHtcblx0XHR2YXIgbWFwID0gbmV3IE11bHRpTWFwKCk7XG5cdFx0dmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0bWFwLnNldChrZXlzW2ldLCBvYmpba2V5c1tpXV0pO1xuXHRcdH1cblx0XHRyZXR1cm4gbWFwO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldHMgdGhlIGZpcnN0IGFkZGVkIHZhbHVlIGZyb20gYSBrZXkgbmFtZS5cblx0ICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcblx0ICogQHJldHVybiB7Kn1cblx0ICogQGNoYWluYWJsZVxuXHQgKi9cblx0Z2V0KG5hbWUpIHtcblx0XHR2YXIgdmFsdWVzID0gdGhpcy52YWx1ZXNbbmFtZS50b0xvd2VyQ2FzZSgpXTtcblx0XHRpZiAodmFsdWVzKSB7XG5cdFx0XHRyZXR1cm4gdmFsdWVzWzBdO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBHZXRzIGFsbCB2YWx1ZXMgZnJvbSBhIGtleSBuYW1lLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gbmFtZVxuXHQgKiBAcmV0dXJuIHtBcnJheS48Kj59XG5cdCAqL1xuXHRnZXRBbGwobmFtZSkge1xuXHRcdHJldHVybiB0aGlzLnZhbHVlc1tuYW1lLnRvTG93ZXJDYXNlKCldO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgbWFwIGlzIGVtcHR5LCBmYWxzZSBvdGhlcndpc2UuXG5cdCAqIEByZXR1cm4ge2Jvb2xlYW59XG5cdCAqL1xuXHRpc0VtcHR5KCkge1xuXHRcdHJldHVybiB0aGlzLnNpemUoKSA9PT0gMDtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXRzIGFycmF5IG9mIGtleSBuYW1lcy5cblx0ICogQHJldHVybiB7QXJyYXkuPHN0cmluZz59XG5cdCAqL1xuXHRuYW1lcygpIHtcblx0XHRyZXR1cm4gT2JqZWN0LmtleXModGhpcy52YWx1ZXMpLm1hcCgoa2V5KSA9PiB0aGlzLmtleXNba2V5XSk7XG5cdH1cblxuXHQvKipcblx0ICogUmVtb3ZlcyBhbGwgdmFsdWVzIGZyb20gYSBrZXkgbmFtZS5cblx0ICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcblx0ICogQGNoYWluYWJsZVxuXHQgKi9cblx0cmVtb3ZlKG5hbWUpIHtcblx0XHRkZWxldGUgdGhpcy5rZXlzW25hbWUudG9Mb3dlckNhc2UoKV07XG5cdFx0ZGVsZXRlIHRoaXMudmFsdWVzW25hbWUudG9Mb3dlckNhc2UoKV07XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKipcblx0ICogU2V0cyB0aGUgdmFsdWUgb2YgYSBrZXkgbmFtZS4gUmVsZXZhbnQgdG8gcmVwbGFjZSB0aGUgY3VycmVudCB2YWx1ZXMgd2l0aFxuXHQgKiBhIG5ldyBvbmUuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG5cdCAqIEBwYXJhbSB7Kn0gdmFsdWVcblx0ICogQGNoYWluYWJsZVxuXHQgKi9cblx0c2V0KG5hbWUsIHZhbHVlKSB7XG5cdFx0dGhpcy5rZXlzW25hbWUudG9Mb3dlckNhc2UoKV0gPSBuYW1lO1xuXHRcdHRoaXMudmFsdWVzW25hbWUudG9Mb3dlckNhc2UoKV0gPSBbdmFsdWVdO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldHMgdGhlIHNpemUgb2YgdGhlIG1hcCBrZXkgbmFtZXMuXG5cdCAqIEByZXR1cm4ge251bWJlcn1cblx0ICovXG5cdHNpemUoKSB7XG5cdFx0cmV0dXJuIHRoaXMubmFtZXMoKS5sZW5ndGg7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgcGFyc2VkIHZhbHVlcyBhcyBhIHN0cmluZy5cblx0ICogQHJldHVybiB7c3RyaW5nfVxuXHQgKi9cblx0dG9TdHJpbmcoKSB7XG5cdFx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMudmFsdWVzKTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBNdWx0aU1hcDtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgYXJyYXkgfSBmcm9tICdtZXRhbCc7XG5cbi8qKlxuICogR2VuZXJpYyB0cmVlIG5vZGUgZGF0YSBzdHJ1Y3R1cmUgd2l0aCBhcmJpdHJhcnkgbnVtYmVyIG9mIGNoaWxkIG5vZGVzLlxuICogQHBhcmFtIHtWfSB2YWx1ZSBWYWx1ZS5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5jbGFzcyBUcmVlTm9kZSB7XG5cblx0Y29uc3RydWN0b3IodmFsdWUpIHtcblx0XHQvKipcblx0XHQgKiBUaGUgdmFsdWUuXG5cdFx0ICogQHByaXZhdGUge1Z9XG5cdFx0ICovXG5cdFx0dGhpcy52YWx1ZV8gPSB2YWx1ZTtcblxuXHRcdC8qKlxuXHRcdCAqIFJlZmVyZW5jZSB0byB0aGUgcGFyZW50IG5vZGUgb3IgbnVsbCBpZiBpdCBoYXMgbm8gcGFyZW50LlxuXHRcdCAqIEBwcml2YXRlIHtUcmVlTm9kZX1cblx0XHQgKi9cblx0XHR0aGlzLnBhcmVudF8gPSBudWxsO1xuXG5cdFx0LyoqXG5cdFx0ICogQ2hpbGQgbm9kZXMgb3IgbnVsbCBpbiBjYXNlIG9mIGxlYWYgbm9kZS5cblx0XHQgKiBAcHJpdmF0ZSB7QXJyYXk8IVRyZWVOb2RlPn1cblx0XHQgKi9cblx0XHR0aGlzLmNoaWxkcmVuXyA9IG51bGw7XG5cdH1cblxuXHQvKipcblx0ICogQXBwZW5kcyBhIGNoaWxkIG5vZGUgdG8gdGhpcyBub2RlLlxuXHQgKiBAcGFyYW0geyFUcmVlTm9kZX0gY2hpbGQgT3JwaGFuIGNoaWxkIG5vZGUuXG5cdCAqL1xuXHRhZGRDaGlsZChjaGlsZCkge1xuXHRcdGFzc2VydENoaWxkSGFzTm9QYXJlbnQoY2hpbGQpO1xuXHRcdGNoaWxkLnNldFBhcmVudCh0aGlzKTtcblx0XHR0aGlzLmNoaWxkcmVuXyA9IHRoaXMuY2hpbGRyZW5fIHx8IFtdO1xuXHRcdHRoaXMuY2hpbGRyZW5fLnB1c2goY2hpbGQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRlbGxzIHdoZXRoZXIgdGhpcyBub2RlIGlzIHRoZSBhbmNlc3RvciBvZiB0aGUgZ2l2ZW4gbm9kZS5cblx0ICogQHBhcmFtIHshVHJlZU5vZGV9IG5vZGUgQSBub2RlLlxuXHQgKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIHRoaXMgbm9kZSBpcyB0aGUgYW5jZXN0b3Igb2Yge0Bjb2RlIG5vZGV9LlxuXHQgKi9cblx0Y29udGFpbnMobm9kZSkge1xuXHRcdGxldCBjdXJyZW50ID0gbm9kZS5nZXRQYXJlbnQoKTtcblx0XHR3aGlsZSAoY3VycmVudCkge1xuXHRcdFx0aWYgKGN1cnJlbnQgPT09IHRoaXMpIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cdFx0XHRjdXJyZW50ID0gY3VycmVudC5nZXRQYXJlbnQoKTtcblx0XHR9XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0LyoqXG5cdCAqIEByZXR1cm4geyFBcnJheTxUcmVlTm9kZT59IEFsbCBhbmNlc3RvciBub2RlcyBpbiBib3R0b20tdXAgb3JkZXIuXG5cdCAqL1xuXHRnZXRBbmNlc3RvcnMoKSB7XG5cdFx0bGV0IGFuY2VzdG9ycyA9IFtdO1xuXHRcdGxldCBub2RlID0gdGhpcy5nZXRQYXJlbnQoKTtcblx0XHR3aGlsZSAobm9kZSkge1xuXHRcdFx0YW5jZXN0b3JzLnB1c2gobm9kZSk7XG5cdFx0XHRub2RlID0gbm9kZS5nZXRQYXJlbnQoKTtcblx0XHR9XG5cdFx0cmV0dXJuIGFuY2VzdG9ycztcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXRzIHRoZSBjaGlsZCBub2RlIG9mIHRoaXMgbm9kZSBhdCB0aGUgZ2l2ZW4gaW5kZXguXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleCBDaGlsZCBpbmRleC5cblx0ICogQHJldHVybiB7P1RyZWVOb2RlfSBUaGUgbm9kZSBhdCB0aGUgZ2l2ZW4gaW5kZXhcblx0ICogb3IgbnVsbCBpZiBub3QgZm91bmQuXG5cdCAqL1xuXHRnZXRDaGlsZEF0KGluZGV4KSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0Q2hpbGRyZW4oKVtpbmRleF0gfHwgbnVsbDtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcmV0dXJuIHs/QXJyYXk8IVRyZWVOb2RlPn0gQ2hpbGQgbm9kZXMgb3IgbnVsbCBpbiBjYXNlIG9mIGxlYWYgbm9kZS5cblx0ICovXG5cdGdldENoaWxkcmVuKCkge1xuXHRcdHJldHVybiB0aGlzLmNoaWxkcmVuXyB8fCBUcmVlTm9kZS5FTVBUWV9BUlJBWTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBudW1iZXIgb2YgY2hpbGRyZW4uXG5cdCAqL1xuXHRnZXRDaGlsZENvdW50KCkge1xuXHRcdHJldHVybiB0aGlzLmdldENoaWxkcmVuKCkubGVuZ3RoO1xuXHR9XG5cblx0LyoqXG5cdCAqIEByZXR1cm4ge251bWJlcn0gVGhlIG51bWJlciBvZiBhbmNlc3RvcnMgb2YgdGhlIG5vZGUuXG5cdCAqL1xuXHRnZXREZXB0aCgpIHtcblx0XHRsZXQgZGVwdGggPSAwO1xuXHRcdGxldCBub2RlID0gdGhpcztcblx0XHR3aGlsZSAobm9kZS5nZXRQYXJlbnQoKSkge1xuXHRcdFx0ZGVwdGgrKztcblx0XHRcdG5vZGUgPSBub2RlLmdldFBhcmVudCgpO1xuXHRcdH1cblx0XHRyZXR1cm4gZGVwdGg7XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybiB7P1RyZWVOb2RlfSBQYXJlbnQgbm9kZSBvciBudWxsIGlmIGl0IGhhcyBubyBwYXJlbnQuXG5cdCAqL1xuXHRnZXRQYXJlbnQoKSB7XG5cdFx0cmV0dXJuIHRoaXMucGFyZW50Xztcblx0fVxuXG5cdC8qKlxuXHQgKiBAcmV0dXJuIHshVHJlZU5vZGV9IFRoZSByb290IG9mIHRoZSB0cmVlIHN0cnVjdHVyZSwgaS5lLiB0aGUgZmFydGhlc3Rcblx0ICogYW5jZXN0b3Igb2YgdGhlIG5vZGUgb3IgdGhlIG5vZGUgaXRzZWxmIGlmIGl0IGhhcyBubyBwYXJlbnRzLlxuXHQgKi9cblx0Z2V0Um9vdCgpIHtcblx0XHRsZXQgcm9vdCA9IHRoaXM7XG5cdFx0d2hpbGUgKHJvb3QuZ2V0UGFyZW50KCkpIHtcblx0XHRcdHJvb3QgPSByb290LmdldFBhcmVudCgpO1xuXHRcdH1cblx0XHRyZXR1cm4gcm9vdDtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXRzIHRoZSB2YWx1ZS5cblx0ICogQHJldHVybiB7Vn0gVGhlIHZhbHVlLlxuXHQgKi9cblx0Z2V0VmFsdWUoKSB7XG5cdFx0cmV0dXJuIHRoaXMudmFsdWVfO1xuXHR9XG5cblx0LyoqXG5cdCAqIEByZXR1cm4ge2Jvb2xlYW59IFdoZXRoZXIgdGhlIG5vZGUgaXMgYSBsZWFmIG5vZGUuXG5cdCAqL1xuXHRpc0xlYWYoKSB7XG5cdFx0cmV0dXJuICF0aGlzLmdldENoaWxkQ291bnQoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZW1vdmVzIHRoZSBnaXZlbiBjaGlsZCBub2RlIG9mIHRoaXMgbm9kZS5cblx0ICogQHBhcmFtIHtUcmVlTm9kZX0gY2hpbGQgVGhlIG5vZGUgdG8gcmVtb3ZlLlxuXHQgKiBAcmV0dXJuIHtUcmVlTm9kZX0gVGhlIHJlbW92ZWQgbm9kZSBpZiBhbnksIG51bGwgb3RoZXJ3aXNlLlxuXHQgKi9cblx0cmVtb3ZlQ2hpbGQoY2hpbGQpIHtcblx0XHRpZiAoYXJyYXkucmVtb3ZlKHRoaXMuZ2V0Q2hpbGRyZW4oKSwgY2hpbGQpKSB7XG5cdFx0XHRyZXR1cm4gY2hpbGQ7XG5cdFx0fVxuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0LyoqXG5cdCAqIFNldHMgdGhlIHBhcmVudCBub2RlIG9mIHRoaXMgbm9kZS4gVGhlIGNhbGxlcnMgbXVzdCBlbnN1cmUgdGhhdCB0aGVcblx0ICogcGFyZW50IG5vZGUgYW5kIG9ubHkgdGhhdCBoYXMgdGhpcyBub2RlIGFtb25nIGl0cyBjaGlsZHJlbi5cblx0ICogQHBhcmFtIHtUcmVlTm9kZX0gcGFyZW50IFRoZSBwYXJlbnQgdG8gc2V0LiBJZiBudWxsLCB0aGUgbm9kZSB3aWxsIGJlXG5cdCAqIGRldGFjaGVkIGZyb20gdGhlIHRyZWUuXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdHNldFBhcmVudChwYXJlbnQpIHtcblx0XHR0aGlzLnBhcmVudF8gPSBwYXJlbnQ7XG5cdH1cblxuXHQvKipcblx0ICogVHJhdmVyc2VzIHRoZSBzdWJ0cmVlLiBUaGUgZmlyc3QgY2FsbGJhY2sgc3RhcnRzIHdpdGggdGhpcyBub2RlLFxuXHQgKiBhbmQgdmlzaXRzIHRoZSBkZXNjZW5kYW50IG5vZGVzIGRlcHRoLWZpcnN0LCBpbiBwcmVvcmRlci5cblx0ICogVGhlIHNlY29uZCBjYWxsYmFjaywgc3RhcnRzIHdpdGggZGVlcGVzdCBjaGlsZCB0aGVuIHZpc2l0c1xuXHQgKiB0aGUgYW5jZXN0b3Igbm9kZXMgZGVwdGgtZmlyc3QsIGluIHBvc3RvcmRlci4gRS5nLlxuXHQgKlxuXHQgKiAgXHQgQVxuXHQgKiAgICAvIFxcXG5cdCAqICAgQiAgIENcblx0ICogIC8gICAvIFxcXG5cdCAqIEQgICBFICAgRlxuXHQgKlxuXHQgKiBwcmVvcmRlciAtPiBbJ0EnLCAnQicsICdEJywgJ0MnLCAnRScsICdGJ11cblx0ICogcG9zdG9yZGVyIC0+IFsnRCcsICdCJywgJ0UnLCAnRicsICdDJywgJ0EnXVxuXHQgKlxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9uPX0gb3B0X3ByZW9yZGVyRm4gVGhlIGNhbGxiYWNrIHRvIGV4ZWN1dGUgd2hlbiB2aXNpdGluZyBhIG5vZGUuXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb249fSBvcHRfcG9zdG9yZGVyRm4gVGhlIGNhbGxiYWNrIHRvIGV4ZWN1dGUgYmVmb3JlIGxlYXZpbmcgYSBub2RlLlxuXHQgKi9cblx0dHJhdmVyc2Uob3B0X3ByZW9yZGVyRm4sIG9wdF9wb3N0b3JkZXJGbikge1xuXHRcdGlmIChvcHRfcHJlb3JkZXJGbikge1xuXHRcdFx0b3B0X3ByZW9yZGVyRm4odGhpcyk7XG5cdFx0fVxuXHRcdHRoaXMuZ2V0Q2hpbGRyZW4oKS5mb3JFYWNoKChjaGlsZCkgPT4gY2hpbGQudHJhdmVyc2Uob3B0X3ByZW9yZGVyRm4sIG9wdF9wb3N0b3JkZXJGbikpO1xuXHRcdGlmIChvcHRfcG9zdG9yZGVyRm4pIHtcblx0XHRcdG9wdF9wb3N0b3JkZXJGbih0aGlzKTtcblx0XHR9XG5cdH1cblxufVxuXG4vKipcbiAqIENvbnN0YW50IGZvciBlbXB0eSBhcnJheSB0byBhdm9pZCB1bm5lY2Vzc2FyeSBhbGxvY2F0aW9ucy5cbiAqIEBwcml2YXRlXG4gKi9cblRyZWVOb2RlLkVNUFRZX0FSUkFZID0gW107XG5cbi8qKlxuICogQXNzZXJ0cyB0aGF0IGNoaWxkIGhhcyBubyBwYXJlbnQuXG4gKiBAcGFyYW0ge1RyZWVOb2RlfSBjaGlsZCBBIGNoaWxkLlxuICogQHByaXZhdGVcbiAqL1xuY29uc3QgYXNzZXJ0Q2hpbGRIYXNOb1BhcmVudCA9IGZ1bmN0aW9uKGNoaWxkKSB7XG5cdGlmIChjaGlsZC5nZXRQYXJlbnQoKSkge1xuXHRcdHRocm93IG5ldyBFcnJvcignQ2Fubm90IGFkZCBjaGlsZCB3aXRoIHBhcmVudC4nKTtcblx0fVxufTtcblxuZXhwb3J0IGRlZmF1bHQgVHJlZU5vZGU7XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IGlzRGVmLCBzdHJpbmcgfSBmcm9tICdtZXRhbCc7XG5pbXBvcnQgcGFyc2UgZnJvbSAnLi9wYXJzZSc7XG5pbXBvcnQgeyBNdWx0aU1hcCB9IGZyb20gJ21ldGFsLXN0cnVjdHMnO1xuXG52YXIgcGFyc2VGbl8gPSBwYXJzZTtcblxuY2xhc3MgVXJpIHtcblxuXHQvKipcblx0ICogVGhpcyBjbGFzcyBjb250YWlucyBzZXR0ZXJzIGFuZCBnZXR0ZXJzIGZvciB0aGUgcGFydHMgb2YgdGhlIFVSSS5cblx0ICogVGhlIGZvbGxvd2luZyBmaWd1cmUgZGlzcGxheXMgYW4gZXhhbXBsZSBVUklzIGFuZCB0aGVpciBjb21wb25lbnQgcGFydHMuXG5cdCAqXG5cdCAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhcblx0ICpcdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAg4pSM4pSA4pSA4pSA4pS04pSA4pSA4pSA4pSA4pSQXG5cdCAqXHQgIGFiYzovL2V4YW1wbGUuY29tOjEyMy9wYXRoL2RhdGE/a2V5PXZhbHVlI2ZyYWdpZDFcblx0ICpcdCAg4pSU4pSs4pSYICAg4pSU4pSA4pSA4pSA4pSA4pSs4pSA4pSA4pSA4pSA4pSYIOKUlOKUrOKUmCAgICAgICAgICAg4pSU4pSA4pSA4pSA4pSs4pSA4pSA4pSA4pSYIOKUlOKUgOKUgOKUrOKUgOKUgOKUmFxuXHQgKiBwcm90b2NvbCAgaG9zdG5hbWUgIHBvcnQgICAgICAgICAgICBzZWFyY2ggICAgaGFzaFxuXHQgKiAgICAgICAgICDilJTilIDilIDilIDilIDilIDilIDilKzilIDilIDilIDilIDilIDilIDilIDilJhcblx0ICogICAgICAgICAgICAgICAgaG9zdFxuXHQgKlxuXHQgKiBAcGFyYW0geyo9fSBvcHRfdXJpIE9wdGlvbmFsIHN0cmluZyBVUkkgdG8gcGFyc2Vcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRjb25zdHJ1Y3RvcihvcHRfdXJpID0gJycpIHtcblx0XHR0aGlzLnVybCA9IFVyaS5wYXJzZSh0aGlzLm1heWJlQWRkUHJvdG9jb2xBbmRIb3N0bmFtZV8ob3B0X3VyaSkpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEFkZHMgcGFyYW1ldGVycyB0byB1cmkgZnJvbSBhIDxjb2RlPk11bHRpTWFwPC9jb2RlPiBhcyBzb3VyY2UuXG5cdCAqIEBwYXJhbSB7TXVsdGlNYXB9IG11bHRpbWFwIFRoZSA8Y29kZT5NdWx0aU1hcDwvY29kZT4gY29udGFpbmluZyB0aGVcblx0ICogICBwYXJhbWV0ZXJzLlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqIEBjaGFpbmFibGVcblx0ICovXG5cdGFkZFBhcmFtZXRlcnNGcm9tTXVsdGlNYXAobXVsdGltYXApIHtcblx0XHRtdWx0aW1hcC5uYW1lcygpLmZvckVhY2goKG5hbWUpID0+IHtcblx0XHRcdG11bHRpbWFwLmdldEFsbChuYW1lKS5mb3JFYWNoKCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHR0aGlzLmFkZFBhcmFtZXRlclZhbHVlKG5hbWUsIHZhbHVlKTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0LyoqXG5cdCAqIEFkZHMgdGhlIHZhbHVlIG9mIHRoZSBuYW1lZCBxdWVyeSBwYXJhbWV0ZXJzLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBwYXJhbWV0ZXIgdG8gc2V0LlxuXHQgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSBuZXcgdmFsdWUuIFdpbGwgYmUgZXhwbGljaXRseSBjYXN0ZWQgdG8gU3RyaW5nLlxuXHQgKiBAY2hhaW5hYmxlXG5cdCAqL1xuXHRhZGRQYXJhbWV0ZXJWYWx1ZShuYW1lLCB2YWx1ZSkge1xuXHRcdHRoaXMuZW5zdXJlUXVlcnlJbml0aWFsaXplZF8oKTtcblx0XHRpZiAoaXNEZWYodmFsdWUpKSB7XG5cdFx0XHR2YWx1ZSA9IFN0cmluZyh2YWx1ZSk7XG5cdFx0fVxuXHRcdHRoaXMucXVlcnkuYWRkKG5hbWUsIHZhbHVlKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdC8qKlxuXHQgKiBBZGRzIHRoZSB2YWx1ZXMgb2YgdGhlIG5hbWVkIHF1ZXJ5IHBhcmFtZXRlci5cblx0ICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUgcGFyYW1ldGVyIHRvIHNldC5cblx0ICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgbmV3IHZhbHVlLlxuXHQgKiBAY2hhaW5hYmxlXG5cdCAqL1xuXHRhZGRQYXJhbWV0ZXJWYWx1ZXMobmFtZSwgdmFsdWVzKSB7XG5cdFx0dmFsdWVzLmZvckVhY2goKHZhbHVlKSA9PiB0aGlzLmFkZFBhcmFtZXRlclZhbHVlKG5hbWUsIHZhbHVlKSk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKipcblx0ICogRW5zdXJlcyBxdWVyeSBpbnRlcm5hbCBtYXAgaXMgaW5pdGlhbGl6ZWQgYW5kIHN5bmNlZCB3aXRoIGluaXRpYWwgdmFsdWVcblx0ICogZXh0cmFjdGVkIGZyb20gVVJJIHNlYXJjaCBwYXJ0LlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRlbnN1cmVRdWVyeUluaXRpYWxpemVkXygpIHtcblx0XHRpZiAodGhpcy5xdWVyeSkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHR0aGlzLnF1ZXJ5ID0gbmV3IE11bHRpTWFwKCk7XG5cdFx0dmFyIHNlYXJjaCA9IHRoaXMudXJsLnNlYXJjaDtcblx0XHRpZiAoc2VhcmNoKSB7XG5cdFx0XHRzZWFyY2guc3Vic3RyaW5nKDEpLnNwbGl0KCcmJykuZm9yRWFjaCgocGFyYW0pID0+IHtcblx0XHRcdFx0dmFyIFtrZXksIHZhbHVlXSA9IHBhcmFtLnNwbGl0KCc9Jyk7XG5cdFx0XHRcdGlmIChpc0RlZih2YWx1ZSkpIHtcblx0XHRcdFx0XHR2YWx1ZSA9IFVyaS51cmxEZWNvZGUodmFsdWUpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuYWRkUGFyYW1ldGVyVmFsdWUoa2V5LCB2YWx1ZSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogR2V0cyB0aGUgaGFzaCBwYXJ0IG9mIHVyaS5cblx0ICogQHJldHVybiB7c3RyaW5nfVxuXHQgKi9cblx0Z2V0SGFzaCgpIHtcblx0XHRyZXR1cm4gdGhpcy51cmwuaGFzaCB8fCAnJztcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXRzIHRoZSBob3N0IHBhcnQgb2YgdXJpLiBFLmcuIDxjb2RlPltob3N0bmFtZV06W3BvcnRdPC9jb2RlPi5cblx0ICogQHJldHVybiB7c3RyaW5nfVxuXHQgKi9cblx0Z2V0SG9zdCgpIHtcblx0XHR2YXIgaG9zdCA9IHRoaXMuZ2V0SG9zdG5hbWUoKTtcblx0XHRpZiAoaG9zdCkge1xuXHRcdFx0dmFyIHBvcnQgPSB0aGlzLmdldFBvcnQoKTtcblx0XHRcdGlmIChwb3J0ICYmIHBvcnQgIT09ICc4MCcpIHtcblx0XHRcdFx0aG9zdCArPSAnOicgKyBwb3J0O1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gaG9zdDtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXRzIHRoZSBob3N0bmFtZSBwYXJ0IG9mIHVyaSB3aXRob3V0IHByb3RvY29sIGFuZCBwb3J0LlxuXHQgKiBAcmV0dXJuIHtzdHJpbmd9XG5cdCAqL1xuXHRnZXRIb3N0bmFtZSgpIHtcblx0XHR2YXIgaG9zdG5hbWUgPSB0aGlzLnVybC5ob3N0bmFtZTtcblx0XHRpZiAoaG9zdG5hbWUgPT09IFVyaS5IT1NUTkFNRV9QTEFDRUhPTERFUikge1xuXHRcdFx0cmV0dXJuICcnO1xuXHRcdH1cblx0XHRyZXR1cm4gaG9zdG5hbWU7XG5cdH1cblxuXHQvKipcblx0ICogR2V0cyB0aGUgb3JpZ2luIHBhcnQgb2YgdXJpLiBFLmcuIDxjb2RlPmh0dHA6Ly9baG9zdG5hbWVdOltwb3J0XTwvY29kZT4uXG5cdCAqIEByZXR1cm4ge3N0cmluZ31cblx0ICovXG5cdGdldE9yaWdpbigpIHtcblx0XHR2YXIgaG9zdCA9IHRoaXMuZ2V0SG9zdCgpO1xuXHRcdGlmIChob3N0KSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5nZXRQcm90b2NvbCgpICsgJy8vJyArIGhvc3Q7XG5cdFx0fVxuXHRcdHJldHVybiAnJztcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRoZSBmaXJzdCB2YWx1ZSBmb3IgYSBnaXZlbiBwYXJhbWV0ZXIgb3IgdW5kZWZpbmVkIGlmIHRoZSBnaXZlblxuXHQgKiBwYXJhbWV0ZXIgbmFtZSBkb2VzIG5vdCBhcHBlYXIgaW4gdGhlIHF1ZXJ5IHN0cmluZy5cblx0ICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtTmFtZSBVbmVzY2FwZWQgcGFyYW1ldGVyIG5hbWUuXG5cdCAqIEByZXR1cm4ge3N0cmluZ3x1bmRlZmluZWR9IFRoZSBmaXJzdCB2YWx1ZSBmb3IgYSBnaXZlbiBwYXJhbWV0ZXIgb3Jcblx0ICogICB1bmRlZmluZWQgaWYgdGhlIGdpdmVuIHBhcmFtZXRlciBuYW1lIGRvZXMgbm90IGFwcGVhciBpbiB0aGUgcXVlcnlcblx0ICogICBzdHJpbmcuXG5cdCAqL1xuXHRnZXRQYXJhbWV0ZXJWYWx1ZShuYW1lKSB7XG5cdFx0dGhpcy5lbnN1cmVRdWVyeUluaXRpYWxpemVkXygpO1xuXHRcdHJldHVybiB0aGlzLnF1ZXJ5LmdldChuYW1lKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRoZSB2YWx1ZTxiPnM8L2I+IGZvciBhIGdpdmVuIHBhcmFtZXRlciBhcyBhIGxpc3Qgb2YgZGVjb2RlZFxuXHQgKiBxdWVyeSBwYXJhbWV0ZXIgdmFsdWVzLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgcGFyYW1ldGVyIHRvIGdldCB2YWx1ZXMgZm9yLlxuXHQgKiBAcmV0dXJuIHshQXJyYXk8Pz59IFRoZSB2YWx1ZXMgZm9yIGEgZ2l2ZW4gcGFyYW1ldGVyIGFzIGEgbGlzdCBvZiBkZWNvZGVkXG5cdCAqICAgcXVlcnkgcGFyYW1ldGVyIHZhbHVlcy5cblx0ICovXG5cdGdldFBhcmFtZXRlclZhbHVlcyhuYW1lKSB7XG5cdFx0dGhpcy5lbnN1cmVRdWVyeUluaXRpYWxpemVkXygpO1xuXHRcdHJldHVybiB0aGlzLnF1ZXJ5LmdldEFsbChuYW1lKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRoZSBuYW1lPGI+czwvYj4gb2YgdGhlIHBhcmFtZXRlcnMuXG5cdCAqIEByZXR1cm4geyFBcnJheTxzdHJpbmc+fSBUaGUgbmFtZXMgZm9yIHRoZSBwYXJhbWV0ZXJzIGFzIGEgbGlzdCBvZlxuXHQgKiAgIHN0cmluZ3MuXG5cdCAqL1xuXHRnZXRQYXJhbWV0ZXJOYW1lcygpIHtcblx0XHR0aGlzLmVuc3VyZVF1ZXJ5SW5pdGlhbGl6ZWRfKCk7XG5cdFx0cmV0dXJuIHRoaXMucXVlcnkubmFtZXMoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXRzIHRoZSBmdW5jdGlvbiBjdXJyZW50bHkgYmVpbmcgdXNlZCB0byBwYXJzZSBVUklzLlxuXHQgKiBAcmV0dXJuIHshZnVuY3Rpb24oKX1cblx0ICovXG5cdHN0YXRpYyBnZXRQYXJzZUZuKCkge1xuXHRcdHJldHVybiBwYXJzZUZuXztcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXRzIHRoZSBwYXRobmFtZSBwYXJ0IG9mIHVyaS5cblx0ICogQHJldHVybiB7c3RyaW5nfVxuXHQgKi9cblx0Z2V0UGF0aG5hbWUoKSB7XG5cdFx0cmV0dXJuIHRoaXMudXJsLnBhdGhuYW1lO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldHMgdGhlIHBvcnQgbnVtYmVyIHBhcnQgb2YgdXJpIGFzIHN0cmluZy5cblx0ICogQHJldHVybiB7c3RyaW5nfVxuXHQgKi9cblx0Z2V0UG9ydCgpIHtcblx0XHRyZXR1cm4gdGhpcy51cmwucG9ydDtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXRzIHRoZSBwcm90b2NvbCBwYXJ0IG9mIHVyaS4gRS5nLiA8Y29kZT5odHRwOjwvY29kZT4uXG5cdCAqIEByZXR1cm4ge3N0cmluZ31cblx0ICovXG5cdGdldFByb3RvY29sKCkge1xuXHRcdHJldHVybiB0aGlzLnVybC5wcm90b2NvbDtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXRzIHRoZSBzZWFyY2ggcGFydCBvZiB1cmkuIFNlYXJjaCB2YWx1ZSBpcyByZXRyaWV2ZWQgZnJvbSBxdWVyeVxuXHQgKiBwYXJhbWV0ZXJzLlxuXHQgKiBAcmV0dXJuIHtzdHJpbmd9XG5cdCAqL1xuXHRnZXRTZWFyY2goKSB7XG5cdFx0dmFyIHNlYXJjaCA9ICcnO1xuXHRcdHZhciBxdWVyeXN0cmluZyA9ICcnO1xuXHRcdHRoaXMuZ2V0UGFyYW1ldGVyTmFtZXMoKS5mb3JFYWNoKChuYW1lKSA9PiB7XG5cdFx0XHR0aGlzLmdldFBhcmFtZXRlclZhbHVlcyhuYW1lKS5mb3JFYWNoKCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRxdWVyeXN0cmluZyArPSBuYW1lO1xuXHRcdFx0XHRpZiAoaXNEZWYodmFsdWUpKSB7XG5cdFx0XHRcdFx0cXVlcnlzdHJpbmcgKz0gJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRxdWVyeXN0cmluZyArPSAnJic7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0XHRxdWVyeXN0cmluZyA9IHF1ZXJ5c3RyaW5nLnNsaWNlKDAsIC0xKTtcblx0XHRpZiAocXVlcnlzdHJpbmcpIHtcblx0XHRcdHNlYXJjaCArPSAnPycgKyBxdWVyeXN0cmluZztcblx0XHR9XG5cdFx0cmV0dXJuIHNlYXJjaDtcblx0fVxuXG5cdC8qKlxuXHQgKiBDaGVja3MgaWYgdXJpIGNvbnRhaW5zIHRoZSBwYXJhbWV0ZXIuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG5cdCAqIEByZXR1cm4ge2Jvb2xlYW59XG5cdCAqL1xuXHRoYXNQYXJhbWV0ZXIobmFtZSkge1xuXHRcdHRoaXMuZW5zdXJlUXVlcnlJbml0aWFsaXplZF8oKTtcblx0XHRyZXR1cm4gdGhpcy5xdWVyeS5jb250YWlucyhuYW1lKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBNYWtlcyB0aGlzIFVSTCB1bmlxdWUgYnkgYWRkaW5nIGEgcmFuZG9tIHBhcmFtIHRvIGl0LiBVc2VmdWwgZm9yIGF2b2lkaW5nXG5cdCAqIGNhY2hlLlxuXHQgKi9cblx0bWFrZVVuaXF1ZSgpIHtcblx0XHR0aGlzLnNldFBhcmFtZXRlclZhbHVlKFVyaS5SQU5ET01fUEFSQU0sIHN0cmluZy5nZXRSYW5kb21TdHJpbmcoKSk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKipcblx0ICogTWF5YmUgYWRkcyBwcm90b2NvbCBhbmQgYSBob3N0bmFtZSBwbGFjZWhvbGRlciBvbiBhIHBhcmlhbCBVUkkgaWYgbmVlZGVkLlxuXHQgKiBSZWxldmVudCBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIDxjb2RlPlVSTDwvY29kZT4gbmF0aXZlIG9iamVjdC5cblx0ICogQHBhcmFtIHtzdHJpbmc9fSBvcHRfdXJpXG5cdCAqIEByZXR1cm4ge3N0cmluZ30gVVJJIHdpdGggcHJvdG9jb2wgYW5kIGhvc3RuYW1lIHBsYWNlaG9sZGVyLlxuXHQgKi9cblx0bWF5YmVBZGRQcm90b2NvbEFuZEhvc3RuYW1lXyhvcHRfdXJpKSB7XG5cdFx0dmFyIHVybCA9IG9wdF91cmk7XG5cdFx0aWYgKG9wdF91cmkuaW5kZXhPZignOi8vJykgPT09IC0xICYmXG5cdFx0XHRvcHRfdXJpLmluZGV4T2YoJ2phdmFzY3JpcHQ6JykgIT09IDApIHsgLy8ganNoaW50IGlnbm9yZTpsaW5lXG5cblx0XHRcdHVybCA9IFVyaS5ERUZBVUxUX1BST1RPQ09MO1xuXHRcdFx0aWYgKG9wdF91cmlbMF0gIT09ICcvJyB8fCBvcHRfdXJpWzFdICE9PSAnLycpIHtcblx0XHRcdFx0dXJsICs9ICcvLyc7XG5cdFx0XHR9XG5cblx0XHRcdHN3aXRjaCAob3B0X3VyaS5jaGFyQXQoMCkpIHtcblx0XHRcdFx0Y2FzZSAnLic6XG5cdFx0XHRcdGNhc2UgJz8nOlxuXHRcdFx0XHRjYXNlICcjJzpcblx0XHRcdFx0XHR1cmwgKz0gVXJpLkhPU1ROQU1FX1BMQUNFSE9MREVSO1xuXHRcdFx0XHRcdHVybCArPSAnLyc7XG5cdFx0XHRcdFx0dXJsICs9IG9wdF91cmk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJyc6XG5cdFx0XHRcdGNhc2UgJy8nOlxuXHRcdFx0XHRcdGlmIChvcHRfdXJpWzFdICE9PSAnLycpIHtcblx0XHRcdFx0XHRcdHVybCArPSBVcmkuSE9TVE5BTUVfUExBQ0VIT0xERVI7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHVybCArPSBvcHRfdXJpO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRcdHVybCArPSBvcHRfdXJpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gdXJsO1xuXHR9XG5cblx0LyoqXG5cdCAqIE5vcm1hbGl6ZXMgdGhlIHBhcnNlZCBvYmplY3QgdG8gYmUgaW4gdGhlIGV4cGVjdGVkIHN0YW5kYXJkLlxuXHQgKiBAcGFyYW0geyFPYmplY3R9XG5cdCAqL1xuXHRzdGF0aWMgbm9ybWFsaXplT2JqZWN0KHBhcnNlZCkge1xuXHRcdHZhciBsZW5ndGggPSBwYXJzZWQucGF0aG5hbWUgPyBwYXJzZWQucGF0aG5hbWUubGVuZ3RoIDogMDtcblx0XHRpZiAobGVuZ3RoID4gMSAmJiBwYXJzZWQucGF0aG5hbWVbbGVuZ3RoIC0gMV0gPT09ICcvJykge1xuXHRcdFx0cGFyc2VkLnBhdGhuYW1lID0gcGFyc2VkLnBhdGhuYW1lLnN1YnN0cigwLCBsZW5ndGggLSAxKTtcblx0XHR9XG5cdFx0cmV0dXJuIHBhcnNlZDtcblx0fVxuXG5cdC8qKlxuXHQgKiBQYXJzZXMgdGhlIGdpdmVuIHVyaSBzdHJpbmcgaW50byBhbiBvYmplY3QuXG5cdCAqIEBwYXJhbSB7Kj19IG9wdF91cmkgT3B0aW9uYWwgc3RyaW5nIFVSSSB0byBwYXJzZVxuXHQgKi9cblx0c3RhdGljIHBhcnNlKG9wdF91cmkpIHtcblx0XHRyZXR1cm4gVXJpLm5vcm1hbGl6ZU9iamVjdChwYXJzZUZuXyhvcHRfdXJpKSk7XG5cdH1cblxuXHQvKipcblx0ICogUmVtb3ZlcyB0aGUgbmFtZWQgcXVlcnkgcGFyYW1ldGVyLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgcGFyYW1ldGVyIHRvIHJlbW92ZS5cblx0ICogQGNoYWluYWJsZVxuXHQgKi9cblx0cmVtb3ZlUGFyYW1ldGVyKG5hbWUpIHtcblx0XHR0aGlzLmVuc3VyZVF1ZXJ5SW5pdGlhbGl6ZWRfKCk7XG5cdFx0dGhpcy5xdWVyeS5yZW1vdmUobmFtZSk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKipcblx0ICogUmVtb3ZlcyB1bmlxdWVuZXNzIHBhcmFtZXRlciBvZiB0aGUgdXJpLlxuXHQgKiBAY2hhaW5hYmxlXG5cdCAqL1xuXHRyZW1vdmVVbmlxdWUoKSB7XG5cdFx0dGhpcy5yZW1vdmVQYXJhbWV0ZXIoVXJpLlJBTkRPTV9QQVJBTSk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKipcblx0ICogU2V0cyB0aGUgaGFzaC5cblx0ICogQHBhcmFtIHtzdHJpbmd9IGhhc2hcblx0ICogQGNoYWluYWJsZVxuXHQgKi9cblx0c2V0SGFzaChoYXNoKSB7XG5cdFx0dGhpcy51cmwuaGFzaCA9IGhhc2g7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKipcblx0ICogU2V0cyB0aGUgaG9zdG5hbWUuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBob3N0bmFtZVxuXHQgKiBAY2hhaW5hYmxlXG5cdCAqL1xuXHRzZXRIb3N0bmFtZShob3N0bmFtZSkge1xuXHRcdHRoaXMudXJsLmhvc3RuYW1lID0gaG9zdG5hbWU7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKipcblx0ICogU2V0cyB0aGUgdmFsdWUgb2YgdGhlIG5hbWVkIHF1ZXJ5IHBhcmFtZXRlcnMsIGNsZWFyaW5nIHByZXZpb3VzIHZhbHVlc1xuXHQgKiBmb3IgdGhhdCBrZXkuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIHBhcmFtZXRlciB0byBzZXQuXG5cdCAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIG5ldyB2YWx1ZS5cblx0ICogQGNoYWluYWJsZVxuXHQgKi9cblx0c2V0UGFyYW1ldGVyVmFsdWUobmFtZSwgdmFsdWUpIHtcblx0XHR0aGlzLnJlbW92ZVBhcmFtZXRlcihuYW1lKTtcblx0XHR0aGlzLmFkZFBhcmFtZXRlclZhbHVlKG5hbWUsIHZhbHVlKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdC8qKlxuXHQgKiBTZXRzIHRoZSB2YWx1ZXMgb2YgdGhlIG5hbWVkIHF1ZXJ5IHBhcmFtZXRlcnMsIGNsZWFyaW5nIHByZXZpb3VzIHZhbHVlc1xuXHQgKiBmb3IgdGhhdCBrZXkuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIHBhcmFtZXRlciB0byBzZXQuXG5cdCAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIG5ldyB2YWx1ZS5cblx0ICogQGNoYWluYWJsZVxuXHQgKi9cblx0c2V0UGFyYW1ldGVyVmFsdWVzKG5hbWUsIHZhbHVlcykge1xuXHRcdHRoaXMucmVtb3ZlUGFyYW1ldGVyKG5hbWUpO1xuXHRcdHZhbHVlcy5mb3JFYWNoKCh2YWx1ZSkgPT4gdGhpcy5hZGRQYXJhbWV0ZXJWYWx1ZShuYW1lLCB2YWx1ZSkpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0LyoqXG5cdCAqIFNldHMgdGhlIHBhdGhuYW1lLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcGF0aG5hbWVcblx0ICogQGNoYWluYWJsZVxuXHQgKi9cblx0c2V0UGF0aG5hbWUocGF0aG5hbWUpIHtcblx0XHR0aGlzLnVybC5wYXRobmFtZSA9IHBhdGhuYW1lO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0LyoqXG5cdCAqIFNldHMgdGhlIHBvcnQgbnVtYmVyLlxuXHQgKiBAcGFyYW0geyp9IHBvcnQgUG9ydCBudW1iZXIuXG5cdCAqIEBjaGFpbmFibGVcblx0ICovXG5cdHNldFBvcnQocG9ydCkge1xuXHRcdHRoaXMudXJsLnBvcnQgPSBwb3J0O1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0LyoqXG5cdCAqIFNldHMgdGhlIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSB1c2VkIGZvciBwYXJzaW5nIHRoZSBvcmlnaW5hbCBzdHJpbmcgdXJpXG5cdCAqIGludG8gYW4gb2JqZWN0LlxuXHQgKiBAcGFyYW0geyFmdW5jdGlvbigpfSBwYXJzZUZuXG5cdCAqL1xuXHRzdGF0aWMgc2V0UGFyc2VGbihwYXJzZUZuKSB7XG5cdFx0cGFyc2VGbl8gPSBwYXJzZUZuO1xuXHR9XG5cblx0LyoqXG5cdCAqIFNldHMgdGhlIHByb3RvY29sLiBJZiBtaXNzaW5nIDxjb2RlPmh0dHA6PC9jb2RlPiBpcyB1c2VkIGFzIGRlZmF1bHQuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBwcm90b2NvbFxuXHQgKiBAY2hhaW5hYmxlXG5cdCAqL1xuXHRzZXRQcm90b2NvbChwcm90b2NvbCkge1xuXHRcdHRoaXMudXJsLnByb3RvY29sID0gcHJvdG9jb2w7XG5cdFx0aWYgKHRoaXMudXJsLnByb3RvY29sW3RoaXMudXJsLnByb3RvY29sLmxlbmd0aCAtIDFdICE9PSAnOicpIHtcblx0XHRcdHRoaXMudXJsLnByb3RvY29sICs9ICc6Jztcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybiB7c3RyaW5nfSBUaGUgc3RyaW5nIGZvcm0gb2YgdGhlIHVybC5cblx0ICogQG92ZXJyaWRlXG5cdCAqL1xuXHR0b1N0cmluZygpIHtcblx0XHR2YXIgaHJlZiA9ICcnO1xuXHRcdHZhciBob3N0ID0gdGhpcy5nZXRIb3N0KCk7XG5cdFx0aWYgKGhvc3QpIHtcblx0XHRcdGhyZWYgKz0gdGhpcy5nZXRQcm90b2NvbCgpICsgJy8vJztcblx0XHR9XG5cdFx0aHJlZiArPSBob3N0ICsgdGhpcy5nZXRQYXRobmFtZSgpICsgdGhpcy5nZXRTZWFyY2goKSArIHRoaXMuZ2V0SGFzaCgpO1xuXHRcdHJldHVybiBocmVmO1xuXHR9XG5cblx0LyoqXG5cdCAqIEpvaW5zIHRoZSBnaXZlbiBwYXRocy5cblx0ICogQHBhcmFtIHtzdHJpbmd9IGJhc2VQYXRoXG5cdCAqIEBwYXJhbSB7Li4uc3RyaW5nfSAuLi5wYXRocyBBbnkgbnVtYmVyIG9mIHBhdGhzIHRvIGJlIGpvaW5lZCB3aXRoIHRoZSBiYXNlIHVybC5cblx0ICogQHN0YXRpY1xuXHQgKi9cblx0c3RhdGljIGpvaW5QYXRocyhiYXNlUGF0aCwgLi4ucGF0aHMpIHtcblx0XHRpZiAoYmFzZVBhdGguY2hhckF0KGJhc2VQYXRoLmxlbmd0aCAtIDEpID09PSAnLycpIHtcblx0XHRcdGJhc2VQYXRoID0gYmFzZVBhdGguc3Vic3RyaW5nKDAsIGJhc2VQYXRoLmxlbmd0aCAtIDEpO1xuXHRcdH1cblx0XHRwYXRocyA9IHBhdGhzLm1hcChwYXRoID0+IHBhdGguY2hhckF0KDApID09PSAnLycgPyBwYXRoLnN1YnN0cmluZygxKSA6IHBhdGgpO1xuXHRcdHJldHVybiBbYmFzZVBhdGhdLmNvbmNhdChwYXRocykuam9pbignLycpLnJlcGxhY2UoL1xcLyQvLCAnJyk7XG5cdH1cblxuXHQvKipcblx0ICogVVJMLWRlY29kZXMgdGhlIHN0cmluZy4gV2UgbmVlZCB0byBzcGVjaWFsbHkgaGFuZGxlICcrJ3MgYmVjYXVzZVxuXHQgKiB0aGUgamF2YXNjcmlwdCBsaWJyYXJ5IGRvZXNuJ3QgY29udmVydCB0aGVtIHRvIHNwYWNlcy5cblx0ICogQHBhcmFtIHtzdHJpbmd9IHN0ciBUaGUgc3RyaW5nIHRvIHVybCBkZWNvZGUuXG5cdCAqIEByZXR1cm4ge3N0cmluZ30gVGhlIGRlY29kZWQge0Bjb2RlIHN0cn0uXG5cdCAqL1xuXHRzdGF0aWMgdXJsRGVjb2RlKHN0cikge1xuXHRcdHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoc3RyLnJlcGxhY2UoL1xcKy9nLCAnICcpKTtcblx0fVxuXG59XG5cbi8qKlxuICogRGVmYXVsdCBwcm90b2NvbCB2YWx1ZS5cbiAqIEB0eXBlIHtzdHJpbmd9XG4gKiBAZGVmYXVsdCBodHRwOlxuICogQHN0YXRpY1xuICovXG5VcmkuREVGQVVMVF9QUk9UT0NPTCA9ICdodHRwOic7XG5cbi8qKlxuICogSG9zdG5hbWUgcGxhY2Vob2xkZXIuIFJlbGV2YW50IHRvIGludGVybmFsIHVzYWdlIG9ubHkuXG4gKiBAdHlwZSB7c3RyaW5nfVxuICogQHN0YXRpY1xuICovXG5VcmkuSE9TVE5BTUVfUExBQ0VIT0xERVIgPSAnaG9zdG5hbWUnICsgRGF0ZS5ub3coKTtcblxuLyoqXG4gKiBOYW1lIHVzZWQgYnkgdGhlIHBhcmFtIGdlbmVyYXRlZCBieSBgbWFrZVVuaXF1ZWAuXG4gKiBAdHlwZSB7c3RyaW5nfVxuICogQHN0YXRpY1xuICovXG5VcmkuUkFORE9NX1BBUkFNID0gJ3p4JztcblxuZXhwb3J0IGRlZmF1bHQgVXJpO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBjb3JlIH0gZnJvbSAnbWV0YWwnO1xuaW1wb3J0IGdsb2JhbHMgZnJvbSAnLi4vZ2xvYmFscy9nbG9iYWxzJztcbmltcG9ydCBVcmkgZnJvbSAnbWV0YWwtdXJpJztcblxuZnVuY3Rpb24gYXNzZXJ0QnJvd3NlckVudmlyb25tZW50KCkge1xuXHRpZiAoIWdsb2JhbHMud2luZG93KSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdTaWduLWluIHR5cGUgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGVudmlyb25tZW50Jyk7XG5cdH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0RGVmQW5kTm90TnVsbCh2YWx1ZSwgZXJyb3JNZXNzYWdlKSB7XG5cdGlmICghY29yZS5pc0RlZkFuZE5vdE51bGwodmFsdWUpKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKGVycm9yTWVzc2FnZSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0Tm90TnVsbCh2YWx1ZSwgZXJyb3JNZXNzYWdlKSB7XG5cdGlmIChjb3JlLmlzTnVsbCh2YWx1ZSkpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcblx0fVxufVxuXG5mdW5jdGlvbiBhc3NlcnRGdW5jdGlvbih2YWx1ZSwgZXJyb3JNZXNzYWdlKSB7XG5cdGlmICghY29yZS5pc0Z1bmN0aW9uKHZhbHVlKSkge1xuXHRcdHRocm93IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGFzc2VydE9iamVjdCh2YWx1ZSwgZXJyb3JNZXNzYWdlKSB7XG5cdGlmICghY29yZS5pc09iamVjdCh2YWx1ZSkpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcblx0fVxufVxuXG5mdW5jdGlvbiBhc3NlcnRSZXNwb25zZVN1Y2NlZWRlZChyZXNwb25zZSkge1xuXHRpZiAoIXJlc3BvbnNlLnN1Y2NlZWRlZCgpKSB7XG5cdFx0dGhyb3cgcmVzcG9uc2UuYm9keSgpO1xuXHR9XG5cdHJldHVybiByZXNwb25zZTtcbn1cblxuZnVuY3Rpb24gYXNzZXJ0VXNlclNpZ25lZEluKHVzZXIpIHtcblx0aWYgKCFjb3JlLmlzRGVmQW5kTm90TnVsbCh1c2VyKSkge1xuXHRcdHRocm93IG5ldyBFcnJvcignWW91IG11c3QgYmUgc2lnbmVkLWluIHRvIHBlcmZvcm0gdGhpcyBvcGVyYXRpb24nKTtcblx0fVxufVxuXG5mdW5jdGlvbiBhc3NlcnRVcmlXaXRoTm9QYXRoKHVybCwgbWVzc2FnZSkge1xuXHR2YXIgdXJpID0gbmV3IFVyaSh1cmwpO1xuXHRpZiAodXJpLmdldFBhdGhuYW1lKCkubGVuZ3RoID4gMSkge1xuXHRcdHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcblx0fVxufVxuXG5leHBvcnQgeyBhc3NlcnRCcm93c2VyRW52aXJvbm1lbnQsIGFzc2VydERlZkFuZE5vdE51bGwsIGFzc2VydE5vdE51bGwsIGFzc2VydEZ1bmN0aW9uLCBhc3NlcnRPYmplY3QsIGFzc2VydFJlc3BvbnNlU3VjY2VlZGVkLCBhc3NlcnRVc2VyU2lnbmVkSW4sIGFzc2VydFVyaVdpdGhOb1BhdGggfTtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgY29yZSB9IGZyb20gJ21ldGFsJztcblxuaW1wb3J0IHsgYXNzZXJ0RGVmQW5kTm90TnVsbCwgYXNzZXJ0T2JqZWN0LCBhc3NlcnRSZXNwb25zZVN1Y2NlZWRlZCB9IGZyb20gJy4uL2Fzc2VydGlvbnMnO1xuXG4vKipcbiAqIENsYXNzIHJlc3BvbnNpYmxlIGZvciBzdG9yaW5nIGF1dGhvcml6YXRpb24gaW5mb3JtYXRpb24uXG4gKi9cbmNsYXNzIEF1dGgge1xuXHQvKipcblx0ICogQ29uc3RydWN0cyBhbiB7QGxpbmsgQXV0aH0gaW5zdGFuY2UuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB0b2tlbk9yRW1haWwgRWl0aGVyIHRoZSBhdXRob3JpemF0aW9uIHRva2VuLCBvclxuXHQgKiAgIHRoZSB1c2VybmFtZS5cblx0ICogQHBhcmFtIHtzdHJpbmc9fSBvcHRfcGFzc3dvcmQgSWYgYSB1c2VybmFtZSBpcyBnaXZlbiBhcyB0aGUgZmlyc3QgcGFyYW0sXG5cdCAqICAgdGhpcyBzaG91bGQgYmUgdGhlIHBhc3N3b3JkLlxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICovXG5cdGNvbnN0cnVjdG9yKHRva2VuT3JFbWFpbCwgb3B0X3Bhc3N3b3JkID0gbnVsbCkge1xuXHRcdHRoaXMudG9rZW4gPSBjb3JlLmlzU3RyaW5nKG9wdF9wYXNzd29yZCkgPyBudWxsIDogdG9rZW5PckVtYWlsO1xuXHRcdHRoaXMuZW1haWwgPSBjb3JlLmlzU3RyaW5nKG9wdF9wYXNzd29yZCkgPyB0b2tlbk9yRW1haWwgOiBudWxsO1xuXHRcdHRoaXMucGFzc3dvcmQgPSBvcHRfcGFzc3dvcmQ7XG5cblx0XHR0aGlzLmNyZWF0ZWRBdCA9IG51bGw7XG5cdFx0dGhpcy5pZCA9IG51bGw7XG5cdFx0dGhpcy5uYW1lID0gbnVsbDtcblx0XHR0aGlzLnBob3RvVXJsID0gbnVsbDtcblx0XHR0aGlzLndlZGVwbG95Q2xpZW50ID0gbnVsbDtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb25zdHJ1Y3RzIGFuIHtAbGluayBBdXRofSBpbnN0YW5jZS5cblx0ICogQHBhcmFtIHtzdHJpbmd9IHRva2VuT3JVc2VybmFtZSBFaXRoZXIgdGhlIGF1dGhvcml6YXRpb24gdG9rZW4sIG9yXG5cdCAqICAgdGhlIHVzZXJuYW1lLlxuXHQgKiBAcGFyYW0ge3N0cmluZz19IG9wdF9wYXNzd29yZCBJZiBhIHVzZXJuYW1lIGlzIGdpdmVuIGFzIHRoZSBmaXJzdCBwYXJhbSxcblx0ICogICB0aGlzIHNob3VsZCBiZSB0aGUgcGFzc3dvcmQuXG5cdCAqIEByZXR1cm4geyFBdXRofVxuXHQgKi9cblx0c3RhdGljIGNyZWF0ZSh0b2tlbk9yVXNlcm5hbWUsIG9wdF9wYXNzd29yZCkge1xuXHRcdHJldHVybiBuZXcgQXV0aCh0b2tlbk9yVXNlcm5hbWUsIG9wdF9wYXNzd29yZCk7XG5cdH1cblxuXHQvKipcblx0ICogR2V0cyB0aGUgY3JlYXRlZCBhdCBkYXRlLlxuXHQgKiBAcmV0dXJuIHtzdHJpbmd9XG5cdCAqL1xuXHRnZXRDcmVhdGVkQXQoKSB7XG5cdFx0cmV0dXJuIHRoaXMuY3JlYXRlZEF0O1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldHMgdGhlIGVtYWlsLlxuXHQgKiBAcmV0dXJuIHtzdHJpbmd9XG5cdCAqL1xuXHRnZXRFbWFpbCgpIHtcblx0XHRyZXR1cm4gdGhpcy5lbWFpbDtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXRzIHRoZSBpZC5cblx0ICogQHJldHVybiB7c3RyaW5nfVxuXHQgKi9cblx0Z2V0SWQoKSB7XG5cdFx0cmV0dXJuIHRoaXMuaWQ7XG5cdH1cblxuXHQvKipcblx0ICogR2V0cyB0aGUgbmFtZS5cblx0ICogQHJldHVybiB7c3RyaW5nfVxuXHQgKi9cblx0Z2V0TmFtZSgpIHtcblx0XHRyZXR1cm4gdGhpcy5uYW1lO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldHMgdGhlIHBhc3N3b3JkLlxuXHQgKiBAcmV0dXJuIHtzdHJpbmd9XG5cdCAqL1xuXHRnZXRQYXNzd29yZCgpIHtcblx0XHRyZXR1cm4gdGhpcy5wYXNzd29yZDtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXRzIHRoZSBwaG90byB1cmwuXG5cdCAqIEByZXR1cm4ge3N0cmluZ31cblx0ICovXG5cdGdldFBob3RvVXJsKCkge1xuXHRcdHJldHVybiB0aGlzLnBob3RvVXJsO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldHMgdGhlIHRva2VuLlxuXHQgKiBAcmV0dXJuIHtzdHJpbmd9XG5cdCAqL1xuXHRnZXRUb2tlbigpIHtcblx0XHRyZXR1cm4gdGhpcy50b2tlbjtcblx0fVxuXG5cdC8qKlxuXHQgKiBDaGVja3MgaWYgY3JlYXRlZCBhdCBpcyBzZXQuXG5cdCAqIEByZXR1cm4ge2Jvb2xlYW59XG5cdCAqL1xuXHRoYXNDcmVhdGVkQXQoKSB7XG5cdFx0cmV0dXJuIGNvcmUuaXNEZWZBbmROb3ROdWxsKHRoaXMuY3JlYXRlZEF0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDaGVja3MgaWYgdGhlIGVtYWlsIGlzIHNldC5cblx0ICogQHJldHVybiB7Ym9vbGVhbn1cblx0ICovXG5cdGhhc0VtYWlsKCkge1xuXHRcdHJldHVybiBjb3JlLmlzRGVmQW5kTm90TnVsbCh0aGlzLmVtYWlsKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDaGVja3MgaWYgdGhlIGlkIGlzIHNldC5cblx0ICogQHJldHVybiB7Ym9vbGVhbn1cblx0ICovXG5cdGhhc0lkKCkge1xuXHRcdHJldHVybiBjb3JlLmlzRGVmQW5kTm90TnVsbCh0aGlzLmlkKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDaGVja3MgaWYgdGhlIG5hbWUgaXMgc2V0LlxuXHQgKiBAcmV0dXJuIHtib29sZWFufVxuXHQgKi9cblx0aGFzTmFtZSgpIHtcblx0XHRyZXR1cm4gY29yZS5pc0RlZkFuZE5vdE51bGwodGhpcy5uYW1lKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDaGVja3MgaWYgdGhlIHBhc3N3b3JkIGlzIHNldC5cblx0ICogQHJldHVybiB7Ym9vbGVhbn1cblx0ICovXG5cdGhhc1Bhc3N3b3JkKCkge1xuXHRcdHJldHVybiBjb3JlLmlzRGVmQW5kTm90TnVsbCh0aGlzLnBhc3N3b3JkKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDaGVja3MgaWYgdGhlIHBob3RvIHVybCBpcyBzZXQuXG5cdCAqIEByZXR1cm4ge2Jvb2xlYW59XG5cdCAqL1xuXHRoYXNQaG90b1VybCgpIHtcblx0XHRyZXR1cm4gY29yZS5pc0RlZkFuZE5vdE51bGwodGhpcy5waG90b1VybCk7XG5cdH1cblxuXHQvKipcblx0ICogQ2hlY2tzIGlmIHRoZSB0b2tlbiBpcyBzZXQuXG5cdCAqIEByZXR1cm4ge2Jvb2xlYW59XG5cdCAqL1xuXHRoYXNUb2tlbigpIHtcblx0XHRyZXR1cm4gY29yZS5pc0RlZkFuZE5vdE51bGwodGhpcy50b2tlbik7XG5cdH1cblxuXHQvKipcblx0ICogU2V0cyBjcmVhdGVkIGF0LlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gY3JlYXRlZEF0XG5cdCAqL1xuXHRzZXRDcmVhdGVkQXQoY3JlYXRlZEF0KSB7XG5cdFx0dGhpcy5jcmVhdGVkQXQgPSBjcmVhdGVkQXQ7XG5cdH1cblxuXHQvKipcblx0ICogU2V0cyB0aGUgZW1haWwuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBlbWFpbFxuXHQgKi9cblx0c2V0RW1haWwoZW1haWwpIHtcblx0XHR0aGlzLmVtYWlsID0gZW1haWw7XG5cdH1cblxuXHQvKipcblx0ICogU2V0cyB0aGUgaWQuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBpZFxuXHQgKi9cblx0c2V0SWQoaWQpIHtcblx0XHR0aGlzLmlkID0gaWQ7XG5cdH1cblxuXHQvKipcblx0ICogU2V0cyB0aGUgbmFtZS5cblx0ICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcblx0ICovXG5cdHNldE5hbWUobmFtZSkge1xuXHRcdHRoaXMubmFtZSA9IG5hbWU7XG5cdH1cblxuXHQvKipcblx0ICogU2V0cyB0aGUgcGFzc3dvcmQuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBwYXNzd29yZFxuXHQgKi9cblx0c2V0UGFzc3dvcmQocGFzc3dvcmQpIHtcblx0XHR0aGlzLnBhc3N3b3JkID0gcGFzc3dvcmQ7XG5cdH1cblxuXHQvKipcblx0ICogU2V0cyB0aGUgcGhvdG8gdXJsLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcGhvdG9Vcmxcblx0ICovXG5cdHNldFBob3RvVXJsKHBob3RvVXJsKSB7XG5cdFx0dGhpcy5waG90b1VybCA9IHBob3RvVXJsO1xuXHR9XG5cblx0LyoqXG5cdCAqIFNldHMgdGhlIHRva2VuLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdG9rZW5cblx0ICovXG5cdHNldFRva2VuKHRva2VuKSB7XG5cdFx0dGhpcy50b2tlbiA9IHRva2VuO1xuXHR9XG5cblx0c2V0V2VkZXBsb3lDbGllbnQod2VkZXBsb3lDbGllbnQpIHtcblx0XHR0aGlzLndlZGVwbG95Q2xpZW50ID0gd2VkZXBsb3lDbGllbnQ7XG5cdH1cblxuXHQvKipcblx0ICogVXBkYXRlcyB0aGUgdXNlci5cblx0ICogQHBhcmFtIHshb2JqZWN0fSBkYXRhXG5cdCAqIEByZXR1cm4ge0NvbXBsZXRhYmxlRnV0dXJlfVxuXHQgKi9cblx0dXBkYXRlVXNlcihkYXRhKSB7XG5cdFx0YXNzZXJ0T2JqZWN0KGRhdGEsICdVc2VyIGRhdGEgbXVzdCBiZSBzcGVjaWZpZWQgYXMgb2JqZWN0Jyk7XG5cdFx0cmV0dXJuIHRoaXMud2VkZXBsb3lDbGllbnRcblx0XHRcdC51cmwodGhpcy53ZWRlcGxveUNsaWVudC5hdXRoVXJsXylcblx0XHRcdC5wYXRoKCcvdXNlcnMnLCB0aGlzLmdldElkKCkudG9TdHJpbmcoKSlcblx0XHRcdC5hdXRoKHRoaXMpXG5cdFx0XHQucGF0Y2goZGF0YSlcblx0XHRcdC50aGVuKHJlc3BvbnNlID0+IGFzc2VydFJlc3BvbnNlU3VjY2VlZGVkKHJlc3BvbnNlKSk7XG5cdH1cblxuXHQvKipcblx0ICogRGVsZXRlcyB0aGUgY3VycmVudCB1c2VyLlxuXHQgKiBAcmV0dXJuIHtDb21wbGV0YWJsZUZ1dHVyZX1cblx0ICovXG5cdGRlbGV0ZVVzZXIoKSB7XG5cdFx0YXNzZXJ0RGVmQW5kTm90TnVsbCh0aGlzLmdldElkKCksICdDYW5ub3QgZGVsZXRlIHVzZXIgd2l0aG91dCBpZCcpO1xuXHRcdHJldHVybiB0aGlzLndlZGVwbG95Q2xpZW50XG5cdFx0XHQudXJsKHRoaXMud2VkZXBsb3lDbGllbnQuYXV0aFVybF8pXG5cdFx0XHQucGF0aCgnL3VzZXJzJywgdGhpcy5nZXRJZCgpLnRvU3RyaW5nKCkpXG5cdFx0XHQuYXV0aCh0aGlzKVxuXHRcdFx0LmRlbGV0ZSgpXG5cdFx0XHQudGhlbihyZXNwb25zZSA9PiBhc3NlcnRSZXNwb25zZVN1Y2NlZWRlZChyZXNwb25zZSkpO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEF1dGg7XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBBdXRoIGZyb20gJy4vYXV0aC9BdXRoJztcbmltcG9ydCB7IGFzc2VydERlZkFuZE5vdE51bGwgfSBmcm9tICcuL2Fzc2VydGlvbnMnO1xuXG5jbGFzcyBBcGlIZWxwZXIge1xuXG5cdC8qKlxuXHQgKiBDb25zdHJ1Y3RzIGFuIHtAbGluayBBcGlIZWxwZXJ9IGluc3RhbmNlLlxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICovXG5cdGNvbnN0cnVjdG9yKHdlZGVwbG95Q2xpZW50KSB7XG5cdFx0YXNzZXJ0RGVmQW5kTm90TnVsbCh3ZWRlcGxveUNsaWVudCwgJ1dlRGVwbG95IGNsaWVudCByZWZlcmVuY2UgbXVzdCBiZSBzcGVjaWZpZWQnKTtcblx0XHR0aGlzLndlZGVwbG95Q2xpZW50ID0gd2VkZXBsb3lDbGllbnQ7XG5cdH1cblxuXHQvKipcblx0ICogQWRkcyBhdXRob3JpemF0aW9uIGluZm9ybWF0aW9uIHRvIHRoaXMgcmVxdWVzdC5cblx0ICogQHBhcmFtIHshQXV0aHxzdHJpbmd9IGF1dGhPclRva2VuT3JFbWFpbCBFaXRoZXIgYW4ge0BsaW5rIEF1dGh9IGluc3RhbmNlLFxuXHQgKiBhbiBhdXRob3JpemF0aW9uIHRva2VuLCBvciB0aGUgZW1haWwuXG5cdCAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0X3Bhc3N3b3JkIElmIGEgZW1haWwgaXMgZ2l2ZW4gYXMgdGhlIGZpcnN0IHBhcmFtLFxuXHQgKiB0aGlzIHNob3VsZCBiZSB0aGUgcGFzc3dvcmQuXG5cdCAqIEBjaGFpbmFibGVcblx0ICovXG5cdGF1dGgoYXV0aE9yVG9rZW5PckVtYWlsLCBvcHRfcGFzc3dvcmQpIHtcblx0XHR0aGlzLmhlbHBlckF1dGhTY29wZSA9IGF1dGhPclRva2VuT3JFbWFpbDtcblx0XHRpZiAoISh0aGlzLmhlbHBlckF1dGhTY29wZSBpbnN0YW5jZW9mIEF1dGgpKSB7XG5cdFx0XHR0aGlzLmhlbHBlckF1dGhTY29wZSA9IEF1dGguY3JlYXRlKGF1dGhPclRva2VuT3JFbWFpbCwgb3B0X3Bhc3N3b3JkKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBBcGlIZWxwZXI7XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IGNvcmUgfSBmcm9tICdtZXRhbCc7XG5pbXBvcnQgVXJpIGZyb20gJ21ldGFsLXVyaSc7XG5cbi8qKlxuICogQ2xhc3MgcmVzcG9uc2libGUgZm9yIGVuY2Fwc3VsYXRlIHByb3ZpZGVyIGluZm9ybWF0aW9uLlxuICovXG5jbGFzcyBBdXRoUHJvdmlkZXIge1xuXHQvKipcblx0ICogQ29uc3RydWN0cyBhbiB7QGxpbmsgQXV0aFByb3ZpZGVyfSBpbnN0YW5jZS5cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHR0aGlzLnByb3ZpZGVyID0gbnVsbDtcblx0XHR0aGlzLnByb3ZpZGVyU2NvcGUgPSBudWxsO1xuXHRcdHRoaXMucmVkaXJlY3RVcmkgPSBudWxsO1xuXHRcdHRoaXMuc2NvcGUgPSBudWxsO1xuXHR9XG5cblx0LyoqXG5cdCAqIENoZWNrcyBpZiBwcm92aWRlciBpcyBkZWZpbmVkIGFuZCBub3QgbnVsbC5cblx0ICogQHJldHVybiB7Ym9vbGVhbn1cblx0ICovXG5cdGhhc1Byb3ZpZGVyKCkge1xuXHRcdHJldHVybiBjb3JlLmlzRGVmQW5kTm90TnVsbCh0aGlzLnByb3ZpZGVyKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDaGVja3MgaWYgc2NvcGUgaXMgZGVmaW5lZCBhbmQgbm90IG51bGwuXG5cdCAqIEByZXR1cm4ge2Jvb2xlYW59XG5cdCAqL1xuXHRoYXNQcm92aWRlclNjb3BlKCkge1xuXHRcdHJldHVybiBjb3JlLmlzRGVmQW5kTm90TnVsbCh0aGlzLnByb3ZpZGVyU2NvcGUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENoZWNrcyBpZiByZWRpcmVjdCB1cmkgaXMgZGVmaW5lZCBhbmQgbm90IG51bGwuXG5cdCAqIEByZXR1cm4ge2Jvb2xlYW59XG5cdCAqL1xuXHRoYXNSZWRpcmVjdFVyaSgpIHtcblx0XHRyZXR1cm4gY29yZS5pc0RlZkFuZE5vdE51bGwodGhpcy5yZWRpcmVjdFVyaSk7XG5cdH1cblxuXHQvKipcblx0ICogQ2hlY2tzIGlmIHNjb3BlIGlzIGRlZmluZWQgYW5kIG5vdCBudWxsLlxuXHQgKiBAcmV0dXJuIHtib29sZWFufVxuXHQgKi9cblx0aGFzU2NvcGUoKSB7XG5cdFx0cmV0dXJuIGNvcmUuaXNEZWZBbmROb3ROdWxsKHRoaXMuc2NvcGUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIE1ha2VzIGF1dGhvcml6YXRpb24gdXJsLlxuXHQgKiBAcmV0dXJuIHtzdHJpbmc9fSBBdXRob3JpemF0aW9uIHVybC5cblx0ICovXG5cdG1ha2VBdXRob3JpemF0aW9uVXJsKG9wdF9hdXRoVXJsKSB7XG5cdFx0dmFyIHVyaSA9IG5ldyBVcmkob3B0X2F1dGhVcmwpO1xuXG5cdFx0dXJpLnNldFBhdGhuYW1lKCcvb2F1dGgvYXV0aG9yaXplJyk7XG5cblx0XHRpZiAodGhpcy5oYXNQcm92aWRlcigpKSB7XG5cdFx0XHR1cmkuc2V0UGFyYW1ldGVyVmFsdWUoJ3Byb3ZpZGVyJywgdGhpcy5nZXRQcm92aWRlcigpKTtcblx0XHR9XG5cdFx0aWYgKHRoaXMuaGFzUHJvdmlkZXJTY29wZSgpKSB7XG5cdFx0XHR1cmkuc2V0UGFyYW1ldGVyVmFsdWUoJ3Byb3ZpZGVyX3Njb3BlJywgdGhpcy5nZXRQcm92aWRlclNjb3BlKCkpO1xuXHRcdH1cblx0XHRpZiAodGhpcy5oYXNSZWRpcmVjdFVyaSgpKSB7XG5cdFx0XHR1cmkuc2V0UGFyYW1ldGVyVmFsdWUoJ3JlZGlyZWN0X3VyaScsIHRoaXMuZ2V0UmVkaXJlY3RVcmkoKSk7XG5cdFx0fVxuXHRcdGlmICh0aGlzLmhhc1Njb3BlKCkpIHtcblx0XHRcdHVyaS5zZXRQYXJhbWV0ZXJWYWx1ZSgnc2NvcGUnLCB0aGlzLmdldFNjb3BlKCkpO1xuXHRcdH1cblxuXHRcdHJldHVybiB1cmkudG9TdHJpbmcoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXRzIHByb3ZpZGVyIG5hbWUuXG5cdCAqIEByZXR1cm4ge3N0cmluZz19IFByb3ZpZGVyIG5hbWUuXG5cdCAqL1xuXHRnZXRQcm92aWRlcigpIHtcblx0XHRyZXR1cm4gdGhpcy5wcm92aWRlcjtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXRzIHByb3ZpZGVyIHNjb3BlLlxuXHQgKiBAcmV0dXJuIHtzdHJpbmc9fSBTdHJpbmcgd2l0aCBzY29wZXMuXG5cdCAqL1xuXHRnZXRQcm92aWRlclNjb3BlKCkge1xuXHRcdHJldHVybiB0aGlzLnByb3ZpZGVyU2NvcGU7XG5cdH1cblxuXHQvKipcblx0ICogR2V0cyByZWRpcmVjdCB1cmkuXG5cdCAqIEByZXR1cm4ge3N0cmluZz19LlxuXHQgKi9cblx0Z2V0UmVkaXJlY3RVcmkoKSB7XG5cdFx0cmV0dXJuIHRoaXMucmVkaXJlY3RVcmk7XG5cdH1cblxuXHQvKipcblx0ICogR2V0cyBzY29wZS5cblx0ICogQHJldHVybiB7c3RyaW5nPX0gU3RyaW5nIHdpdGggc2NvcGVzLlxuXHQgKi9cblx0Z2V0U2NvcGUoKSB7XG5cdFx0cmV0dXJuIHRoaXMuc2NvcGU7XG5cdH1cblxuXHQvKipcblx0ICogU2V0cyBwcm92aWRlciBzY29wZS5cblx0ICogQHBhcmFtIHtzdHJpbmc9fSBzY29wZSBTY29wZSBzdHJpbmcuIFNlcGFyYXRlIGJ5IHNwYWNlIGZvciBtdWx0aXBsZVxuXHQgKiAgIHNjb3BlcywgZS5nLiBcInNjb3BlMSBzY29wZTJcIi5cblx0ICovXG5cdHNldFByb3ZpZGVyU2NvcGUocHJvdmlkZXJTY29wZSkge1xuXHRcdGFzc2VydFN0cmluZ0lmRGVmQW5kTm90TnVsbChwcm92aWRlclNjb3BlLCAnUHJvdmlkZXIgc2NvcGUgbXVzdCBiZSBhIHN0cmluZycpO1xuXHRcdHRoaXMucHJvdmlkZXJTY29wZSA9IHByb3ZpZGVyU2NvcGU7XG5cdH1cblxuXHQvKipcblx0ICogU2V0cyByZWRpcmVjdCB1cmkuXG5cdCAqIEBwYXJhbSB7c3RyaW5nPX0gcmVkaXJlY3RVcmkuXG5cdCAqL1xuXHRzZXRSZWRpcmVjdFVyaShyZWRpcmVjdFVyaSkge1xuXHRcdGFzc2VydFN0cmluZ0lmRGVmQW5kTm90TnVsbChyZWRpcmVjdFVyaSwgJ1JlZGlyZWN0IHVyaSBtdXN0IGJlIGEgc3RyaW5nJyk7XG5cdFx0dGhpcy5yZWRpcmVjdFVyaSA9IHJlZGlyZWN0VXJpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFNldHMgc2NvcGUuXG5cdCAqIEBwYXJhbSB7c3RyaW5nPX0gc2NvcGUgU2NvcGUgc3RyaW5nLiBTZXBhcmF0ZSBieSBzcGFjZSBmb3IgbXVsdGlwbGVcblx0ICogICBzY29wZXMsIGUuZy4gXCJzY29wZTEgc2NvcGUyXCIuXG5cdCAqL1xuXHRzZXRTY29wZShzY29wZSkge1xuXHRcdGFzc2VydFN0cmluZ0lmRGVmQW5kTm90TnVsbChzY29wZSwgJ1Njb3BlIG11c3QgYmUgYSBzdHJpbmcnKTtcblx0XHR0aGlzLnNjb3BlID0gc2NvcGU7XG5cdH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0U3RyaW5nSWZEZWZBbmROb3ROdWxsKHZhbHVlLCBlcnJvck1lc3NhZ2UpIHtcblx0aWYgKGNvcmUuaXNEZWZBbmROb3ROdWxsKHZhbHVlKSAmJiAhY29yZS5pc1N0cmluZyh2YWx1ZSkpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBBdXRoUHJvdmlkZXI7XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBBdXRoUHJvdmlkZXIgZnJvbSAnLi9BdXRoUHJvdmlkZXInO1xuXG4vKipcbiAqIEZhY2Vib29rIGF1dGggcHJvdmlkZXIgaW1wbGVtZW50YXRpb24uXG4gKi9cbmNsYXNzIEZhY2Vib29rQXV0aFByb3ZpZGVyIGV4dGVuZHMgQXV0aFByb3ZpZGVyIHtcblx0LyoqXG5cdCAqIENvbnN0cnVjdHMgYW4ge0BsaW5rIEZhY2Vib29rQXV0aFByb3ZpZGVyfSBpbnN0YW5jZS5cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHRzdXBlcigpO1xuXHRcdHRoaXMucHJvdmlkZXIgPSBGYWNlYm9va0F1dGhQcm92aWRlci5QUk9WSURFUjtcblx0fVxufVxuXG5GYWNlYm9va0F1dGhQcm92aWRlci5QUk9WSURFUiA9ICdmYWNlYm9vayc7XG5cbmV4cG9ydCBkZWZhdWx0IEZhY2Vib29rQXV0aFByb3ZpZGVyO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgQXV0aFByb3ZpZGVyIGZyb20gJy4vQXV0aFByb3ZpZGVyJztcblxuLyoqXG4gKiBHaXRodWIgYXV0aCBwcm92aWRlciBpbXBsZW1lbnRhdGlvbi5cbiAqL1xuY2xhc3MgR2l0aHViQXV0aFByb3ZpZGVyIGV4dGVuZHMgQXV0aFByb3ZpZGVyIHtcblx0LyoqXG5cdCAqIENvbnN0cnVjdHMgYW4ge0BsaW5rIEdpdGh1YkF1dGhQcm92aWRlcn0gaW5zdGFuY2UuXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKi9cblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0c3VwZXIoKTtcblx0XHR0aGlzLnByb3ZpZGVyID0gR2l0aHViQXV0aFByb3ZpZGVyLlBST1ZJREVSO1xuXHR9XG59XG5cbkdpdGh1YkF1dGhQcm92aWRlci5QUk9WSURFUiA9ICdnaXRodWInO1xuXG5leHBvcnQgZGVmYXVsdCBHaXRodWJBdXRoUHJvdmlkZXI7XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCBBdXRoUHJvdmlkZXIgZnJvbSAnLi9BdXRoUHJvdmlkZXInO1xuXG4vKipcbiAqIEdvb2dsZSBhdXRoIHByb3ZpZGVyIGltcGxlbWVudGF0aW9uLlxuICovXG5jbGFzcyBHb29nbGVBdXRoUHJvdmlkZXIgZXh0ZW5kcyBBdXRoUHJvdmlkZXIge1xuXHQvKipcblx0ICogQ29uc3RydWN0cyBhbiB7QGxpbmsgR29vZ2xlQXV0aFByb3ZpZGVyfSBpbnN0YW5jZS5cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHRzdXBlcigpO1xuXHRcdHRoaXMucHJvdmlkZXIgPSBHb29nbGVBdXRoUHJvdmlkZXIuUFJPVklERVI7XG5cdH1cbn1cblxuR29vZ2xlQXV0aFByb3ZpZGVyLlBST1ZJREVSID0gJ2dvb2dsZSc7XG5cbmV4cG9ydCBkZWZhdWx0IEdvb2dsZUF1dGhQcm92aWRlcjtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuXG4vKipcbiAqIEFic3RyYWN0IGludGVyZmFjZSBmb3Igc3RvcmluZyBhbmQgcmV0cmlldmluZyBkYXRhIHVzaW5nIHNvbWUgcGVyc2lzdGVuY2VcbiAqIG1lY2hhbmlzbS5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5jbGFzcyBTdG9yYWdlTWVjaGFuaXNtIHtcblx0LyoqXG5cdCAqIENsZWFyIGFsbCBpdGVtcyBmcm9tIHRoZSBkYXRhIHN0b3JhZ2UuXG5cdCAqL1xuXHRjbGVhcigpIHtcblx0XHR0aHJvdyBFcnJvcignVW5pbXBsZW1lbnRlZCBhYnN0cmFjdCBtZXRob2QnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBTZXRzIGFuIGl0ZW0gaW4gdGhlIGRhdGEgc3RvcmFnZS5cblx0ICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IHRvIHNldC5cblx0ICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VyaWFsaXplIHRvIGEgc3RyaW5nIGFuZCBzYXZlLlxuXHQgKi9cblx0c2V0KGtleSwgdmFsdWUpIHtcblx0XHR0aHJvdyBFcnJvcignVW5pbXBsZW1lbnRlZCBhYnN0cmFjdCBtZXRob2QnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXRzIGFuIGl0ZW0gZnJvbSB0aGUgZGF0YSBzdG9yYWdlLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgdG8gZ2V0LlxuXHQgKiBAcmV0dXJuIHsqfSBEZXNlcmlhbGl6ZWQgdmFsdWUgb3IgdW5kZWZpbmVkIGlmIG5vdCBmb3VuZC5cblx0ICovXG5cdGdldChrZXkpIHtcblx0XHR0aHJvdyBFcnJvcignVW5pbXBsZW1lbnRlZCBhYnN0cmFjdCBtZXRob2QnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDaGVja3MgaWYgdGhpcyBtZWNoYW5pc20gaXMgc3VwcG9ydGVkIGluIHRoZSBjdXJyZW50IGVudmlyb25tZW50LlxuXHQgKiBTdWJjbGFzc2VzIHNob3VsZCBvdmVycmlkZSB0aGlzIHdoZW4gbmVjZXNzYXJ5LlxuXHQgKi9cblx0c3RhdGljIGlzU3VwcG9ydGVkKCkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgdGhlIGxpc3Qgb2Yga2V5cyBzdG9yZWQgaW4gdGhlIFN0b3JhZ2Ugb2JqZWN0LlxuXHQgKiBAcGFyYW0geyFBcnJheTxzdHJpbmc+fSBrZXlzXG5cdCAqL1xuXHRrZXlzKCkge1xuXHRcdHRocm93IEVycm9yKCdVbmltcGxlbWVudGVkIGFic3RyYWN0IG1ldGhvZCcpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJlbW92ZXMgYW4gaXRlbSBmcm9tIHRoZSBkYXRhIHN0b3JhZ2UuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSB0byByZW1vdmUuXG5cdCAqL1xuXHRyZW1vdmUoa2V5KSB7XG5cdFx0dGhyb3cgRXJyb3IoJ1VuaW1wbGVtZW50ZWQgYWJzdHJhY3QgbWV0aG9kJyk7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIGRhdGEgaXRlbXMgc3RvcmVkIGluIHRoZSBTdG9yYWdlIG9iamVjdC5cblx0ICogQHJldHVybiB7bnVtYmVyfVxuXHQgKi9cblx0c2l6ZSgpIHtcblx0XHR0aHJvdyBFcnJvcignVW5pbXBsZW1lbnRlZCBhYnN0cmFjdCBtZXRob2QnKTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBTdG9yYWdlTWVjaGFuaXNtO1xuXG4vKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgY29yZSBmcm9tICdtZXRhbCc7XG5pbXBvcnQgU3RvcmFnZU1lY2hhbmlzbSBmcm9tICcuL21lY2hhbmlzbS9TdG9yYWdlTWVjaGFuaXNtJztcblxuY2xhc3MgU3RvcmFnZSB7XG5cblx0LyoqXG5cdCAqIFByb3ZpZGVzIGEgY29udmVuaWVudCBBUEkgZm9yIGRhdGEgcGVyc2lzdGVuY2UgdXNpbmcgYSBzZWxlY3RlZCBkYXRhXG5cdCAqIHN0b3JhZ2UgbWVjaGFuaXNtLlxuXHQgKiBAcGFyYW0geyFTdG9yYWdlTWVjaGFuaXNtfSBtZWNoYW5pc20gVGhlIHVuZGVybHlpbmcgc3RvcmFnZSBtZWNoYW5pc20uXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKi9cblx0Y29uc3RydWN0b3IobWVjaGFuaXNtKSB7XG5cdFx0YXNzZXJ0TWVjaGFuaXNtRGVmQW5kTm90TnVsbChtZWNoYW5pc20pO1xuXHRcdGFzc2VydE1lY2hhbmlzbUludGFuY2VPZihtZWNoYW5pc20pO1xuXG5cdFx0LyoqXG5cdFx0ICogVGhlIG1lY2hhbmlzbSB1c2VkIHRvIHBlcnNpc3Qga2V5LXZhbHVlIHBhaXJzLlxuXHRcdCAqIEB0eXBlIHtTdG9yYWdlTWVjaGFuaXNtfVxuXHRcdCAqIEBwcm90ZWN0ZWRcblx0XHQgKi9cblx0XHR0aGlzLm1lY2hhbmlzbSA9IG1lY2hhbmlzbTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDbGVhciBhbGwgaXRlbXMgZnJvbSB0aGUgZGF0YSBzdG9yYWdlLlxuXHQgKi9cblx0Y2xlYXIoKSB7XG5cdFx0dGhpcy5tZWNoYW5pc20uY2xlYXIoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBTZXRzIGFuIGl0ZW0gaW4gdGhlIGRhdGEgc3RvcmFnZS5cblx0ICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IHRvIHNldC5cblx0ICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VyaWFsaXplIHRvIGEgc3RyaW5nIGFuZCBzYXZlLlxuXHQgKi9cblx0c2V0KGtleSwgdmFsdWUpIHtcblx0XHRpZiAoIWNvcmUuaXNEZWYodmFsdWUpKSB7XG5cdFx0XHR0aGlzLm1lY2hhbmlzbS5yZW1vdmUoa2V5KTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0dGhpcy5tZWNoYW5pc20uc2V0KGtleSwgSlNPTi5zdHJpbmdpZnkodmFsdWUpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXRzIGFuIGl0ZW0gZnJvbSB0aGUgZGF0YSBzdG9yYWdlLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgdG8gZ2V0LlxuXHQgKiBAcmV0dXJuIHsqfSBEZXNlcmlhbGl6ZWQgdmFsdWUgb3IgdW5kZWZpbmVkIGlmIG5vdCBmb3VuZC5cblx0ICovXG5cdGdldChrZXkpIHtcblx0XHR2YXIganNvbjtcblx0XHR0cnkge1xuXHRcdFx0anNvbiA9IHRoaXMubWVjaGFuaXNtLmdldChrZXkpO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fVxuXHRcdGlmIChjb3JlLmlzTnVsbChqc29uKSkge1xuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9XG5cdFx0dHJ5IHtcblx0XHRcdHJldHVybiBKU09OLnBhcnNlKGpzb24pO1xuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdHRocm93IFN0b3JhZ2UuRXJyb3JDb2RlLklOVkFMSURfVkFMVUU7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgdGhlIGxpc3Qgb2Yga2V5cyBzdG9yZWQgaW4gdGhlIFN0b3JhZ2Ugb2JqZWN0LlxuXHQgKiBAcGFyYW0geyFBcnJheTxzdHJpbmc+fSBrZXlzXG5cdCAqL1xuXHRrZXlzKCkge1xuXHRcdHJldHVybiB0aGlzLm1lY2hhbmlzbS5rZXlzKCk7XG5cdH1cblxuXHQvKipcblx0ICogUmVtb3ZlcyBhbiBpdGVtIGZyb20gdGhlIGRhdGEgc3RvcmFnZS5cblx0ICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IHRvIHJlbW92ZS5cblx0ICovXG5cdHJlbW92ZShrZXkpIHtcblx0XHR0aGlzLm1lY2hhbmlzbS5yZW1vdmUoa2V5KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgZGF0YSBpdGVtcyBzdG9yZWQgaW4gdGhlIFN0b3JhZ2Ugb2JqZWN0LlxuXHQgKiBAcmV0dXJuIHtudW1iZXJ9XG5cdCAqL1xuXHRzaXplKCkge1xuXHRcdHJldHVybiB0aGlzLm1lY2hhbmlzbS5zaXplKCk7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgbGlzdCBvZiB2YWx1ZXMgc3RvcmVkIGluIHRoZSBTdG9yYWdlIG9iamVjdC5cblx0ICogQHBhcmFtIHshQXJyYXk8c3RyaW5nPn0gdmFsdWVzXG5cdCAqL1xuXHR2YWx1ZXMoKSB7XG5cdFx0cmV0dXJuIHRoaXMua2V5cygpLm1hcCgoa2V5KSA9PiB0aGlzLmdldChrZXkpKTtcblx0fVxufVxuXG4vKipcbiAqIEVycm9ycyB0aHJvd24gYnkgdGhlIHN0b3JhZ2UuXG4gKiBAZW51bSB7c3RyaW5nfVxuICovXG5TdG9yYWdlLkVycm9yQ29kZSA9IHtcblx0SU5WQUxJRF9WQUxVRTogJ1N0b3JhZ2U6IEludmFsaWQgdmFsdWUgd2FzIGVuY291bnRlcmVkJ1xufTtcblxuZnVuY3Rpb24gYXNzZXJ0TWVjaGFuaXNtRGVmQW5kTm90TnVsbChtZWNoYW5pc20pIHtcblx0aWYgKCFjb3JlLmlzRGVmQW5kTm90TnVsbChtZWNoYW5pc20pKSB7XG5cdFx0dGhyb3cgRXJyb3IoJ1N0b3JhZ2UgbWVjaGFuaXNtIGlzIHJlcXVpcmVkJyk7XG5cdH1cbn1cblxuZnVuY3Rpb24gYXNzZXJ0TWVjaGFuaXNtSW50YW5jZU9mKG1lY2hhbmlzbSkge1xuXHRpZiAoIShtZWNoYW5pc20gaW5zdGFuY2VvZiBTdG9yYWdlTWVjaGFuaXNtKSkge1xuXHRcdHRocm93IEVycm9yKCdTdG9yYWdlIG1lY2hhbmlzbSBtdXN0IG1lIGFuIGltcGxlbWVudGF0aW9uIG9mIFN0b3JhZ2VNZWNoYW5pc20nKTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBTdG9yYWdlO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgU3RvcmFnZU1lY2hhbmlzbSBmcm9tICcuL1N0b3JhZ2VNZWNoYW5pc20nO1xuXG4vKipcbiAqIEFic3RyYWN0IGludGVyZmFjZSBmb3Igc3RvcmluZyBhbmQgcmV0cmlldmluZyBkYXRhIHVzaW5nIHNvbWUgcGVyc2lzdGVuY2VcbiAqIG1lY2hhbmlzbS5cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5jbGFzcyBMb2NhbFN0b3JhZ2VNZWNoYW5pc20gZXh0ZW5kcyBTdG9yYWdlTWVjaGFuaXNtIHtcblx0LyoqXG5cdCAqIFJldHVybnMgcmVmZXJlbmNlIGZvciBnbG9iYWwgbG9jYWwgc3RvcmFnZS4gYnkgZGVmYXVsdFxuXHQgKi9cblx0c3RvcmFnZSgpIHtcblx0XHRyZXR1cm4gTG9jYWxTdG9yYWdlTWVjaGFuaXNtLmdsb2JhbHMubG9jYWxTdG9yYWdlO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBpbmhlcml0RG9jXG5cdCAqL1xuXHRjbGVhcigpIHtcblx0XHR0aGlzLnN0b3JhZ2UoKS5jbGVhcigpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBpbmhlcml0RG9jXG5cdCAqL1xuXHRrZXlzKCkge1xuXHRcdHJldHVybiBPYmplY3Qua2V5cyh0aGlzLnN0b3JhZ2UoKSk7XG5cdH1cblxuXHQvKipcblx0ICogQGluaGVyaXREb2Ncblx0ICovXG5cdGdldChrZXkpIHtcblx0XHRyZXR1cm4gdGhpcy5zdG9yYWdlKCkuZ2V0SXRlbShrZXkpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBpbmhlcml0RG9jXG5cdCAqL1xuXHRzdGF0aWMgaXNTdXBwb3J0ZWQoKSB7XG5cdFx0cmV0dXJuIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBpbmhlcml0RG9jXG5cdCAqL1xuXHRyZW1vdmUoa2V5KSB7XG5cdFx0dGhpcy5zdG9yYWdlKCkucmVtb3ZlSXRlbShrZXkpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBpbmhlcml0RG9jXG5cdCAqL1xuXHRzZXQoa2V5LCB2YWx1ZSkge1xuXHRcdHRoaXMuc3RvcmFnZSgpLnNldEl0ZW0oa2V5LCB2YWx1ZSk7XG5cdH1cblxuXHQvKipcblx0ICogQGluaGVyaXREb2Ncblx0ICovXG5cdHNpemUoKSB7XG5cdFx0cmV0dXJuIHRoaXMuc3RvcmFnZSgpLmxlbmd0aDtcblx0fVxufVxuXG5pZiAoTG9jYWxTdG9yYWdlTWVjaGFuaXNtLmlzU3VwcG9ydGVkKCkpIHtcblx0TG9jYWxTdG9yYWdlTWVjaGFuaXNtLmdsb2JhbHMgPSB7XG5cdFx0bG9jYWxTdG9yYWdlOiB3aW5kb3cubG9jYWxTdG9yYWdlXG5cdH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IExvY2FsU3RvcmFnZU1lY2hhbmlzbTtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IEF1dGggZnJvbSAnLi9BdXRoJztcbmltcG9ydCBBcGlIZWxwZXIgZnJvbSAnLi4vQXBpSGVscGVyJztcbmltcG9ydCBGYWNlYm9va0F1dGhQcm92aWRlciBmcm9tICcuL0ZhY2Vib29rQXV0aFByb3ZpZGVyJztcbmltcG9ydCBHaXRodWJBdXRoUHJvdmlkZXIgZnJvbSAnLi9HaXRodWJBdXRoUHJvdmlkZXInO1xuaW1wb3J0IGdsb2JhbHMgZnJvbSAnLi4vLi4vZ2xvYmFscy9nbG9iYWxzJztcbmltcG9ydCBHb29nbGVBdXRoUHJvdmlkZXIgZnJvbSAnLi9Hb29nbGVBdXRoUHJvdmlkZXInO1xuaW1wb3J0IHsgU3RvcmFnZSwgTG9jYWxTdG9yYWdlTWVjaGFuaXNtIH0gZnJvbSAnbWV0YWwtc3RvcmFnZSc7XG5cbmltcG9ydCB7IGFzc2VydERlZkFuZE5vdE51bGwsIGFzc2VydEZ1bmN0aW9uLCBhc3NlcnRPYmplY3QsIGFzc2VydFVzZXJTaWduZWRJbiwgYXNzZXJ0QnJvd3NlckVudmlyb25tZW50LCBhc3NlcnRSZXNwb25zZVN1Y2NlZWRlZCB9IGZyb20gJy4uL2Fzc2VydGlvbnMnO1xuXG4vKipcbiAqIENsYXNzIHJlc3BvbnNpYmxlIGZvciBlbmNhcHN1bGF0ZSBhdXRoIGFwaSBjYWxscy5cbiAqL1xuY2xhc3MgQXV0aEFwaUhlbHBlciBleHRlbmRzIEFwaUhlbHBlciB7XG5cdC8qKlxuXHQgKiBDb25zdHJ1Y3RzIGFuIHtAbGluayBBdXRoQXBpSGVscGVyfSBpbnN0YW5jZS5cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRjb25zdHJ1Y3Rvcih3ZWRlcGxveUNsaWVudCkge1xuXHRcdHN1cGVyKHdlZGVwbG95Q2xpZW50KTtcblxuXHRcdHRoaXMuY3VycmVudFVzZXIgPSBudWxsO1xuXHRcdHRoaXMub25TaWduSW5DYWxsYmFjayA9IG51bGw7XG5cdFx0dGhpcy5vblNpZ25PdXRDYWxsYmFjayA9IG51bGw7XG5cdFx0aWYgKExvY2FsU3RvcmFnZU1lY2hhbmlzbS5pc1N1cHBvcnRlZCgpKSB7XG5cdFx0XHR0aGlzLnN0b3JhZ2UgPSBuZXcgU3RvcmFnZShuZXcgTG9jYWxTdG9yYWdlTWVjaGFuaXNtKCkpO1xuXHRcdH1cblxuXHRcdHRoaXMucHJvY2Vzc1NpZ25Jbl8oKTtcblxuXHRcdHRoaXMucHJvdmlkZXIgPSB7XG5cdFx0XHRGYWNlYm9vazogRmFjZWJvb2tBdXRoUHJvdmlkZXIsXG5cdFx0XHRHb29nbGU6IEdvb2dsZUF1dGhQcm92aWRlcixcblx0XHRcdEdpdGh1YjogR2l0aHViQXV0aFByb3ZpZGVyXG5cdFx0fTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIHVzZXIuXG5cdCAqIEBwYXJhbSB7IW9iamVjdH0gZGF0YSBUaGUgZGF0YSB0byBiZSB1c2VkIHRvIGNyZWF0ZSB0aGUgdXNlci5cblx0ICogQHJldHVybiB7Q2FuY2VsbGFibGVQcm9taXNlfVxuXHQgKi9cblx0Y3JlYXRlVXNlcihkYXRhKSB7XG5cdFx0YXNzZXJ0T2JqZWN0KGRhdGEsICdVc2VyIGRhdGEgbXVzdCBiZSBzcGVjaWZpZWQgYXMgb2JqZWN0Jyk7XG5cdFx0cmV0dXJuIHRoaXMud2VkZXBsb3lDbGllbnRcblx0XHRcdC51cmwodGhpcy53ZWRlcGxveUNsaWVudC5hdXRoVXJsXylcblx0XHRcdC5wYXRoKCcvdXNlcnMnKVxuXHRcdFx0LnBvc3QoZGF0YSlcblx0XHRcdC50aGVuKHJlc3BvbnNlID0+IGFzc2VydFJlc3BvbnNlU3VjY2VlZGVkKHJlc3BvbnNlKSlcblx0XHRcdC50aGVuKHJlc3BvbnNlID0+IHRoaXMubWFrZVVzZXJBdXRoRnJvbURhdGEocmVzcG9uc2UuYm9keSgpKSk7XG5cdH1cblxuXHQvKipcblx0ICogR2V0cyB0aGUgY3VycmVudCBicm93c2VyIHVybCB3aXRob3V0IHRoZSBmcmFnbWVudCBwYXJ0LlxuXHQgKiBAcmV0dXJuIHshc3RyaW5nfVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRnZXRIcmVmV2l0aG91dEZyYWdtZW50XygpIHtcblx0XHR2YXIgbG9jYXRpb24gPSBnbG9iYWxzLndpbmRvdy5sb2NhdGlvbjtcblx0XHRyZXR1cm4gbG9jYXRpb24ucHJvdG9jb2wgKyAnLy8nICsgbG9jYXRpb24uaG9zdCArIGxvY2F0aW9uLnBhdGhuYW1lICsgKGxvY2F0aW9uLnNlYXJjaCA/IGxvY2F0aW9uLnNlYXJjaCA6ICcnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXRzIHRoZSBhY2Nlc3MgdG9rZW4gZnJvbSB0aGUgdXJsIGZyYWdtZW50IGFuZCByZW1vdmVzIGl0LlxuXHQgKiBAcmV0dXJuIHs/c3RyaW5nfVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRnZXRSZWRpcmVjdEFjY2Vzc1Rva2VuXygpIHtcblx0XHRpZiAoZ2xvYmFscy53aW5kb3cpIHtcblx0XHRcdHZhciBmcmFnbWVudCA9IGdsb2JhbHMud2luZG93LmxvY2F0aW9uLmhhc2g7XG5cdFx0XHRpZiAoZnJhZ21lbnQuaW5kZXhPZignI2FjY2Vzc190b2tlbj0nKSA9PT0gMCkge1xuXHRcdFx0XHRyZXR1cm4gZnJhZ21lbnQuc3Vic3RyaW5nKDE0KTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHQvKipcblx0ICogR2V0cyB1c2VyIGJ5IGlkLlxuXHQgKiBAcGFyYW0geyFzdHJpbmd9IHVzZXJJZFxuXHQgKiBAcmV0dXJuIHtDYW5jZWxsYWJsZVByb21pc2V9XG5cdCAqL1xuXHRnZXRVc2VyKHVzZXJJZCkge1xuXHRcdGFzc2VydERlZkFuZE5vdE51bGwodXNlcklkLCAnVXNlciB1c2VySWQgbXVzdCBiZSBzcGVjaWZpZWQnKTtcblx0XHRhc3NlcnRVc2VyU2lnbmVkSW4odGhpcy5jdXJyZW50VXNlcik7XG5cdFx0cmV0dXJuIHRoaXMud2VkZXBsb3lDbGllbnRcblx0XHRcdC51cmwodGhpcy53ZWRlcGxveUNsaWVudC5hdXRoVXJsXylcblx0XHRcdC5wYXRoKCcvdXNlcnMnLCB1c2VySWQpXG5cdFx0XHQuYXV0aCh0aGlzLnJlc29sdmVBdXRoU2NvcGUoKS50b2tlbilcblx0XHRcdC5nZXQoKVxuXHRcdFx0LnRoZW4ocmVzcG9uc2UgPT4gYXNzZXJ0UmVzcG9uc2VTdWNjZWVkZWQocmVzcG9uc2UpKVxuXHRcdFx0LnRoZW4ocmVzcG9uc2UgPT4gdGhpcy5tYWtlVXNlckF1dGhGcm9tRGF0YShyZXNwb25zZS5ib2R5KCkpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBMb2FkcyBjdXJyZW50IHVzZXIuIFJlcXVpcmVzIGEgdXNlciB0b2tlbiBhcyBhcmd1bWVudC5cblx0ICogQHBhcmFtIHshc3RyaW5nfSB0b2tlblxuXHQgKiBAcmV0dXJuIHtDYW5jZWxsYWJsZVByb21pc2V9XG5cdCAqL1xuXHRsb2FkQ3VycmVudFVzZXIodG9rZW4pIHtcblx0XHRhc3NlcnREZWZBbmROb3ROdWxsKHRva2VuLCAnVXNlciB0b2tlbiBtdXN0IGJlIHNwZWNpZmllZCcpO1xuXHRcdHJldHVybiB0aGlzLndlZGVwbG95Q2xpZW50XG5cdFx0XHQudXJsKHRoaXMud2VkZXBsb3lDbGllbnQuYXV0aFVybF8pXG5cdFx0XHQucGF0aCgnL3VzZXInKVxuXHRcdFx0LmF1dGgodG9rZW4pXG5cdFx0XHQuZ2V0KClcblx0XHRcdC50aGVuKHJlc3BvbnNlID0+IHtcblx0XHRcdFx0dmFyIGRhdGEgPSByZXNwb25zZS5ib2R5KCk7XG5cdFx0XHRcdGRhdGEudG9rZW4gPSB0b2tlbjtcblx0XHRcdFx0dGhpcy5jdXJyZW50VXNlciA9IHRoaXMubWFrZVVzZXJBdXRoRnJvbURhdGEoZGF0YSk7XG5cdFx0XHRcdGlmICh0aGlzLnN0b3JhZ2UpIHtcblx0XHRcdFx0XHR0aGlzLnN0b3JhZ2Uuc2V0KCdjdXJyZW50VXNlcicsIGRhdGEpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzLmN1cnJlbnRVc2VyO1xuXHRcdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogTWFrZXMgdXNlciBBdXRoIGZyb20gZGF0YSBvYmplY3QuXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhXG5cdCAqIEByZXR1cm4ge0F1dGh9XG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdG1ha2VVc2VyQXV0aEZyb21EYXRhKGRhdGEpIHtcblx0XHR2YXIgYXV0aCA9IG5ldyBBdXRoKCk7XG5cdFx0YXV0aC5zZXRXZWRlcGxveUNsaWVudCh0aGlzLndlZGVwbG95Q2xpZW50KTtcblx0XHRhdXRoLnNldENyZWF0ZWRBdChkYXRhLmNyZWF0ZWRBdCk7XG5cdFx0YXV0aC5zZXRFbWFpbChkYXRhLmVtYWlsKTtcblx0XHRhdXRoLnNldElkKGRhdGEuaWQpO1xuXHRcdGF1dGguc2V0TmFtZShkYXRhLm5hbWUpO1xuXHRcdGF1dGguc2V0UGhvdG9VcmwoZGF0YS5waG90b1VybCk7XG5cdFx0YXV0aC5zZXRUb2tlbihkYXRhLnRva2VuKTtcblx0XHRyZXR1cm4gYXV0aDtcblx0fVxuXG5cdC8qKlxuXHQgKiBDYWxscyB0aGUgb24gc2lnbiBpbiBjYWxsYmFjayBpZiBzZXQuXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdG1heWJlQ2FsbE9uU2lnbkluQ2FsbGJhY2tfKCkge1xuXHRcdGlmICh0aGlzLm9uU2lnbkluQ2FsbGJhY2spIHtcblx0XHRcdHRoaXMub25TaWduSW5DYWxsYmFjay5jYWxsKHRoaXMsIHRoaXMuY3VycmVudFVzZXIpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBDYWxscyB0aGUgb24gc2lnbiBvdXQgY2FsbGJhY2sgaWYgc2V0LlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRtYXliZUNhbGxPblNpZ25PdXRDYWxsYmFja18oKSB7XG5cdFx0aWYgKHRoaXMub25TaWduT3V0Q2FsbGJhY2spIHtcblx0XHRcdHRoaXMub25TaWduT3V0Q2FsbGJhY2suY2FsbCh0aGlzLCB0aGlzLmN1cnJlbnRVc2VyKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogRmlyZXMgcGFzc2VkIGNhbGxiYWNrIHdoZW4gYSB1c2VyIHNpZ24taW4uIE5vdGUgdGhhdCBpdCBrZWVwcyBvbmx5IHRoZVxuXHQgKiBsYXN0IGNhbGxiYWNrIHBhc3NlZC5cblx0ICogQHBhcmFtIHshRnVuY3Rpb259IGNhbGxiYWNrXG5cdCAqL1xuXHRvblNpZ25JbihjYWxsYmFjaykge1xuXHRcdGFzc2VydEZ1bmN0aW9uKGNhbGxiYWNrLCAnU2lnbi1pbiBjYWxsYmFjayBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcblx0XHR0aGlzLm9uU2lnbkluQ2FsbGJhY2sgPSBjYWxsYmFjaztcblx0fVxuXG5cdC8qKlxuXHQgKiBGaXJlcyBwYXNzZWQgY2FsbGJhY2sgd2hlbiBhIHVzZXIgc2lnbi1vdXQuIE5vdGUgdGhhdCBpdCBrZWVwcyBvbmx5IHRoZVxuXHQgKiBsYXN0IGNhbGxiYWNrIHBhc3NlZC5cblx0ICogQHBhcmFtIHshRnVuY3Rpb259IGNhbGxiYWNrXG5cdCAqL1xuXHRvblNpZ25PdXQoY2FsbGJhY2spIHtcblx0XHRhc3NlcnRGdW5jdGlvbihjYWxsYmFjaywgJ1NpZ24tb3V0IGNhbGxiYWNrIG11c3QgYmUgYSBmdW5jdGlvbicpO1xuXHRcdHRoaXMub25TaWduT3V0Q2FsbGJhY2sgPSBjYWxsYmFjaztcblx0fVxuXG5cdC8qKlxuXHQgKiBQcm9jZXNzZXMgc2lnbi1pbiBieSBkZXRlY3RpbmcgYSBwcmVzZW5jZSBvZiBhIGZyYWdtZW50XG5cdCAqIDxjb2RlPiNhY2Nlc3NfdG9rZW49PC9jb2RlPiBpbiB0aGUgdXJsIG9yLCBhbHRlcm5hdGl2ZWx5LCBieSBsb2NhbFxuXHQgKiBzdG9yYWdlIGN1cnJlbnQgdXNlci5cblx0ICovXG5cdHByb2Nlc3NTaWduSW5fKCkge1xuXHRcdHZhciByZWRpcmVjdEFjY2Vzc1Rva2VuID0gdGhpcy5nZXRSZWRpcmVjdEFjY2Vzc1Rva2VuXygpO1xuXHRcdGlmIChyZWRpcmVjdEFjY2Vzc1Rva2VuKSB7XG5cdFx0XHR0aGlzLnJlbW92ZVVybEZyYWdtZW50Q29tcGxldGVseV8oKTtcblx0XHRcdHRoaXMubG9hZEN1cnJlbnRVc2VyKHJlZGlyZWN0QWNjZXNzVG9rZW4pXG5cdFx0XHRcdC50aGVuKCgpID0+IHRoaXMubWF5YmVDYWxsT25TaWduSW5DYWxsYmFja18oKSk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdHZhciBjdXJyZW50VXNlciA9IHRoaXMuc3RvcmFnZSAmJiB0aGlzLnN0b3JhZ2UuZ2V0KCdjdXJyZW50VXNlcicpO1xuXHRcdGlmIChjdXJyZW50VXNlcikge1xuXHRcdFx0dGhpcy5jdXJyZW50VXNlciA9IHRoaXMubWFrZVVzZXJBdXRoRnJvbURhdGEoY3VycmVudFVzZXIpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBSZW1vdmVzIGZyYWdtZW50IGZyb20gdXJsIGJ5IHBlcmZvcm1pbmcgYSBwdXNoIHN0YXRlIHRvIHRoZSBjdXJyZW50IHBhdGguXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdHJlbW92ZVVybEZyYWdtZW50Q29tcGxldGVseV8oKSB7XG5cdFx0Z2xvYmFscy53aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUoe30sIGRvY3VtZW50LnRpdGxlLCB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyB3aW5kb3cubG9jYXRpb24uc2VhcmNoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXNvbHZlcyBhdXRoIHNjb3BlIGZyb20gbGFzdCBsb2dpbiBvciBhcGkgaGVscGVyLlxuXHQgKiBAcmV0dXJuIHtBdXRofVxuXHQgKi9cblx0cmVzb2x2ZUF1dGhTY29wZSgpIHtcblx0XHRpZiAodGhpcy5oZWxwZXJBdXRoU2NvcGUpIHtcblx0XHRcdHJldHVybiB0aGlzLmhlbHBlckF1dGhTY29wZTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuY3VycmVudFVzZXI7XG5cdH1cblxuXHQvKipcblx0ICogU2VuZHMgcGFzc3dvcmQgcmVzZXQgZW1haWwgdG8gdGhlIHNwZWNpZmllZCBlbWFpbCBpZiBmb3VuZCBpbiBkYXRhYmFzZS5cblx0ICogRm9yIHNlY3VyaXR5IHJlYXNvbnMgY2FsbCBkbyBub3QgZmFpbCBpZiBlbWFpbCBub3QgZm91bmQuXG5cdCAqIEBwYXJhbSB7IXN0cmluZ30gZW1haWxcblx0ICogQHJldHVybiB7Q2FuY2VsbGFibGVQcm9taXNlfVxuXHQgKi9cblx0c2VuZFBhc3N3b3JkUmVzZXRFbWFpbChlbWFpbCkge1xuXHRcdGFzc2VydERlZkFuZE5vdE51bGwoZW1haWwsICdTZW5kIHBhc3N3b3JkIHJlc2V0IGVtYWlsIG11c3QgYmUgc3BlY2lmaWVkJyk7XG5cdFx0cmV0dXJuIHRoaXMud2VkZXBsb3lDbGllbnRcblx0XHRcdC51cmwodGhpcy53ZWRlcGxveUNsaWVudC5hdXRoVXJsXylcblx0XHRcdC5wYXRoKCcvdXNlci9yZWNvdmVyJylcblx0XHRcdC5wYXJhbSgnZW1haWwnLCBlbWFpbClcblx0XHRcdC5wb3N0KClcblx0XHRcdC50aGVuKHJlc3BvbnNlID0+IGFzc2VydFJlc3BvbnNlU3VjY2VlZGVkKHJlc3BvbnNlKSk7XG5cdH1cblxuXHQvKipcblx0ICogU2lnbnMgaW4gdXNpbmcgZW1haWwgYW5kIHBhc3N3b3JkLlxuXHQgKiBAcGFyYW0geyFzdHJpbmd9IGVtYWlsXG5cdCAqIEBwYXJhbSB7IXN0cmluZ30gcGFzc3dvcmRcblx0ICogQHJldHVybiB7Q2FuY2VsbGFibGVQcm9taXNlfVxuXHQgKi9cblx0c2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQoZW1haWwsIHBhc3N3b3JkKSB7XG5cdFx0YXNzZXJ0RGVmQW5kTm90TnVsbChlbWFpbCwgJ1NpZ24taW4gZW1haWwgbXVzdCBiZSBzcGVjaWZpZWQnKTtcblx0XHRhc3NlcnREZWZBbmROb3ROdWxsKHBhc3N3b3JkLCAnU2lnbi1pbiBwYXNzd29yZCBtdXN0IGJlIHNwZWNpZmllZCcpO1xuXG5cdFx0cmV0dXJuIHRoaXMud2VkZXBsb3lDbGllbnRcblx0XHRcdC51cmwodGhpcy53ZWRlcGxveUNsaWVudC5hdXRoVXJsXylcblx0XHRcdC5wYXRoKCcvb2F1dGgvdG9rZW4nKVxuXHRcdFx0LnBhcmFtKCdncmFudF90eXBlJywgJ3Bhc3N3b3JkJylcblx0XHRcdC5wYXJhbSgndXNlcm5hbWUnLCBlbWFpbClcblx0XHRcdC5wYXJhbSgncGFzc3dvcmQnLCBwYXNzd29yZClcblx0XHRcdC5nZXQoKVxuXHRcdFx0LnRoZW4ocmVzcG9uc2UgPT4gYXNzZXJ0UmVzcG9uc2VTdWNjZWVkZWQocmVzcG9uc2UpKVxuXHRcdFx0LnRoZW4ocmVzcG9uc2UgPT4gdGhpcy5sb2FkQ3VycmVudFVzZXIocmVzcG9uc2UuYm9keSgpLmFjY2Vzc190b2tlbikpXG5cdFx0XHQudGhlbigodXNlcikgPT4ge1xuXHRcdFx0XHR0aGlzLm1heWJlQ2FsbE9uU2lnbkluQ2FsbGJhY2tfKCk7XG5cdFx0XHRcdHJldHVybiB1c2VyO1xuXHRcdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogU2lnbnMgaW4gd2l0aCByZWRpcmVjdC4gU29tZSBwcm92aWRlcnMgYW5kIGVudmlyb25tZW50IG1heSBub3Qgc3VwcG9ydFxuXHQgKiB0aGlzIGZsb3cuXG5cdCAqIEBwYXJhbSB7QXV0aFByb3ZpZGVyfSBwcm92aWRlclxuXHQgKi9cblx0c2lnbkluV2l0aFJlZGlyZWN0KHByb3ZpZGVyKSB7XG5cdFx0YXNzZXJ0QnJvd3NlckVudmlyb25tZW50KCk7XG5cdFx0YXNzZXJ0RGVmQW5kTm90TnVsbChwcm92aWRlciwgJ1NpZ24taW4gcHJvdmlkZXIgbXVzdCBiZSBkZWZpbmVkJyk7XG5cdFx0YXNzZXJ0U3VwcG9ydGVkUHJvdmlkZXIocHJvdmlkZXIpO1xuXG5cdFx0aWYgKCFwcm92aWRlci5oYXNSZWRpcmVjdFVyaSgpKSB7XG5cdFx0XHRwcm92aWRlci5zZXRSZWRpcmVjdFVyaSh0aGlzLmdldEhyZWZXaXRob3V0RnJhZ21lbnRfKCkpO1xuXHRcdH1cblx0XHRnbG9iYWxzLndpbmRvdy5sb2NhdGlvbi5ocmVmID0gcHJvdmlkZXIubWFrZUF1dGhvcml6YXRpb25VcmwodGhpcy53ZWRlcGxveUNsaWVudC5hdXRoVXJsXyk7XG5cdH1cblxuXHQvKipcblx0ICogU2lnbnMgb3V0IDxjb2RlPmN1cnJlbnRVc2VyPC9jb2RlPiBhbmQgcmVtb3ZlcyBmcm9tIDxjb2RlPmxvY2FsU3RvcmFnZTwvY29kZT4uXG5cdCAqIEByZXR1cm4ge0NhbmNlbGxhYmxlUHJvbWlzZX1cblx0ICovXG5cdHNpZ25PdXQoKSB7XG5cdFx0YXNzZXJ0VXNlclNpZ25lZEluKHRoaXMuY3VycmVudFVzZXIpO1xuXHRcdHJldHVybiB0aGlzLndlZGVwbG95Q2xpZW50XG5cdFx0XHQudXJsKHRoaXMud2VkZXBsb3lDbGllbnQuYXV0aFVybF8pXG5cdFx0XHQucGF0aCgnL29hdXRoL3Jldm9rZScpXG5cdFx0XHQucGFyYW0oJ3Rva2VuJywgdGhpcy5jdXJyZW50VXNlci50b2tlbilcblx0XHRcdC5nZXQoKVxuXHRcdFx0LnRoZW4ocmVzcG9uc2UgPT4gYXNzZXJ0UmVzcG9uc2VTdWNjZWVkZWQocmVzcG9uc2UpKVxuXHRcdFx0LnRoZW4ocmVzcG9uc2UgPT4ge1xuXHRcdFx0XHR0aGlzLm1heWJlQ2FsbE9uU2lnbk91dENhbGxiYWNrXygpO1xuXHRcdFx0XHR0aGlzLnVubG9hZEN1cnJlbnRVc2VyXygpO1xuXHRcdFx0XHRyZXR1cm4gcmVzcG9uc2U7XG5cdFx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBVbmxvYWRzIGFsbCBpbmZvcm1hdGlvbiBmb3IgPGNvZGU+Y3VycmVudFVzZXI8L2NvZGU+IGFuZCByZW1vdmVzIGZyb21cblx0ICogPGNvZGU+bG9jYWxTdG9yYWdlPC9jb2RlPiBpZiBwcmVzZW50LlxuXHQgKi9cblx0dW5sb2FkQ3VycmVudFVzZXJfKCkge1xuXHRcdHRoaXMuY3VycmVudFVzZXIgPSBudWxsO1xuXHRcdGlmICh0aGlzLnN0b3JhZ2UpIHtcblx0XHRcdHRoaXMuc3RvcmFnZS5yZW1vdmUoJ2N1cnJlbnRVc2VyJyk7XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGFzc2VydFN1cHBvcnRlZFByb3ZpZGVyKHByb3ZpZGVyKSB7XG5cdHN3aXRjaCAocHJvdmlkZXIuY29uc3RydWN0b3IuUFJPVklERVIpIHtcblx0XHRjYXNlIEZhY2Vib29rQXV0aFByb3ZpZGVyLlBST1ZJREVSOlxuXHRcdGNhc2UgR2l0aHViQXV0aFByb3ZpZGVyLlBST1ZJREVSOlxuXHRcdGNhc2UgR29vZ2xlQXV0aFByb3ZpZGVyLlBST1ZJREVSOlxuXHRcdFx0YnJlYWs7XG5cdFx0ZGVmYXVsdDpcblx0XHRcdHRocm93IG5ldyBFcnJvcignU2lnbi1pbiBwcm92aWRlciBub3Qgc3VwcG9ydGVkJyk7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQXV0aEFwaUhlbHBlcjtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IEVtYm9kaWVkIGZyb20gJy4vRW1ib2RpZWQnO1xuaW1wb3J0IFJhbmdlIGZyb20gJy4vUmFuZ2UnO1xuXG4vKipcbiAqIENsYXNzIHRoYXQgcmVwcmVzZW50cyBhIHNlYXJjaCBhZ2dyZWdhdGlvbi5cbiAqL1xuY2xhc3MgQWdncmVnYXRpb24ge1xuXHQvKipcblx0ICogQ29uc3RydWN0cyBhbiB7QGxpbmsgQWdncmVnYXRpb259IGluc3RhbmNlLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZmllbGQgVGhlIGFnZ3JlZ2F0aW9uIGZpZWxkLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gb3BlcmF0b3IgVGhlIGFnZ3JlZ2F0aW9uIG9wZXJhdG9yLlxuXHQgKiBAcGFyYW0geyo9fSBvcHRfdmFsdWUgVGhlIGFnZ3JlZ2F0aW9uIHZhbHVlLlxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICovXG5cdGNvbnN0cnVjdG9yKGZpZWxkLCBvcGVyYXRvciwgb3B0X3ZhbHVlKSB7XG5cdFx0dGhpcy5maWVsZF8gPSBmaWVsZDtcblx0XHR0aGlzLm9wZXJhdG9yXyA9IG9wZXJhdG9yO1xuXHRcdHRoaXMudmFsdWVfID0gb3B0X3ZhbHVlO1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYW4ge0BsaW5rIEFnZ3JlZ2F0aW9ufSBpbnN0YW5jZSB3aXRoIHRoZSBcImF2Z1wiIG9wZXJhdG9yLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZmllbGQgVGhlIGFnZ3JlZ2F0aW9uIGZpZWxkLlxuXHQgKiBAcmV0dXJuIHshQWdncmVnYXRpb259XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyBhdmcoZmllbGQpIHtcblx0XHRyZXR1cm4gQWdncmVnYXRpb24uZmllbGQoZmllbGQsICdhdmcnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGFuIHtAbGluayBBZ2dyZWdhdGlvbn0gaW5zdGFuY2Ugd2l0aCB0aGUgXCJjb3VudFwiIG9wZXJhdG9yLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZmllbGQgVGhlIGFnZ3JlZ2F0aW9uIGZpZWxkLlxuXHQgKiBAcmV0dXJuIHshQWdncmVnYXRpb259XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyBjb3VudChmaWVsZCkge1xuXHRcdHJldHVybiBBZ2dyZWdhdGlvbi5maWVsZChmaWVsZCwgJ2NvdW50Jyk7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhbiB7QGxpbmsgRGlzdGFuY2VBZ2dyZWdhdGlvbn0gaW5zdGFuY2Ugd2l0aCB0aGUgXCJnZW9EaXN0YW5jZVwiIG9wZXJhdG9yLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZmllbGQgVGhlIGFnZ3JlZ2F0aW9uIGZpZWxkLlxuXHQgKiBAcGFyYW0geyp9IGxvY2F0aW9uIFRoZSBhZ2dyZWdhdGlvbiBsb2NhdGlvbi5cblx0ICogQHBhcmFtIHsuLi4hUmFuZ2V9IHJhbmdlcyBUaGUgYWdncmVnYXRpb24gcmFuZ2VzLlxuXHQgKiBAcmV0dXJuIHshRGlzdGFuY2VBZ2dyZWdhdGlvbn1cblx0ICogQHN0YXRpY1xuXHQgKi9cblx0c3RhdGljIGRpc3RhbmNlKGZpZWxkLCBsb2NhdGlvbiwgLi4ucmFuZ2VzKSB7XG5cdFx0cmV0dXJuIG5ldyBBZ2dyZWdhdGlvbi5EaXN0YW5jZUFnZ3JlZ2F0aW9uKGZpZWxkLCBsb2NhdGlvbiwgLi4ucmFuZ2VzKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGFuIHtAbGluayBBZ2dyZWdhdGlvbn0gaW5zdGFuY2Ugd2l0aCB0aGUgXCJleHRlbmRlZFN0YXRzXCIgb3BlcmF0b3IuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZCBUaGUgYWdncmVnYXRpb24gZmllbGQuXG5cdCAqIEByZXR1cm4geyFBZ2dyZWdhdGlvbn1cblx0ICogQHN0YXRpY1xuXHQgKi9cblx0c3RhdGljIGV4dGVuZGVkU3RhdHMoZmllbGQpIHtcblx0XHRyZXR1cm4gQWdncmVnYXRpb24uZmllbGQoZmllbGQsICdleHRlbmRlZFN0YXRzJyk7XG5cdH1cblxuXHQvKipcblx0ICogR2V0cyB0aGlzIGFnZ3JlZ2F0aW9uJ3MgZmllbGQuXG5cdCAqIEByZXR1cm4ge3N0cmluZ31cblx0ICovXG5cdGdldEZpZWxkKCkge1xuXHRcdHJldHVybiB0aGlzLmZpZWxkXztcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXRzIHRoaXMgYWdncmVnYXRpb24ncyBvcGVyYXRvci5cblx0ICogQHJldHVybiB7c3RyaW5nfVxuXHQgKi9cblx0Z2V0T3BlcmF0b3IoKSB7XG5cdFx0cmV0dXJuIHRoaXMub3BlcmF0b3JfO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldHMgdGhpcyBhZ2dyZWdhdGlvbidzIHZhbHVlLlxuXHQgKiBAcmV0dXJuIHsqfVxuXHQgKi9cblx0Z2V0VmFsdWUoKSB7XG5cdFx0cmV0dXJuIHRoaXMudmFsdWVfO1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYW4ge0BsaW5rIEFnZ3JlZ2F0aW9ufSBpbnN0YW5jZSB3aXRoIHRoZSBcImhpc3RvZ3JhbVwiIG9wZXJhdG9yLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZmllbGQgVGhlIGFnZ3JlZ2F0aW9uIGZpZWxkLlxuXHQgKiBAcGFyYW0ge251bWJlcn0gaW50ZXJ2YWwgVGhlIGhpc3RvZ3JhbSdzIGludGVydmFsLlxuXHQgKiBAcmV0dXJuIHshQWdncmVnYXRpb259XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyBoaXN0b2dyYW0oZmllbGQsIGludGVydmFsKSB7XG5cdFx0cmV0dXJuIG5ldyBBZ2dyZWdhdGlvbihmaWVsZCwgJ2hpc3RvZ3JhbScsIGludGVydmFsKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGFuIHtAbGluayBBZ2dyZWdhdGlvbn0gaW5zdGFuY2Ugd2l0aCB0aGUgXCJtYXhcIiBvcGVyYXRvci5cblx0ICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkIFRoZSBhZ2dyZWdhdGlvbiBmaWVsZC5cblx0ICogQHJldHVybiB7IUFnZ3JlZ2F0aW9ufVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzdGF0aWMgbWF4KGZpZWxkKSB7XG5cdFx0cmV0dXJuIEFnZ3JlZ2F0aW9uLmZpZWxkKGZpZWxkLCAnbWF4Jyk7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhbiB7QGxpbmsgQWdncmVnYXRpb259IGluc3RhbmNlIHdpdGggdGhlIFwibWluXCIgb3BlcmF0b3IuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZCBUaGUgYWdncmVnYXRpb24gZmllbGQuXG5cdCAqIEByZXR1cm4geyFBZ2dyZWdhdGlvbn1cblx0ICogQHN0YXRpY1xuXHQgKi9cblx0c3RhdGljIG1pbihmaWVsZCkge1xuXHRcdHJldHVybiBBZ2dyZWdhdGlvbi5maWVsZChmaWVsZCwgJ21pbicpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYW4ge0BsaW5rIEFnZ3JlZ2F0aW9ufSBpbnN0YW5jZSB3aXRoIHRoZSBcIm1pc3NpbmdcIiBvcGVyYXRvci5cblx0ICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkIFRoZSBhZ2dyZWdhdGlvbiBmaWVsZC5cblx0ICogQHJldHVybiB7IUFnZ3JlZ2F0aW9ufVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzdGF0aWMgbWlzc2luZyhmaWVsZCkge1xuXHRcdHJldHVybiBBZ2dyZWdhdGlvbi5maWVsZChmaWVsZCwgJ21pc3NpbmcnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgbmV3IHtAbGluayBBZ2dyZWdhdGlvbn0gaW5zdGFuY2UuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZCBUaGUgYWdncmVnYXRpb24gZmllbGQuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBvcGVyYXRvciBUaGUgYWdncmVnYXRpb24gb3BlcmF0b3IuXG5cdCAqIEByZXR1cm4geyFBZ2dyZWdhdGlvbn1cblx0ICogQHN0YXRpY1xuXHQgKi9cblx0c3RhdGljIGZpZWxkKGZpZWxkLCBvcGVyYXRvcikge1xuXHRcdHJldHVybiBuZXcgQWdncmVnYXRpb24oZmllbGQsIG9wZXJhdG9yKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGFuIHtAbGluayBSYW5nZUFnZ3JlZ2F0aW9ufSBpbnN0YW5jZSB3aXRoIHRoZSBcInJhbmdlXCIgb3BlcmF0b3IuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZCBUaGUgYWdncmVnYXRpb24gZmllbGQuXG5cdCAqIEBwYXJhbSB7Li4uIVJhbmdlfSByYW5nZXMgVGhlIGFnZ3JlZ2F0aW9uIHJhbmdlcy5cblx0ICogQHJldHVybiB7IVJhbmdlQWdncmVnYXRpb259XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyByYW5nZShmaWVsZCwgLi4ucmFuZ2VzKSB7XG5cdFx0cmV0dXJuIG5ldyBBZ2dyZWdhdGlvbi5SYW5nZUFnZ3JlZ2F0aW9uKGZpZWxkLCAuLi5yYW5nZXMpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYW4ge0BsaW5rIEFnZ3JlZ2F0aW9ufSBpbnN0YW5jZSB3aXRoIHRoZSBcInN0YXRzXCIgb3BlcmF0b3IuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZCBUaGUgYWdncmVnYXRpb24gZmllbGQuXG5cdCAqIEByZXR1cm4geyFBZ2dyZWdhdGlvbn1cblx0ICogQHN0YXRpY1xuXHQgKi9cblx0c3RhdGljIHN0YXRzKGZpZWxkKSB7XG5cdFx0cmV0dXJuIEFnZ3JlZ2F0aW9uLmZpZWxkKGZpZWxkLCAnc3RhdHMnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGFuIHtAbGluayBBZ2dyZWdhdGlvbn0gaW5zdGFuY2Ugd2l0aCB0aGUgXCJzdW1cIiBvcGVyYXRvci5cblx0ICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkIFRoZSBhZ2dyZWdhdGlvbiBmaWVsZC5cblx0ICogQHJldHVybiB7IUFnZ3JlZ2F0aW9ufVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzdGF0aWMgc3VtKGZpZWxkKSB7XG5cdFx0cmV0dXJuIEFnZ3JlZ2F0aW9uLmZpZWxkKGZpZWxkLCAnc3VtJyk7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhbiB7QGxpbmsgQWdncmVnYXRpb259IGluc3RhbmNlIHdpdGggdGhlIFwidGVybXNcIiBvcGVyYXRvci5cblx0ICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkIFRoZSBhZ2dyZWdhdGlvbiBmaWVsZC5cblx0ICogQHJldHVybiB7IUFnZ3JlZ2F0aW9ufVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzdGF0aWMgdGVybXMoZmllbGQpIHtcblx0XHRyZXR1cm4gQWdncmVnYXRpb24uZmllbGQoZmllbGQsICd0ZXJtcycpO1xuXHR9XG59XG5cbi8qKlxuICogQ2xhc3MgdGhhdCByZXByZXNlbnRzIGEgZGlzdGFuY2UgYWdncmVnYXRpb24uXG4gKiBAZXh0ZW5kcyB7QWdncmVnYXRpb259XG4gKi9cbmNsYXNzIERpc3RhbmNlQWdncmVnYXRpb24gZXh0ZW5kcyBBZ2dyZWdhdGlvbiB7XG5cdC8qKlxuXHQgKiBDb25zdHJ1Y3RzIGFuIHtAbGluayBEaXN0YW5jZUFnZ3JlZ2F0aW9ufSBpbnN0YW5jZS5cblx0ICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkIFRoZSBhZ2dyZWdhdGlvbiBmaWVsZC5cblx0ICogQHBhcmFtIHsqfSBsb2NhdGlvbiBUaGUgYWdncmVnYXRpb24gbG9jYXRpb24uXG5cdCAqIEBwYXJhbSB7Li4uIVJhbmdlfSByYW5nZXMgVGhlIGFnZ3JlZ2F0aW9uIHJhbmdlcy5cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRjb25zdHJ1Y3RvcihmaWVsZCwgbG9jYXRpb24sIC4uLnJhbmdlcykge1xuXHRcdHN1cGVyKGZpZWxkLCAnZ2VvRGlzdGFuY2UnLCB7fSk7XG5cdFx0dGhpcy52YWx1ZV8ubG9jYXRpb24gPSBFbWJvZGllZC50b0JvZHkobG9jYXRpb24pO1xuXHRcdHRoaXMudmFsdWVfLnJhbmdlcyA9IHJhbmdlcy5tYXAocmFuZ2UgPT4gcmFuZ2UuYm9keSgpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBZGRzIGEgcmFuZ2UgdG8gdGhpcyBhZ2dyZWdhdGlvbi5cblx0ICogQHBhcmFtIHsqfSByYW5nZU9yRnJvbVxuXHQgKiBAcGFyYW0geyo9fSBvcHRfdG9cblx0ICogQGNoYWlubmFibGVcblx0ICovXG5cdHJhbmdlKHJhbmdlT3JGcm9tLCBvcHRfdG8pIHtcblx0XHR2YXIgcmFuZ2UgPSByYW5nZU9yRnJvbTtcblx0XHRpZiAoIShyYW5nZSBpbnN0YW5jZW9mIFJhbmdlKSkge1xuXHRcdFx0cmFuZ2UgPSBSYW5nZS5yYW5nZShyYW5nZU9yRnJvbSwgb3B0X3RvKTtcblx0XHR9XG5cdFx0dGhpcy52YWx1ZV8ucmFuZ2VzLnB1c2gocmFuZ2UuYm9keSgpKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdC8qKlxuXHQgKiBTZXRzIHRoaXMgYWdncmVnYXRpb24ncyB1bml0LlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdW5pdFxuXHQgKiBAY2hhaW5uYWJsZVxuXHQgKi9cblx0dW5pdCh1bml0KSB7XG5cdFx0dGhpcy52YWx1ZV8udW5pdCA9IHVuaXQ7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cbn1cbkFnZ3JlZ2F0aW9uLkRpc3RhbmNlQWdncmVnYXRpb24gPSBEaXN0YW5jZUFnZ3JlZ2F0aW9uO1xuXG4vKipcbiAqIENsYXNzIHRoYXQgcmVwcmVzZW50cyBhIHJhbmdlIGFnZ3JlZ2F0aW9uLlxuICogQGV4dGVuZHMge0FnZ3JlZ2F0aW9ufVxuICovXG5jbGFzcyBSYW5nZUFnZ3JlZ2F0aW9uIGV4dGVuZHMgQWdncmVnYXRpb24ge1xuXHQvKipcblx0ICogQ29uc3RydWN0cyBhbiB7QGxpbmsgUmFuZ2VBZ2dyZWdhdGlvbn0gaW5zdGFuY2UuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZCBUaGUgYWdncmVnYXRpb24gZmllbGQuXG5cdCAqIEBwYXJhbSB7Li4uIVJhbmdlfSByYW5nZXMgVGhlIGFnZ3JlZ2F0aW9uIHJhbmdlcy5cblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqL1xuXHRjb25zdHJ1Y3RvcihmaWVsZCwgLi4ucmFuZ2VzKSB7XG5cdFx0c3VwZXIoZmllbGQsICdyYW5nZScpO1xuXHRcdHRoaXMudmFsdWVfID0gcmFuZ2VzLm1hcChyYW5nZSA9PiByYW5nZS5ib2R5KCkpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEFkZHMgYSByYW5nZSB0byB0aGlzIGFnZ3JlZ2F0aW9uLlxuXHQgKiBAcGFyYW0geyp9IHJhbmdlT3JGcm9tXG5cdCAqIEBwYXJhbSB7Kj19IG9wdF90b1xuXHQgKiBAY2hhaW5uYWJsZVxuXHQgKi9cblx0cmFuZ2UocmFuZ2VPckZyb20sIG9wdF90bykge1xuXHRcdHZhciByYW5nZSA9IHJhbmdlT3JGcm9tO1xuXHRcdGlmICghKHJhbmdlIGluc3RhbmNlb2YgUmFuZ2UpKSB7XG5cdFx0XHRyYW5nZSA9IFJhbmdlLnJhbmdlKHJhbmdlT3JGcm9tLCBvcHRfdG8pO1xuXHRcdH1cblx0XHR0aGlzLnZhbHVlXy5wdXNoKHJhbmdlLmJvZHkoKSk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cbn1cbkFnZ3JlZ2F0aW9uLlJhbmdlQWdncmVnYXRpb24gPSBSYW5nZUFnZ3JlZ2F0aW9uO1xuXG5leHBvcnQgZGVmYXVsdCBBZ2dyZWdhdGlvbjtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgY29yZSB9IGZyb20gJ21ldGFsJztcbmltcG9ydCBFbWJvZGllZCBmcm9tICcuL0VtYm9kaWVkJztcbmltcG9ydCBGaWx0ZXIgZnJvbSAnLi9GaWx0ZXInO1xuaW1wb3J0IEFnZ3JlZ2F0aW9uIGZyb20gJy4vQWdncmVnYXRpb24nO1xuXG4vKipcbiAqIENsYXNzIHJlc3BvbnNpYmxlIGZvciBidWlsZGluZyBxdWVyaWVzLlxuICogQGV4dGVuZHMge0VtYm9kaWVkfVxuICovXG5jbGFzcyBRdWVyeSBleHRlbmRzIEVtYm9kaWVkIHtcblx0LyoqXG5cdCAqIEFkZHMgYW4gYWdncmVnYXRpb24gdG8gdGhpcyB7QGxpbmsgUXVlcnl9IGluc3RhbmNlLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgYWdncmVnYXRpb24gbmFtZS5cblx0ICogQHBhcmFtIHshQWdncmVnYXRpb258c3RyaW5nfSBhZ2dyZWdhdGlvbk9yRmllbGQgRWl0aGVyIGFuXG5cdCAqICAge0BsaW5rIEFnZ3JlZ2F0aW9ufSBpbnN0YW5jZSBvciB0aGUgbmFtZSBvZiB0aGUgYWdncmVnYXRpb24gZmllbGQuXG5cdCAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0X29wZXJhdG9yIFRoZSBhZ2dyZWdhdGlvbiBvcGVyYXRvci5cblx0ICogQHJldHVybiB7IVF1ZXJ5fVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzdGF0aWMgYWdncmVnYXRlKG5hbWUsIGFnZ3JlZ2F0aW9uT3JGaWVsZCwgb3B0X29wZXJhdG9yKSB7XG5cdFx0cmV0dXJuIG5ldyBRdWVyeSgpLmFnZ3JlZ2F0ZShuYW1lLCBhZ2dyZWdhdGlvbk9yRmllbGQsIG9wdF9vcGVyYXRvcik7XG5cdH1cblxuXHQvKipcblx0ICogU2V0cyB0aGlzIHF1ZXJ5J3MgdHlwZSB0byBcImNvdW50XCIuXG5cdCAqIEByZXR1cm4geyFRdWVyeX1cblx0ICogQHN0YXRpY1xuXHQgKi9cblx0c3RhdGljIGNvdW50KCkge1xuXHRcdHJldHVybiBuZXcgUXVlcnkoKS50eXBlKCdjb3VudCcpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFNldHMgdGhpcyBxdWVyeSdzIHR5cGUgdG8gXCJmZXRjaFwiLlxuXHQgKiBAcmV0dXJuIHshUXVlcnl9XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyBmZXRjaCgpIHtcblx0XHRyZXR1cm4gbmV3IFF1ZXJ5KCkudHlwZSgnZmV0Y2gnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBZGRzIGEgZmlsdGVyIHRvIHRoaXMgUXVlcnkuXG5cdCAqIEBwYXJhbSB7IUZpbHRlcnxzdHJpbmd9IGZpZWxkT3JGaWx0ZXIgRWl0aGVyIGEge0BsaW5rIEZpbHRlcn0gb3IgdGhlXG5cdCAqICAgbmFtZSBvZiB0aGUgZmllbGQgdG8gZmlsdGVyIGJ5LlxuXHQgKiBAcGFyYW0geyo9fSBvcHRfb3BlcmF0b3JPclZhbHVlIEVpdGhlciB0aGUgZmllbGQncyBvcGVyYXRvciBvciBpdHMgdmFsdWUuXG5cdCAqIEBwYXJhbSB7Kj19IG9wdF92YWx1ZSBUaGUgZmlsdGVyJ3MgdmFsdWUuXG5cdCAqIEByZXR1cm4geyFRdWVyeX1cblx0ICogQHN0YXRpY1xuXHQgKi9cblx0c3RhdGljIGZpbHRlcihmaWVsZE9yRmlsdGVyLCBvcHRfb3BlcmF0b3JPclZhbHVlLCBvcHRfdmFsdWUpIHtcblx0XHRyZXR1cm4gbmV3IFF1ZXJ5KCkuZmlsdGVyKGZpZWxkT3JGaWx0ZXIsIG9wdF9vcGVyYXRvck9yVmFsdWUsIG9wdF92YWx1ZSk7XG5cdH1cblxuXHQvKipcblx0ICogU2V0cyB0aGUgcXVlcnkgb2Zmc2V0LlxuXHQgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IFRoZSBpbmRleCBvZiB0aGUgZmlyc3QgZW50cnkgdGhhdCBzaG91bGQgYmUgcmV0dXJuZWRcblx0ICogICBieSB0aGlzIHF1ZXJ5LlxuXHQgKiBAcmV0dXJuIHshUXVlcnl9XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyBvZmZzZXQob2Zmc2V0KSB7XG5cdFx0cmV0dXJuIG5ldyBRdWVyeSgpLm9mZnNldChvZmZzZXQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEFkZHMgYSBoaWdobGlnaHQgZW50cnkgdG8gdGhpcyB7QGxpbmsgUXVlcnl9IGluc3RhbmNlLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZmllbGQgVGhlIGZpZWxkJ3MgbmFtZS5cblx0ICogQHJldHVybiB7IVF1ZXJ5fVxuXHQgKiBAc3RhdGljXG5cdCAqL1xuXHRzdGF0aWMgaGlnaGxpZ2h0KGZpZWxkKSB7XG5cdFx0cmV0dXJuIG5ldyBRdWVyeSgpLmhpZ2hsaWdodChmaWVsZCk7XG5cdH1cblxuXHQvKipcblx0ICogU2V0cyB0aGUgcXVlcnkgbGltaXQuXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBsaW1pdCBUaGUgbWF4IGFtb3VudCBvZiBlbnRyaWVzIHRoYXQgdGhpcyBxdWVyeSBzaG91bGQgcmV0dXJuLlxuXHQgKiBAcmV0dXJuIHshUXVlcnl9XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyBsaW1pdChsaW1pdCkge1xuXHRcdHJldHVybiBuZXcgUXVlcnkoKS5saW1pdChsaW1pdCk7XG5cdH1cblxuXHQvKipcblx0ICogQWRkcyBhIHNlYXJjaCB0byB0aGlzIHtAbGluayBRdWVyeX0gaW5zdGFuY2UuXG5cdCAqIEBwYXJhbSB7IUZpbHRlcnxzdHJpbmd9IGZpbHRlck9yVGV4dE9yRmllbGQgSWYgbm8gb3RoZXIgYXJndW1lbnRzXG5cdCAqICAgYXJlIHBhc3NlZCB0byB0aGlzIGZ1bmN0aW9uLCB0aGlzIHNob3VsZCBiZSBlaXRoZXIgYSB7QGxpbmsgRmlsdGVyfVxuXHQgKiAgIGluc3RhbmNlIG9yIGEgdGV4dCB0byBiZSB1c2VkIGluIGEgbWF0Y2ggZmlsdGVyLiBJbiBib3RoIGNhc2VzXG5cdCAqICAgdGhlIGZpbHRlciB3aWxsIGJlIGFwcGxpZWQgdG8gYWxsIGZpZWxkcy4gQW5vdGhlciBvcHRpb24gaXMgdG9cblx0ICogICBwYXNzIHRoaXMgYXMgYSBmaWVsZCBuYW1lIGluc3RlYWQsIHRvZ2V0aGVyIHdpdGggb3RoZXIgYXJndW1lbnRzXG5cdCAqICAgc28gdGhlIGZpbHRlciBjYW4gYmUgY3JlYXRlZC5cblx0ICogQHBhcmFtIHtzdHJpbmc9fSBvcHRfdGV4dE9yT3BlcmF0b3IgRWl0aGVyIGEgdGV4dCB0byBiZSB1c2VkIGluIGFcblx0ICogICBtYXRjaCBmaWx0ZXIsIG9yIHRoZSBvcGVyYXRvciB0aGF0IHNob3VsZCBiZSB1c2VkLlxuXHQgKiBAcGFyYW0geyo9fSBvcHRfdmFsdWUgVGhlIHZhbHVlIHRvIGJlIHVzZWQgYnkgdGhlIGZpbHRlci4gU2hvdWxkXG5cdCAqICAgb25seSBiZSBwYXNzZWQgaWYgYW4gb3BlcmF0b3Igd2FzIHBhc3NlZCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50LlxuXHQgKiBAcmV0dXJuIHshUXVlcnl9XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyBzZWFyY2goZmlsdGVyT3JUZXh0T3JGaWVsZCwgb3B0X3RleHRPck9wZXJhdG9yLCBvcHRfdmFsdWUpIHtcblx0XHRyZXR1cm4gbmV3IFF1ZXJ5KCkuc2VhcmNoKGZpbHRlck9yVGV4dE9yRmllbGQsIG9wdF90ZXh0T3JPcGVyYXRvciwgb3B0X3ZhbHVlKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBZGRzIGEgc29ydCBlbnRyeSB0byB0aGlzIHF1ZXJ5LCBzcGVjaWZ5aW5nIHRoZSBmaWVsZCB0aGlzIHF1ZXJ5IHNob3VsZCBiZVxuXHQgKiBzb3J0ZWQgYnkgYW5kLCBvcHRpb25hbGx5LCB0aGUgc29ydCBkaXJlY3Rpb24uXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZCBUaGUgZmllbGQgdGhhdCB0aGUgcXVlcnkgc2hvdWxkIGJlIHNvcnRlZCBieS5cblx0ICogQHBhcmFtIHtzdHJpbmc9fSBvcHRfZGlyZWN0aW9uIFRoZSBkaXJlY3Rpb24gdGhlIHNvcnQgb3BlcmF0aW9uIHNob3VsZCB1c2UuXG5cdCAqICAgSWYgbm9uZSBpcyBnaXZlbiwgXCJhc2NcIiBpcyB1c2VkIGJ5IGRlZmF1bHQuXG5cdCAqIEByZXR1cm4geyFRdWVyeX1cblx0ICogQHN0YXRpY1xuXHQgKi9cblx0c3RhdGljIHNvcnQoZmllbGQsIG9wdF9kaXJlY3Rpb24pIHtcblx0XHRyZXR1cm4gbmV3IFF1ZXJ5KCkuc29ydChmaWVsZCwgb3B0X2RpcmVjdGlvbik7XG5cdH1cblxuXHQvKipcblx0ICogU2V0cyB0aGUgcXVlcnkgdHlwZS5cblx0ICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVGhlIHF1ZXJ5J3MgdHlwZS4gRm9yIGV4YW1wbGU6IFwiY291bnRcIiwgXCJmZXRjaFwiLlxuXHQgKiBAcmV0dXJuIHshUXVlcnl9XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyB0eXBlKHR5cGUpIHtcblx0XHRyZXR1cm4gbmV3IFF1ZXJ5KCkudHlwZSh0eXBlKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBZGRzIGFuIGFnZ3JlZ2F0aW9uIHRvIHRoaXMge0BsaW5rIFF1ZXJ5fSBpbnN0YW5jZS5cblx0ICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIGFnZ3JlZ2F0aW9uIG5hbWUuXG5cdCAqIEBwYXJhbSB7IUFnZ3JlZ2F0aW9ufHN0cmluZ30gYWdncmVnYXRpb25PckZpZWxkIEVpdGhlciBhblxuXHQgKiAgIHtAbGluayBBZ2dyZWdhdGlvbn0gaW5zdGFuY2Ugb3IgdGhlIG5hbWUgb2YgdGhlIGFnZ3JlZ2F0aW9uIGZpZWxkLlxuXHQgKiBAcGFyYW0ge3N0cmluZz19IG9wdF9vcGVyYXRvciBUaGUgYWdncmVnYXRpb24gb3BlcmF0b3IuXG5cdCAqIEBjaGFpbm5hYmxlXG5cdCAqL1xuXHRhZ2dyZWdhdGUobmFtZSwgYWdncmVnYXRpb25PckZpZWxkLCBvcHRfb3BlcmF0b3IpIHtcblx0XHR2YXIgYWdncmVnYXRpb24gPSBhZ2dyZWdhdGlvbk9yRmllbGQ7XG5cdFx0aWYgKCEoYWdncmVnYXRpb24gaW5zdGFuY2VvZiBBZ2dyZWdhdGlvbikpIHtcblx0XHRcdGFnZ3JlZ2F0aW9uID0gQWdncmVnYXRpb24uZmllbGQoYWdncmVnYXRpb25PckZpZWxkLCBvcHRfb3BlcmF0b3IpO1xuXHRcdH1cblxuXHRcdHZhciBmaWVsZCA9IGFnZ3JlZ2F0aW9uLmdldEZpZWxkKCk7XG5cdFx0dmFyIHZhbHVlID0ge307XG5cdFx0dmFsdWVbZmllbGRdID0ge1xuXHRcdFx0bmFtZTogbmFtZSxcblx0XHRcdG9wZXJhdG9yOiBhZ2dyZWdhdGlvbi5nZXRPcGVyYXRvcigpXG5cdFx0fTtcblx0XHRpZiAoY29yZS5pc0RlZkFuZE5vdE51bGwoYWdncmVnYXRpb24uZ2V0VmFsdWUoKSkpIHtcblx0XHRcdHZhbHVlW2ZpZWxkXS52YWx1ZSA9IGFnZ3JlZ2F0aW9uLmdldFZhbHVlKCk7XG5cdFx0fVxuXG5cdFx0aWYgKCF0aGlzLmJvZHlfLmFnZ3JlZ2F0aW9uKSB7XG5cdFx0XHR0aGlzLmJvZHlfLmFnZ3JlZ2F0aW9uID0gW107XG5cdFx0fVxuXHRcdHRoaXMuYm9keV8uYWdncmVnYXRpb24ucHVzaCh2YWx1ZSk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKipcblx0ICogU2V0cyB0aGlzIHF1ZXJ5J3MgdHlwZSB0byBcImNvdW50XCIuXG5cdCAqIEBjaGFpbm5hYmxlXG5cdCAqL1xuXHRjb3VudCgpIHtcblx0XHRyZXR1cm4gdGhpcy50eXBlKCdjb3VudCcpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFNldHMgdGhpcyBxdWVyeSdzIHR5cGUgdG8gXCJmZXRjaFwiLlxuXHQgKiBAY2hhaW5uYWJsZVxuXHQgKi9cblx0ZmV0Y2goKSB7XG5cdFx0cmV0dXJuIHRoaXMudHlwZSgnZmV0Y2gnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBZGRzIGEgZmlsdGVyIHRvIHRoaXMgUXVlcnkuXG5cdCAqIEBwYXJhbSB7IUZpbHRlcnxzdHJpbmd9IGZpZWxkT3JGaWx0ZXIgRWl0aGVyIGEge0BsaW5rIEZpbHRlcn0gb3IgdGhlXG5cdCAqICAgbmFtZSBvZiB0aGUgZmllbGQgdG8gZmlsdGVyIGJ5LlxuXHQgKiBAcGFyYW0geyo9fSBvcHRfb3BlcmF0b3JPclZhbHVlIEVpdGhlciB0aGUgZmllbGQncyBvcGVyYXRvciBvciBpdHMgdmFsdWUuXG5cdCAqIEBwYXJhbSB7Kj19IG9wdF92YWx1ZSBUaGUgZmlsdGVyJ3MgdmFsdWUuXG5cdCAqIEBjaGFpbm5hYmxlXG5cdCAqL1xuXHRmaWx0ZXIoZmllbGRPckZpbHRlciwgb3B0X29wZXJhdG9yT3JWYWx1ZSwgb3B0X3ZhbHVlKSB7XG5cdFx0bGV0IGZpbHRlciA9IEZpbHRlci50b0ZpbHRlcihmaWVsZE9yRmlsdGVyLCBvcHRfb3BlcmF0b3JPclZhbHVlLCBvcHRfdmFsdWUpO1xuXHRcdGlmICghdGhpcy5ib2R5Xy5maWx0ZXIpIHtcblx0XHRcdHRoaXMuYm9keV8uZmlsdGVyID0gW107XG5cdFx0fVxuXHRcdHRoaXMuYm9keV8uZmlsdGVyLnB1c2goZmlsdGVyLmJvZHkoKSk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKipcblx0ICogU2V0cyB0aGUgcXVlcnkgb2Zmc2V0LlxuXHQgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IFRoZSBpbmRleCBvZiB0aGUgZmlyc3QgZW50cnkgdGhhdCBzaG91bGQgYmUgcmV0dXJuZWRcblx0ICogICBieSB0aGlzIHF1ZXJ5LlxuXHQgKiBAY2hhaW5uYWJsZVxuXHQgKi9cblx0b2Zmc2V0KG9mZnNldCkge1xuXHRcdHRoaXMuYm9keV8ub2Zmc2V0ID0gb2Zmc2V0O1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0LyoqXG5cdCAqIEFkZHMgYSBoaWdobGlnaHQgZW50cnkgdG8gdGhpcyB7QGxpbmsgUXVlcnl9IGluc3RhbmNlLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZmllbGQgVGhlIGZpZWxkJ3MgbmFtZS5cblx0ICogQGNoYWlubmFibGVcblx0ICovXG5cdGhpZ2hsaWdodChmaWVsZCkge1xuXHRcdGlmICghdGhpcy5ib2R5Xy5oaWdobGlnaHQpIHtcblx0XHRcdHRoaXMuYm9keV8uaGlnaGxpZ2h0ID0gW107XG5cdFx0fVxuXG5cdFx0dGhpcy5ib2R5Xy5oaWdobGlnaHQucHVzaChmaWVsZCk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKipcblx0ICogU2V0cyB0aGUgcXVlcnkgbGltaXQuXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBsaW1pdCBUaGUgbWF4IGFtb3VudCBvZiBlbnRyaWVzIHRoYXQgdGhpcyBxdWVyeSBzaG91bGQgcmV0dXJuLlxuXHQgKiBAY2hhaW5uYWJsZVxuXHQgKi9cblx0bGltaXQobGltaXQpIHtcblx0XHR0aGlzLmJvZHlfLmxpbWl0ID0gbGltaXQ7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKipcblx0ICogQWRkcyBhIHNlYXJjaCB0byB0aGlzIHtAbGluayBRdWVyeX0gaW5zdGFuY2UuXG5cdCAqIEBwYXJhbSB7IUZpbHRlcnxzdHJpbmd9IGZpbHRlck9yVGV4dE9yRmllbGQgSWYgbm8gb3RoZXIgYXJndW1lbnRzXG5cdCAqICAgYXJlIHBhc3NlZCB0byB0aGlzIGZ1bmN0aW9uLCB0aGlzIHNob3VsZCBiZSBlaXRoZXIgYSB7QGxpbmsgRmlsdGVyfVxuXHQgKiAgIGluc3RhbmNlIG9yIGEgdGV4dCB0byBiZSB1c2VkIGluIGEgbWF0Y2ggZmlsdGVyLiBJbiBib3RoIGNhc2VzXG5cdCAqICAgdGhlIGZpbHRlciB3aWxsIGJlIGFwcGxpZWQgdG8gYWxsIGZpZWxkcy4gQW5vdGhlciBvcHRpb24gaXMgdG9cblx0ICogICBwYXNzIHRoaXMgYXMgYSBmaWVsZCBuYW1lIGluc3RlYWQsIHRvZ2V0aGVyIHdpdGggb3RoZXIgYXJndW1lbnRzXG5cdCAqICAgc28gdGhlIGZpbHRlciBjYW4gYmUgY3JlYXRlZC5cblx0ICogQHBhcmFtIHtzdHJpbmc9fSBvcHRfdGV4dE9yT3BlcmF0b3IgRWl0aGVyIGEgdGV4dCB0byBiZSB1c2VkIGluIGFcblx0ICogICBtYXRjaCBmaWx0ZXIsIG9yIHRoZSBvcGVyYXRvciB0aGF0IHNob3VsZCBiZSB1c2VkLlxuXHQgKiBAcGFyYW0geyo9fSBvcHRfdmFsdWUgVGhlIHZhbHVlIHRvIGJlIHVzZWQgYnkgdGhlIGZpbHRlci4gU2hvdWxkXG5cdCAqICAgb25seSBiZSBwYXNzZWQgaWYgYW4gb3BlcmF0b3Igd2FzIHBhc3NlZCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50LlxuXHQgKiBAY2hhaW5uYWJsZVxuXHQgKi9cblx0c2VhcmNoKGZpbHRlck9yVGV4dE9yRmllbGQsIG9wdF90ZXh0T3JPcGVyYXRvciwgb3B0X3ZhbHVlKSB7XG5cdFx0dmFyIGZpbHRlciA9IGZpbHRlck9yVGV4dE9yRmllbGQ7XG5cblx0XHRpZiAob3B0X3ZhbHVlKSB7XG5cdFx0XHRmaWx0ZXIgPSBGaWx0ZXIuZmllbGQoZmlsdGVyT3JUZXh0T3JGaWVsZCwgb3B0X3RleHRPck9wZXJhdG9yLCBvcHRfdmFsdWUpO1xuXHRcdH0gZWxzZSBpZiAob3B0X3RleHRPck9wZXJhdG9yKSB7XG5cdFx0XHRmaWx0ZXIgPSBGaWx0ZXIubWF0Y2goZmlsdGVyT3JUZXh0T3JGaWVsZCwgb3B0X3RleHRPck9wZXJhdG9yKTtcblx0XHR9IGVsc2UgaWYgKCEoZmlsdGVyIGluc3RhbmNlb2YgRmlsdGVyKSkge1xuXHRcdFx0ZmlsdGVyID0gRmlsdGVyLm1hdGNoKGZpbHRlck9yVGV4dE9yRmllbGQpO1xuXHRcdH1cblxuXHRcdGlmICghdGhpcy5ib2R5Xy5zZWFyY2gpIHtcblx0XHRcdHRoaXMuYm9keV8uc2VhcmNoID0gW107XG5cdFx0fVxuXG5cdFx0aWYgKGNvcmUuaXNEZWZBbmROb3ROdWxsKGZpbHRlck9yVGV4dE9yRmllbGQpKSB7XG5cdFx0XHR0aGlzLmJvZHlfLnNlYXJjaC5wdXNoKGZpbHRlci5ib2R5KCkpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmJvZHlfLnNlYXJjaC5wdXNoKHt9KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdC8qKlxuXHQgKiBBZGRzIGEgc29ydCBlbnRyeSB0byB0aGlzIHF1ZXJ5LCBzcGVjaWZ5aW5nIHRoZSBmaWVsZCB0aGlzIHF1ZXJ5IHNob3VsZCBiZVxuXHQgKiBzb3J0ZWQgYnkgYW5kLCBvcHRpb25hbGx5LCB0aGUgc29ydCBkaXJlY3Rpb24uXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZCBUaGUgZmllbGQgdGhhdCB0aGUgcXVlcnkgc2hvdWxkIGJlIHNvcnRlZCBieS5cblx0ICogQHBhcmFtIHtzdHJpbmc9fSBvcHRfZGlyZWN0aW9uIFRoZSBkaXJlY3Rpb24gdGhlIHNvcnQgb3BlcmF0aW9uIHNob3VsZCB1c2UuXG5cdCAqICAgSWYgbm9uZSBpcyBnaXZlbiwgXCJhc2NcIiBpcyB1c2VkIGJ5IGRlZmF1bHQuXG5cdCAqIEBjaGFpbm5hYmxlXG5cdCAqL1xuXHRzb3J0KGZpZWxkLCBvcHRfZGlyZWN0aW9uKSB7XG5cdFx0aWYgKCF0aGlzLmJvZHlfLnNvcnQpIHtcblx0XHRcdHRoaXMuYm9keV8uc29ydCA9IFtdO1xuXHRcdH1cblx0XHR2YXIgc29ydEVudHJ5ID0ge307XG5cdFx0c29ydEVudHJ5W2ZpZWxkXSA9IG9wdF9kaXJlY3Rpb24gfHwgJ2FzYyc7XG5cdFx0dGhpcy5ib2R5Xy5zb3J0LnB1c2goc29ydEVudHJ5KTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdC8qKlxuXHQgKiBTZXRzIHRoZSBxdWVyeSB0eXBlLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUaGUgcXVlcnkncyB0eXBlLiBGb3IgZXhhbXBsZTogXCJjb3VudFwiLCBcImZldGNoXCIuXG5cdCAqIEBjaGFpbm5hYmxlXG5cdCAqL1xuXHR0eXBlKHR5cGUpIHtcblx0XHR0aGlzLmJvZHlfLnR5cGUgPSB0eXBlO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFF1ZXJ5O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgQXBpSGVscGVyIGZyb20gJy4uL0FwaUhlbHBlcic7XG5pbXBvcnQgUXVlcnkgZnJvbSAnLi4vLi4vYXBpLXF1ZXJ5L1F1ZXJ5JztcbmltcG9ydCBGaWx0ZXIgZnJvbSAnLi4vLi4vYXBpLXF1ZXJ5L0ZpbHRlcic7XG5pbXBvcnQgeyBhc3NlcnREZWZBbmROb3ROdWxsLCBhc3NlcnRPYmplY3QsIGFzc2VydFJlc3BvbnNlU3VjY2VlZGVkIH0gZnJvbSAnLi4vYXNzZXJ0aW9ucyc7XG5pbXBvcnQgeyBjb3JlIH0gZnJvbSAnbWV0YWwnO1xuXG4vKipcbiAqIENsYXNzIHJlc3BvbnNpYmxlIGZvciBlbmNhcHN1bGF0ZSBkYXRhIGFwaSBjYWxscy5cbiAqL1xuY2xhc3MgRGF0YUFwaUhlbHBlciBleHRlbmRzIEFwaUhlbHBlciB7XG5cdC8qKlxuXHQgKiBDb25zdHJ1Y3RzIGFuIHtAbGluayBEYXRhQXBpSGVscGVyfSBpbnN0YW5jZS5cblx0ICogQHBhcmFtIHtAbGluayBXZURlcGxveX0gaW5zdGFuY2UuXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKi9cblx0Y29uc3RydWN0b3Iod2VkZXBsb3lDbGllbnQpIHtcblx0XHRzdXBlcih3ZWRlcGxveUNsaWVudCk7XG5cdH1cblxuXHQvKipcblx0ICogQWRkcyBhIGZpbHRlciB0byB0aGlzIHJlcXVlc3QncyB7QGxpbmsgUXVlcnl9LlxuXHQgKiBAcGFyYW0geyFGaWx0ZXJ8c3RyaW5nfSBmaWVsZE9yRmlsdGVyIEVpdGhlciBhIEZpbHRlciBpbnN0YW5jZSBvciB0aGVcblx0ICogICBuYW1lIG9mIHRoZSBmaWVsZCB0byBmaWx0ZXIgYnkuXG5cdCAqIEBwYXJhbSB7Kj19IG9wdF9vcGVyYXRvck9yVmFsdWUgRWl0aGVyIHRoZSBmaWVsZCdzIG9wZXJhdG9yIG9yIGl0cyB2YWx1ZS5cblx0ICogQHBhcmFtIHsqPX0gb3B0X3ZhbHVlIFRoZSBmaWx0ZXIncyB2YWx1ZS5cblx0ICogQGNoYWluYWJsZVxuXHQgKi9cblx0d2hlcmUoZmllbGRPckZpbHRlciwgb3B0X29wZXJhdG9yT3JWYWx1ZSwgb3B0X3ZhbHVlKSB7XG5cdFx0dGhpcy5nZXRPckNyZWF0ZUZpbHRlcl8oKS5hbmQoZmllbGRPckZpbHRlciwgb3B0X29wZXJhdG9yT3JWYWx1ZSwgb3B0X3ZhbHVlKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdC8qKlxuXHQgKiBBZGRzIGEgZmlsdGVyIHRvIGJlIGNvbXBvc2VkIHdpdGggdGhpcyBmaWx0ZXIgdXNpbmcgdGhlIFwib3JcIiBvcGVyYXRvci5cblx0ICogQHBhcmFtIHshRmlsdGVyfHN0cmluZ30gZmllbGRPckZpbHRlciBFaXRoZXIgYSB7QGxpbmsgRmlsdGVyfSBpbnN0YW5jZSBvclxuXHQgKiAgIHRoZSBuYW1lIG9mIHRoZSBmaWVsZCB0byBmaWx0ZXIgYnkuXG5cdCAqIEBwYXJhbSB7Kj19IG9wdF9vcGVyYXRvck9yVmFsdWUgRWl0aGVyIHRoZSBmaWVsZCdzIG9wZXJhdG9yIG9yIGl0cyB2YWx1ZS5cblx0ICogQHBhcmFtIHsqPX0gb3B0X3ZhbHVlIFRoZSBmaWx0ZXIncyB2YWx1ZS5cblx0ICogQGNoYWlubmFibGVcblx0ICovXG5cdG9yKGZpZWxkT3JGaWx0ZXIsIG9wdF9vcGVyYXRvck9yVmFsdWUsIG9wdF92YWx1ZSkge1xuXHRcdGlmICh0aGlzLmdldE9yQ3JlYXRlRmlsdGVyXygpLmJvZHkoKS5hbmQubGVuZ3RoID09PSAwKSB7XG5cdFx0XHR0aHJvdyBFcnJvcignSXRcXCdzIHJlcXVpcmVkIHRvIGhhdmUgYSBjb25kaXRpb24gYmVmb3JlIHVzaW5nIGFuIFxcJ29yKClcXCcgZm9yIHRoZSBmaXJzdCB0aW1lLicpO1xuXHRcdH1cblx0XHR0aGlzLmdldE9yQ3JlYXRlRmlsdGVyXygpLm9yKGZpZWxkT3JGaWx0ZXIsIG9wdF9vcGVyYXRvck9yVmFsdWUsIG9wdF92YWx1ZSk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKipcblx0ICogQWRkcyBhIGZpbHRlciB0byBiZSBjb21wb3NlIHdpdGggdGhpcyBmaWx0ZXIgdXNpbmcgXCJub25lXCIgb3BlcmF0b3IuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZCBUaGUgbmFtZSBvZiB0aGUgZmllbGQgdG8gZmlsdGVyIGJ5LlxuXHQgKiBAcGFyYW0geyEoQXJyYXl8Li4uKil9IGFyZ3MgQSB2YXJpYWJsZSBhbW91bnQgb2YgdmFsdWVzIHRvIGJlIHVzZWQgd2l0aFxuXHQgKiB0aGUgXCJub25lXCIgb3BlcmF0b3IuIENhbiBiZSBwYXNzZWQgZWl0aGVyIGFzIGEgc2luZ2xlIGFycmF5IG9yIGFzXG5cdCAqIHNlcGFyYXRlIHBhcmFtcy5cblx0ICogQGNoYWlubmFibGVcblx0ICovXG5cdG5vbmUoZmllbGQsIC4uLmFyZ3MpIHtcblx0XHRyZXR1cm4gdGhpcy53aGVyZShGaWx0ZXIubm9uZShmaWVsZCwgYXJncykpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEFkZHMgYSBmaWx0ZXIgdG8gYmUgY29tcG9zZSB3aXRoIHRoaXMgZmlsdGVyIHVzaW5nIFwibWF0Y2hcIiBvcGVyYXRvci5cblx0ICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkT3JRdWVyeSBJZiBubyBzZWNvbmQgc3RyaW5nIGFyZ3VtZW50IGlzIGdpdmVuLCB0aGlzXG5cdCAqIHNob3VsZCBiZSB0aGUgcXVlcnkgc3RyaW5nLCBpbiB3aGljaCBjYXNlIGFsbCBmaWVsZHMgd2lsbCBiZSBtYXRjaGVkLlxuXHQgKiBPdGhlcndpc2UsIHRoaXMgc2hvdWxkIGJlIHRoZSBuYW1lIG9mIHRoZSBmaWVsZCB0byBtYXRjaC5cblx0ICogQHBhcmFtIHtzdHJpbmc9fSBvcHRfcXVlcnkgVGhlIHF1ZXJ5IHN0cmluZy5cblx0ICogQGNoYWlubmFibGVcblx0ICovXG5cdG1hdGNoKGZpZWxkLCB2YWx1ZSkge1xuXHRcdHJldHVybiB0aGlzLndoZXJlKEZpbHRlci5tYXRjaChmaWVsZCwgdmFsdWUpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBZGRzIGEgZmlsdGVyIHRvIGJlIGNvbXBvc2Ugd2l0aCB0aGlzIGZpbHRlciB1c2luZyBcInNpbWlsYXJcIiBvcGVyYXRvci5cblx0ICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkT3JRdWVyeSBJZiBubyBzZWNvbmQgc3RyaW5nIGFyZ3VtZW50IGlzIGdpdmVuLCB0aGlzXG5cdCAqIHNob3VsZCBiZSB0aGUgcXVlcnkgc3RyaW5nLCBpbiB3aGljaCBjYXNlIGFsbCBmaWVsZHMgd2lsbCBiZSBtYXRjaGVkLlxuXHQgKiBPdGhlcndpc2UsIHRoaXMgc2hvdWxkIGJlIHRoZSBuYW1lIG9mIHRoZSBmaWVsZCB0byBtYXRjaC5cblx0ICogQHBhcmFtIHs/c3RyaW5nfSBxdWVyeSBUaGUgcXVlcnkgc3RyaW5nLlxuXHQgKiBAY2hhaW5uYWJsZVxuXHQgKi9cblx0c2ltaWxhcihmaWVsZE9yUXVlcnksIHF1ZXJ5KSB7XG5cdFx0cmV0dXJuIHRoaXMud2hlcmUoRmlsdGVyLnNpbWlsYXIoZmllbGRPclF1ZXJ5LCBxdWVyeSkpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgYSB7QGxpbmsgRmlsdGVyfSBpbnN0YW5jZSB0aGF0IHVzZXMgdGhlIFwiPFwiIG9wZXJhdG9yLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZmllbGQgVGhlIG5hbWUgb2YgdGhlIGZpZWxkIHRvIGZpbHRlciBieS5cblx0ICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgZmlsdGVyJ3MgdmFsdWUuXG5cdCAqIEByZXR1cm4geyFGaWx0ZXJ9XG4gICAqIEBzdGF0aWNcblx0ICovXG5cdGx0KGZpZWxkLCB2YWx1ZSkge1xuXHRcdHJldHVybiB0aGlzLndoZXJlKEZpbHRlci5sdChmaWVsZCwgdmFsdWUpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEge0BsaW5rIEZpbHRlcn0gaW5zdGFuY2UgdGhhdCB1c2VzIHRoZSBcIjw9XCIgb3BlcmF0b3IuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZCBUaGUgbmFtZSBvZiB0aGUgZmllbGQgdG8gZmlsdGVyIGJ5LlxuXHQgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSBmaWx0ZXIncyB2YWx1ZS5cblx0ICogQHJldHVybiB7IUZpbHRlcn1cbiAgICogQHN0YXRpY1xuXHQgKi9cblx0bHRlKGZpZWxkLCB2YWx1ZSkge1xuXHRcdHJldHVybiB0aGlzLndoZXJlKEZpbHRlci5sdGUoZmllbGQsIHZhbHVlKSk7XG5cdH1cblxuXG5cdC8qKlxuXHQgKiBBZGRzIGEgZmlsdGVyIHRvIGJlIGNvbXBvc2Ugd2l0aCB0aGlzIGZpbHRlciB1c2luZyBcImFueVwiIG9wZXJhdG9yLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZmllbGQgVGhlIG5hbWUgb2YgdGhlIGZpZWxkIHRvIGZpbHRlciBieS5cblx0ICogQHBhcmFtIHshKEFycmF5fC4uLiopfSBhcmdzIEEgdmFyaWFibGUgYW1vdW50IG9mIHZhbHVlcyB0byBiZSB1c2VkIHdpdGhcblx0ICogdGhlIFwibm9uZVwiIG9wZXJhdG9yLiBDYW4gYmUgcGFzc2VkIGVpdGhlciBhcyBhIHNpbmdsZSBhcnJheSBvciBhc1xuXHQgKiBzZXBhcmF0ZSBwYXJhbXMuXG5cdCAqIEBjaGFpbm5hYmxlXG5cdCAqL1xuXHRhbnkoZmllbGQsIC4uLmFyZ3MpIHtcblx0XHRyZXR1cm4gdGhpcy53aGVyZShGaWx0ZXIuYW55KGZpZWxkLCBhcmdzKSk7XG5cdH1cblxuXHQvKipcblx0ICogQWRkcyBhIGZpbHRlciB0byBiZSBjb21wb3NlIHdpdGggdGhpcyBmaWx0ZXIgdXNpbmcgXCJncFwiIG9wZXJhdG9yLiBUaGlzIGlzIGFcblx0ICogc3BlY2lhbCB1c2UgY2FzZSBvZiBgRmlsdGVyLnBvbHlnb25gIGZvciBib3VuZGluZyBib3hlcy5cblx0ICogQHBhcmFtIHtzdHJpbmd9IGZpZWxkIFRoZSBmaWVsZCdzIG5hbWUuXG5cdCAqIEBwYXJhbSB7Kn0gYm94T3JVcHBlckxlZnQgRWl0aGVyIGEgYEdlby5Cb3VuZGluZ0JveGAgaW5zdGFuY2UsIG9yIGFcblx0ICogYm91bmRpbmcgYm94J3MgdXBwZXIgbGVmdCBjb29yZGluYXRlLlxuXHQgKiBAcGFyYW0geyo9fSBvcHRfbG93ZXJSaWdodCBBIGJvdW5kaW5nIGJveCdzIGxvd2VyIHJpZ2h0IGNvb3JkaW5hdGUuXG5cdCAqIEBjaGFpbm5hYmxlXG5cdCAqL1xuXHRib3VuZGluZ0JveChmaWVsZCwgYm94T3JVcHBlckxlZnQsIG9wdF9sb3dlclJpZ2h0KSB7XG5cdFx0cmV0dXJuIHRoaXMud2hlcmUoRmlsdGVyLmJvdW5kaW5nQm94KGZpZWxkLCBib3hPclVwcGVyTGVmdCwgb3B0X2xvd2VyUmlnaHQpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBZGRzIGEgZmlsdGVyIHRvIGJlIGNvbXBvc2Ugd2l0aCB0aGlzIGZpbHRlciB1c2luZyBcImdkXCIgb3BlcmF0b3IuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZCBUaGUgZmllbGQncyBuYW1lLlxuXHQgKiBAcGFyYW0geyp9IGxvY2F0aW9uT3JDaXJjbGUgRWl0aGVyIGEgYEdlby5DaXJjbGVgIGluc3RhbmNlIG9yIGFcblx0ICogY29vcmRpbmF0ZS5cblx0ICogQHBhcmFtIHtSYW5nZXxzdHJpbmc9fSBvcHRfcmFuZ2VPckRpc3RhbmNlIEVpdGhlciBhIGBSYW5nZWAgaW5zdGFuY2Ugb3Jcblx0ICogdGhlIGRpc3RhbmNlIHZhbHVlLlxuXHQgKiBAcmV0dXJuIHshRmlsdGVyfVxuXHQgKiBAY2hhaW5uYWJsZVxuXHQgKi9cblx0ZGlzdGFuY2UoZmllbGQsIGxvY2F0aW9uT3JDaXJjbGUsIG9wdF9yYW5nZU9yRGlzdGFuY2UpIHtcblx0XHRyZXR1cm4gdGhpcy53aGVyZShGaWx0ZXIuZGlzdGFuY2UoZmllbGQsIGxvY2F0aW9uT3JDaXJjbGUsIG9wdF9yYW5nZU9yRGlzdGFuY2UpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBZGRzIGEgZmlsdGVyIHRvIGJlIGNvbXBvc2Ugd2l0aCB0aGlzIGZpbHRlciB1c2luZyBcInJhbmdlXCIgb3BlcmF0b3IuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZCBUaGUgZmllbGQncyBuYW1lLlxuXHQgKiBAcGFyYW0geyp9IHJhbmdlT3JNaW4gRWl0aGVyIGEgYFJhbmdlYCBpbnN0YW5jZSBvciBhIHRoZSByYW5nZSdzIG1pblxuXHQgKiB2YWx1ZS5cblx0ICogQHBhcmFtIHsqPX0gb3B0X21heCBUaGUgcmFuZ2UncyBtYXggdmFsdWUuXG5cdCAqIEByZXR1cm4geyFGaWx0ZXJ9XG5cdCAqIEBjaGFpbm5hYmxlXG5cdCAqL1xuXHRyYW5nZShmaWVsZCwgcmFuZ2VPck1pbiwgb3B0X21heCkge1xuXHRcdHJldHVybiB0aGlzLndoZXJlKEZpbHRlci5yYW5nZShmaWVsZCwgcmFuZ2VPck1pbiwgb3B0X21heCkpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFNldHMgdGhlIGxpbWl0IGZvciB0aGlzIHJlcXVlc3QncyB7QGxpbmsgUXVlcnl9LlxuXHQgKiBAcGFyYW0ge251bWJlcn0gbGltaXQgVGhlIG1heCBhbW91bnQgb2YgZW50cmllcyB0aGF0IHRoaXMgcmVxdWVzdCBzaG91bGQgcmV0dXJuLlxuXHQgKiBAY2hhaW5hYmxlXG5cdCAqL1xuXHRsaW1pdChsaW1pdCkge1xuXHRcdHRoaXMuZ2V0T3JDcmVhdGVRdWVyeV8oKS5saW1pdChsaW1pdCk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKipcblx0ICogU2V0cyB0aGUgb2Zmc2V0IGZvciB0aGlzIHJlcXVlc3QncyB7QGxpbmsgUXVlcnl9LlxuXHQgKiBAcGFyYW0ge251bWJlcn0gb2Zmc2V0IFRoZSBpbmRleCBvZiB0aGUgZmlyc3QgZW50cnkgdGhhdCBzaG91bGQgYmVcblx0ICogcmV0dXJuZWQgYnkgdGhpcyBxdWVyeS5cblx0ICogQGNoYWluYWJsZVxuXHQgKi9cblx0b2Zmc2V0KG9mZnNldCkge1xuXHRcdHRoaXMuZ2V0T3JDcmVhdGVRdWVyeV8oKS5vZmZzZXQob2Zmc2V0KTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdC8qKlxuXHQgKiBBZGRzIGEgaGlnaGxpZ2h0IGVudHJ5IHRvIHRoaXMgcmVxdWVzdCdzIHtAbGluayBRdWVyeX0gaW5zdGFuY2UuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZCBUaGUgZmllbGQncyBuYW1lLlxuXHQgKiBAY2hhaW5hYmxlXG5cdCAqL1xuXHRoaWdobGlnaHQoZmllbGQpIHtcblx0XHR0aGlzLmdldE9yQ3JlYXRlUXVlcnlfKCkuaGlnaGxpZ2h0KGZpZWxkKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdC8qKlxuXHQgKiBBZGRzIGFuIGFnZ3JlZ2F0aW9uIHRvIHRoaXMge0BsaW5rIFF1ZXJ5fSBpbnN0YW5jZS5cblx0ICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgVGhlIGFnZ3JlZ2F0aW9uIG5hbWUuXG5cdCAqIEBwYXJhbSB7IUFnZ3JlZ2F0aW9ufHN0cmluZ30gYWdncmVnYXRpb25PckZpZWxkIEVpdGhlciBhbiB7QGxpbmtcblx0ICogQWdncmVnYXRpb259IGluc3RhbmNlIG9yIHRoZSBuYW1lIG9mIHRoZSBhZ2dyZWdhdGlvbiBmaWVsZC5cblx0ICogQHBhcmFtIHtzdHJpbmc9fSBvcHRfb3BlcmF0b3IgVGhlIGFnZ3JlZ2F0aW9uIG9wZXJhdG9yLlxuXHQgKiBAY2hhaW5hYmxlXG5cdCAqL1xuXHRhZ2dyZWdhdGUobmFtZSwgYWdncmVnYXRpb25PckZpZWxkLCBvcHRfb3BlcmF0b3IpIHtcblx0XHR0aGlzLmdldE9yQ3JlYXRlUXVlcnlfKCkuYWdncmVnYXRlKG5hbWUsIGFnZ3JlZ2F0aW9uT3JGaWVsZCwgb3B0X29wZXJhdG9yKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdC8qKlxuXHQgKiBTZXRzIHRoaXMgcmVxdWVzdCdzIHF1ZXJ5IHR5cGUgdG8gJ2NvdW50Jy5cblx0ICogQGNoYWlubmFibGVcblx0ICovXG5cdGNvdW50KCkge1xuXHRcdHRoaXMuZ2V0T3JDcmVhdGVRdWVyeV8oKS50eXBlKCdjb3VudCcpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0LyoqXG5cdCAqIEFkZHMgYSBzb3J0IHF1ZXJ5IHRvIHRoaXMgcmVxdWVzdCdzIGJvZHkuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBmaWVsZCBUaGUgZmllbGQgdGhhdCB0aGUgcXVlcnkgc2hvdWxkIGJlIHNvcnRlZCBieS5cblx0ICogQHBhcmFtIHtzdHJpbmc9fSBvcHRfZGlyZWN0aW9uIFRoZSBkaXJlY3Rpb24gdGhlIHNvcnQgb3BlcmF0aW9uIHNob3VsZFxuXHQgKiB1c2UuIElmIG5vbmUgaXMgZ2l2ZW4sICdhc2MnIGlzIHVzZWQgYnkgZGVmYXVsdC5cblx0ICogQGNoYWlubmFibGVcblx0ICovXG5cdG9yZGVyQnkoZmllbGQsIG9wdF9kaXJlY3Rpb24pIHtcblx0XHR0aGlzLmdldE9yQ3JlYXRlUXVlcnlfKCkuc29ydChmaWVsZCwgb3B0X2RpcmVjdGlvbik7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhbiBvYmplY3QgKG9yIG11bHRpcGxlIG9iamVjdHMpIGFuZCBzYXZlcyBpdCB0byBXZURlcGxveSBkYXRhLiBJZlxuXHQgKiB0aGVyZSdzIGEgdmFsaWRhdGlvbiByZWdpc3RlcmVkIGluIHRoZSBjb2xsZWN0aW9uIGFuZCB0aGUgcmVxdWVzdCBpc1xuXHQgKiBzdWNjZXNzZnVsLCB0aGUgcmVzdWx0aW5nIG9iamVjdCAob3IgYXJyYXkgb2Ygb2JqZWN0cykgaXMgcmV0dXJuZWQuIFRoZVxuXHQgKiBkYXRhIHBhcmFtZXRlciBjYW4gYmUgZWl0aGVyIGFuIE9iamVjdCBvciBhbiBBcnJheSBvZiBPYmplY3RzLlxuXHQgKiBUaGVzZSBPYmplY3RzIGRlc2NyaWJlIHRoZSBhdHRyaWJ1dGVzIG9uIHRoZSBvYmplY3RzIHRoYXQgYXJlIHRvIGJlIGNyZWF0ZWQuXG5cdCAqIGBgYGphdmFzY3JpcHRcblx0ICogdmFyIGRhdGEgPSBXZURlcGxveS5kYXRhKCdodHRwOi8vZGVtb2RhdGEud2VkZXBsb3kuaW8nKTtcblx0ICpcblx0ICogZGF0YS5jcmVhdGUoJ21vdmllcycsIHsndGl0bGUnPT4gJ1N0YXIgV2FyczogRXBpc29kZSBJIOKAkyBUaGUgUGhhbnRvbSBNZW5hY2UnfSlcblx0ICogXHRcdCAudGhlbihmdW5jdGlvbihtb3ZpZSl7XG5cdCAqIFx0XHRcdCBjb25zb2xlLmxvZyhtb3ZpZSlcblx0ICogICAgIH0pO1xuXHQgKlxuXHQgKiBkYXRhLmNyZWF0ZSgnbW92aWVzJywgW3sndGl0bGUnPT4gJ1N0YXIgV2FyczogRXBpc29kZSBJSSDigJMgQXR0YWNrIG9mIHRoZSBDbG9uZXMnfSxcblx0ICogXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0eyd0aXRsZSc9PiAnU3RhciBXYXJzOiBFcGlzb2RlIElJSSDigJMgUmV2ZW5nZSBvZiB0aGUgU2l0aCd9KVxuXHQgKiBcdFx0IC50aGVuKGZ1bmN0aW9uKG1vdmllcyl7XG5cdCAqIFx0XHRcdCBjb25zb2xlLmxvZyhtb3ZpZXMpXG5cdCAqICAgICB9KTtcblx0ICogYGBgXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBjb2xsZWN0aW9uIENvbGxlY3Rpb24gKGtleSkgdXNlZCB0byBjcmVhdGUgdGhlIG5ldyBkYXRhLlxuXHQgKiBAcGFyYW0ge09iamVjdH0gZGF0YSBBdHRyaWJ1dGVzIG9uIHRoZSBvYmplY3QgdGhhdCBpcyB0byBiZSBjcmVhdGVkLlxuXHQgKiBAcmV0dXJuIHshQ2FuY2VsbGFibGVQcm9taXNlfVxuXHQgKi9cblx0Y3JlYXRlKGNvbGxlY3Rpb24sIGRhdGEpIHtcblx0XHRhc3NlcnREZWZBbmROb3ROdWxsKGNvbGxlY3Rpb24sICdDb2xsZWN0aW9uIGtleSBtdXN0IGJlIHNwZWNpZmllZC4nKTtcblx0XHRhc3NlcnRPYmplY3QoZGF0YSwgJ0RhdGEgY2FuXFwndCBiZSBlbXB0eS4nKTtcblxuXHRcdHJldHVybiB0aGlzLndlZGVwbG95Q2xpZW50XG5cdFx0XHQudXJsKHRoaXMud2VkZXBsb3lDbGllbnQuZGF0YVVybF8pXG5cdFx0XHQuYXV0aCh0aGlzLmhlbHBlckF1dGhTY29wZSlcblx0XHRcdC5wYXRoKGNvbGxlY3Rpb24pXG5cdFx0XHQucG9zdChkYXRhKVxuXHRcdFx0LnRoZW4ocmVzcG9uc2UgPT4gYXNzZXJ0UmVzcG9uc2VTdWNjZWVkZWQocmVzcG9uc2UpKVxuXHRcdFx0LnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuYm9keSgpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBVcGRhdGUgdGhlIGF0dHJpYnV0ZXMgb2YgYSBkb2N1bWVudCBmb3JtIHRoZSBwYXNzZWQtaW4gb2JqZWN0IGFuZCBzYXZlc1xuXHQgKiB0aGUgcmVjb3JkLiBJZiB0aGUgb2JqZWN0IGlzIGludmFsaWQsIHRoZSBzYXZpbmcgd2lsbCBmYWlsIGFuZCBhbiBlcnJvclxuXHQgKiBvYmplY3Qgd2lsbCBiZSByZXR1cm5lZC5cblx0ICpcblx0ICogYGBgamF2YXNjcmlwdFxuXHQgKiB2YXIgZGF0YSA9IFdlRGVwbG95LmRhdGEoJ2h0dHA6Ly9kZW1vZGF0YS53ZWRlcGxveS5pbycpO1xuXHQgKlxuXHQgKiBkYXRhLnVwZGF0ZSgnbW92aWVzLzEwMTkxMTIzNTMnLCB7J3RpdGxlJz0+ICdTdGFyIFdhcnM6IEVwaXNvZGUgSSd9KVxuXHQgKiBcdFx0IC50aGVuKGZ1bmN0aW9uKG1vdmllKXtcblx0ICogXHRcdFx0IGNvbnNvbGUubG9nKG1vdmllKVxuXHQgKiAgICAgfSk7XG5cdCAqIGBgYFxuXHQgKiBAcGFyYW0ge3N0cmluZ30gZG9jdW1lbnQgS2V5IHVzZWQgdG8gdXBkYXRlIHRoZSBkb2N1bWVudC5cblx0ICogQHBhcmFtIHtPYmplY3R9IGRhdGEgQXR0cmlidXRlcyBvbiB0aGUgb2JqZWN0IHRoYXQgaXMgdG8gYmUgdXBkYXRlZC5cblx0ICogQHJldHVybiB7IUNhbmNlbGxhYmxlUHJvbWlzZX1cblx0ICovXG5cdHVwZGF0ZShkb2N1bWVudCwgZGF0YSkge1xuXHRcdGFzc2VydERlZkFuZE5vdE51bGwoZG9jdW1lbnQsICdEb2N1bWVudCBrZXkgbXVzdCBiZSBzcGVjaWZpZWQuJyk7XG5cdFx0YXNzZXJ0T2JqZWN0KGRhdGEsICdEYXRhIG11c3QgYmUgc3BlY2lmaWVkLicpO1xuXG5cdFx0cmV0dXJuIHRoaXMud2VkZXBsb3lDbGllbnRcblx0XHRcdC51cmwodGhpcy53ZWRlcGxveUNsaWVudC5kYXRhVXJsXylcblx0XHRcdC5hdXRoKHRoaXMuaGVscGVyQXV0aFNjb3BlKVxuXHRcdFx0LnBhdGgoZG9jdW1lbnQpXG5cdFx0XHQucHV0KGRhdGEpXG5cdFx0XHQudGhlbihyZXNwb25zZSA9PiBhc3NlcnRSZXNwb25zZVN1Y2NlZWRlZChyZXNwb25zZSkpXG5cdFx0XHQudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5ib2R5KCkpO1xuXHR9XG5cblx0LyoqXG5cdCAqIERlbGV0ZXMgYSBbZG9jdW1lbnQvZmllbGQvY29sbGVjdGlvbl0uXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgS2V5IHVzZWQgdG8gZGVsZXRlIHRoZVxuXHQgKiBkb2N1bWVudC9maWVsZC9jb2xsZWN0aW9uLlxuXHQgKiBAcmV0dXJuIHshQ2FuY2VsbGFibGVQcm9taXNlfVxuXHQgKi9cblx0ZGVsZXRlKGtleSkge1xuXHRcdGFzc2VydERlZkFuZE5vdE51bGwoa2V5LCAnRG9jdW1lbnQvRmllbGQvQ29sbGVjdGlvbiBrZXkgbXVzdCBiZSBzcGVjaWZpZWQnKTtcblxuXHRcdHJldHVybiB0aGlzLndlZGVwbG95Q2xpZW50XG5cdFx0XHQudXJsKHRoaXMud2VkZXBsb3lDbGllbnQuZGF0YVVybF8pXG5cdFx0XHQuYXV0aCh0aGlzLmhlbHBlckF1dGhTY29wZSlcblx0XHRcdC5wYXRoKGtleSlcblx0XHRcdC5kZWxldGUoKVxuXHRcdFx0LnRoZW4ocmVzcG9uc2UgPT4gYXNzZXJ0UmVzcG9uc2VTdWNjZWVkZWQocmVzcG9uc2UpKVxuXHRcdFx0LnRoZW4oKCkgPT4gdW5kZWZpbmVkKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXRyaWV2ZSBkYXRhIGZyb20gYSBbZG9jdW1lbnQvZmllbGQvY29sbGVjdGlvbl0uXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgS2V5IHVzZWQgdG8gZGVsZXRlIHRoZSBkb2N1bWVudC9maWVsZC9jb2xsZWN0aW9uLlxuXHQgKiBAcmV0dXJuIHshQ2FuY2VsbGFibGVQcm9taXNlfVxuXHQgKi9cblx0Z2V0KGtleSkge1xuXHRcdGFzc2VydERlZkFuZE5vdE51bGwoa2V5LCAnRG9jdW1lbnQvRmllbGQvQ29sbGVjdGlvbiBrZXkgbXVzdCBiZSBzcGVjaWZpZWQnKTtcblxuXHRcdHRoaXMuYWRkRmlsdGVyc1RvUXVlcnlfKCk7XG5cblx0XHRyZXR1cm4gdGhpcy53ZWRlcGxveUNsaWVudFxuXHRcdFx0LnVybCh0aGlzLndlZGVwbG95Q2xpZW50LmRhdGFVcmxfKVxuXHRcdFx0LmF1dGgodGhpcy5oZWxwZXJBdXRoU2NvcGUpXG5cdFx0XHQucGF0aChrZXkpXG5cdFx0XHQuZ2V0KHRoaXMucXVlcnlfKVxuXHRcdFx0LnRoZW4ocmVzcG9uc2UgPT4gYXNzZXJ0UmVzcG9uc2VTdWNjZWVkZWQocmVzcG9uc2UpKVxuXHRcdFx0LnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuYm9keSgpKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXRyaWV2ZSBkYXRhIGZyb20gYSBbZG9jdW1lbnQvZmllbGQvY29sbGVjdGlvbl0gYW5kIHB1dCBpdCBpbiBhIHNlYXJjaFxuXHQgKiBmb3JtYXQuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgS2V5IHVzZWQgdG8gZGVsZXRlIHRoZSBkb2N1bWVudC9maWVsZC9jb2xsZWN0aW9uLlxuXHQgKiBAcmV0dXJuIHshQ2FuY2VsbGFibGVQcm9taXNlfVxuXHQgKi9cblx0c2VhcmNoKGtleSkge1xuXHRcdGFzc2VydERlZkFuZE5vdE51bGwoa2V5LCAnRG9jdW1lbnQvRmllbGQvQ29sbGVjdGlvbiBrZXkgbXVzdCBiZSBzcGVjaWZpZWQnKTtcblxuXHRcdHRoaXMub25TZWFyY2hfKCk7XG5cblx0XHR0aGlzLmFkZEZpbHRlcnNUb1F1ZXJ5XygpO1xuXG5cdFx0cmV0dXJuIHRoaXMud2VkZXBsb3lDbGllbnRcblx0XHRcdC51cmwodGhpcy53ZWRlcGxveUNsaWVudC5kYXRhVXJsXylcblx0XHRcdC5hdXRoKHRoaXMuaGVscGVyQXV0aFNjb3BlKVxuXHRcdFx0LnBhdGgoa2V5KVxuXHRcdFx0LmdldCh0aGlzLnF1ZXJ5Xylcblx0XHRcdC50aGVuKHJlc3BvbnNlID0+IGFzc2VydFJlc3BvbnNlU3VjY2VlZGVkKHJlc3BvbnNlKSlcblx0XHRcdC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmJvZHkoKSk7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBuZXcgc29ja2V0LmlvIGluc3RhbmNlLiBNb25pdG9yIHRoZSBhcnJpdmFsIG9mIG5ldyBicm9hZGNhc3RlZFxuXHQgKiBkYXRhLlxuXHQgKiBAcGFyYW0gIHtzdHJpbmd9IGNvbGxlY3Rpb24ga2V5L2NvbGxlY3Rpb24gdXNlZCB0byBmaW5kIG9yZ2FuaXplZCBkYXRhLlxuXHQgKiBAcGFyYW0gIHtPYmplY3Q9fSBvcHRfb3B0aW9ucyBPYmplY3Qgd2l0aCBTb2NrZXQgSU8gb3B0aW9ucy5cblx0ICogQHJldHVybiB7IWlvfSBTb2NrZXQgSU8gcmVmZXJlbmNlLiBTZXJ2ZXIgZXZlbnRzIGNhbiBiZSBsaXN0ZW5lZCBvbiBpdC5cblx0ICovXG5cdHdhdGNoKGNvbGxlY3Rpb24sIG9wdF9vcHRpb25zKSB7XG5cdFx0YXNzZXJ0RGVmQW5kTm90TnVsbChjb2xsZWN0aW9uLCAnQ29sbGVjdGlvbiBrZXkgbXVzdCBiZSBzcGVjaWZpZWQnKTtcblxuXHRcdHRoaXMuYWRkRmlsdGVyc1RvUXVlcnlfKCk7XG5cblx0XHRyZXR1cm4gdGhpcy53ZWRlcGxveUNsaWVudFxuXHRcdFx0LnVybCh0aGlzLndlZGVwbG95Q2xpZW50LmRhdGFVcmxfKVxuXHRcdFx0LmF1dGgodGhpcy5oZWxwZXJBdXRoU2NvcGUpXG5cdFx0XHQucGF0aChjb2xsZWN0aW9uKVxuXHRcdFx0LndhdGNoKHRoaXMucXVlcnlfLCBvcHRfb3B0aW9ucyk7XG5cdH1cblxuXHQvKipcblx0ICogR2V0cyB0aGUgY3VycmVudGwgdXNlZCBtYWluIHtAbGluayBGaWx0ZXJ9IG9iamVjdC4gSWYgbm9uZSBleGlzdHMgeWV0LCBhXG5cdCAqIG5ldyBvbmUgaXMgY3JlYXRlZC5cblx0ICogQHJldHVybiB7IVF1ZXJ5fVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRnZXRPckNyZWF0ZUZpbHRlcl8oKSB7XG5cdFx0aWYgKCF0aGlzLmZpbHRlcl8pIHtcblx0XHRcdHRoaXMuZmlsdGVyXyA9IG5ldyBGaWx0ZXIoKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuZmlsdGVyXztcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXRzIHRoZSBjdXJyZW50bHkgdXNlZCB7QGxpbmsgUXVlcnl9IG9iamVjdC4gSWYgbm9uZSBleGlzdHMgeWV0LFxuXHQgKiBhIG5ldyBvbmUgaXMgY3JlYXRlZC5cblx0ICogQHJldHVybiB7IVF1ZXJ5fVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRnZXRPckNyZWF0ZVF1ZXJ5XygpIHtcblx0XHRpZiAoIXRoaXMucXVlcnlfKSB7XG5cdFx0XHR0aGlzLnF1ZXJ5XyA9IG5ldyBRdWVyeSgpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5xdWVyeV87XG5cdH1cblxuXHQvKipcblx0ICogTG9hZCB0aGUgY3VycmVudGx5IHVzZWQgbWFpbiB7QGxpbmsgRmlsdGVyfSBvYmplY3QgaW50byB0aGUgY3VycmVudGx5XG5cdCAqIHVzZWQge0BsaW5rIFF1ZXJ5fS5cblx0ICogQGNoYWluYWJsZVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRhZGRGaWx0ZXJzVG9RdWVyeV8oKSB7XG5cdFx0aWYgKGNvcmUuaXNEZWYodGhpcy5maWx0ZXJfKSAmJiB0aGlzLnRvU2VhcmNoXyAhPT0gdHJ1ZSkge1xuXHRcdFx0dGhpcy5nZXRPckNyZWF0ZVF1ZXJ5XygpLmZpbHRlcih0aGlzLmZpbHRlcl8pO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdC8qKlxuXHQgKiBBZGRzIGEgc2VhcmNoIHRvIHRoaXMgcmVxdWVzdCdzIHtAbGluayBRdWVyeX0gaW5zdGFuY2UuXG5cdCAqIEBjaGFpbmFibGVcblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0b25TZWFyY2hfKCkge1xuXHRcdGlmIChjb3JlLmlzRGVmKHRoaXMuZmlsdGVyXykpIHtcblx0XHRcdHRoaXMuZ2V0T3JDcmVhdGVRdWVyeV8oKS5zZWFyY2godGhpcy5nZXRPckNyZWF0ZUZpbHRlcl8oKSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRocm93IEVycm9yKCdJdFxcJ3MgcmVxdWlyZWQgdG8gaGF2ZSBhIGNvbmRpdGlvbiBiZWZvcmUgdXNpbmcgYW4gXFwnc2VhcmNoKClcXCcgZm9yIHRoZSBmaXJzdCB0aW1lLicpO1xuXHRcdH1cblx0XHR0aGlzLnRvU2VhcmNoXyA9IHRydWU7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBEYXRhQXBpSGVscGVyO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIEFic3RyYWN0aW9uIGxheWVyIGZvciBzdHJpbmcgdG8gYmFzZTY0IGNvbnZlcnNpb25cbiAqIHJlZmVyZW5jZTogaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9ub2RlL2lzc3Vlcy8zNDYyXG4gKi9cbmNsYXNzIEJhc2U2NCB7XG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgYmFzZS02NCBlbmNvZGVkIEFTQ0lJIHN0cmluZyBmcm9tIGEgXCJzdHJpbmdcIiBvZiBiaW5hcnkgZGF0YS5cblx0ICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyB0byBiZSBlbmNvZGVkLlxuXHQgKiBAcmV0dXJuIHtzdHJpbmd9XG5cdCAqIEBzdGF0aWNcblx0ICovXG5cdHN0YXRpYyBlbmNvZGVTdHJpbmcoc3RyaW5nKSB7XG5cdFx0aWYgKHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRyZXR1cm4gYnRvYShzdHJpbmcpO1xuXHRcdH1cblxuXHRcdHJldHVybiBuZXcgQnVmZmVyKHN0cmluZy50b1N0cmluZygpLCAnYmluYXJ5Jyk7XG5cdH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQmFzZTY0O1xuIiwiLyohXG4gKiBQcm9taXNlcyBwb2x5ZmlsbCBmcm9tIEdvb2dsZSdzIENsb3N1cmUgTGlicmFyeS5cbiAqXG4gKiAgICAgIENvcHlyaWdodCAyMDEzIFRoZSBDbG9zdXJlIExpYnJhcnkgQXV0aG9ycy4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cbiAqXG4gKiBOT1RFKGVkdWFyZG8pOiBQcm9taXNlIHN1cHBvcnQgaXMgbm90IHJlYWR5IG9uIGFsbCBzdXBwb3J0ZWQgYnJvd3NlcnMsXG4gKiB0aGVyZWZvcmUgbWV0YWwtcHJvbWlzZSBpcyB0ZW1wb3JhcmlseSB1c2luZyBHb29nbGUncyBwcm9taXNlcyBhcyBwb2x5ZmlsbC5cbiAqIEl0IHN1cHBvcnRzIGNhbmNlbGxhYmxlIHByb21pc2VzIGFuZCBoYXMgY2xlYW4gYW5kIGZhc3QgaW1wbGVtZW50YXRpb24uXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBpc0RlZiwgaXNGdW5jdGlvbiwgaXNPYmplY3QgfSBmcm9tICdtZXRhbCc7XG5pbXBvcnQgeyBhc3luYyB9IGZyb20gJ21ldGFsJztcblxuLyoqXG4gKiBQcm92aWRlcyBhIG1vcmUgc3RyaWN0IGludGVyZmFjZSBmb3IgVGhlbmFibGVzIGluIHRlcm1zIG9mXG4gKiBodHRwOi8vcHJvbWlzZXNhcGx1cy5jb20gZm9yIGludGVyb3Agd2l0aCB7QHNlZSBDYW5jZWxsYWJsZVByb21pc2V9LlxuICpcbiAqIEBpbnRlcmZhY2VcbiAqIEBleHRlbmRzIHtJVGhlbmFibGUuPFRZUEU+fVxuICogQHRlbXBsYXRlIFRZUEVcbiAqL1xudmFyIFRoZW5hYmxlID0gZnVuY3Rpb24oKSB7fTtcblxuLyoqXG4gKiBBZGRzIGNhbGxiYWNrcyB0aGF0IHdpbGwgb3BlcmF0ZSBvbiB0aGUgcmVzdWx0IG9mIHRoZSBUaGVuYWJsZSwgcmV0dXJuaW5nIGFcbiAqIG5ldyBjaGlsZCBQcm9taXNlLlxuICpcbiAqIElmIHRoZSBUaGVuYWJsZSBpcyBmdWxmaWxsZWQsIHRoZSB7QGNvZGUgb25GdWxmaWxsZWR9IGNhbGxiYWNrIHdpbGwgYmVcbiAqIGludm9rZWQgd2l0aCB0aGUgZnVsZmlsbG1lbnQgdmFsdWUgYXMgYXJndW1lbnQsIGFuZCB0aGUgY2hpbGQgUHJvbWlzZSB3aWxsXG4gKiBiZSBmdWxmaWxsZWQgd2l0aCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBjYWxsYmFjay4gSWYgdGhlIGNhbGxiYWNrIHRocm93c1xuICogYW4gZXhjZXB0aW9uLCB0aGUgY2hpbGQgUHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkIHdpdGggdGhlIHRocm93biB2YWx1ZVxuICogaW5zdGVhZC5cbiAqXG4gKiBJZiB0aGUgVGhlbmFibGUgaXMgcmVqZWN0ZWQsIHRoZSB7QGNvZGUgb25SZWplY3RlZH0gY2FsbGJhY2sgd2lsbCBiZSBpbnZva2VkXG4gKiB3aXRoIHRoZSByZWplY3Rpb24gcmVhc29uIGFzIGFyZ3VtZW50LCBhbmQgdGhlIGNoaWxkIFByb21pc2Ugd2lsbCBiZSByZWplY3RlZFxuICogd2l0aCB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBjYWxsYmFjayBvciB0aHJvd24gdmFsdWUuXG4gKlxuICogQHBhcmFtIHs/KGZ1bmN0aW9uKHRoaXM6VEhJUywgVFlQRSk6XG4gKiAgICAgICAgICAgICAoUkVTVUxUfElUaGVuYWJsZS48UkVTVUxUPnxUaGVuYWJsZSkpPX0gb3B0X29uRnVsZmlsbGVkIEFcbiAqICAgICBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgaW52b2tlZCB3aXRoIHRoZSBmdWxmaWxsbWVudCB2YWx1ZSBpZiB0aGUgUHJvbWlzZVxuICogICAgIGlzIGZ1bGxmaWxsZWQuXG4gKiBAcGFyYW0gez8oZnVuY3Rpb24oKik6ICopPX0gb3B0X29uUmVqZWN0ZWQgQSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgaW52b2tlZFxuICogICAgIHdpdGggdGhlIHJlamVjdGlvbiByZWFzb24gaWYgdGhlIFByb21pc2UgaXMgcmVqZWN0ZWQuXG4gKiBAcGFyYW0ge1RISVM9fSBvcHRfY29udGV4dCBBbiBvcHRpb25hbCBjb250ZXh0IG9iamVjdCB0aGF0IHdpbGwgYmUgdGhlXG4gKiAgICAgZXhlY3V0aW9uIGNvbnRleHQgZm9yIHRoZSBjYWxsYmFja3MuIEJ5IGRlZmF1bHQsIGZ1bmN0aW9ucyBhcmUgZXhlY3V0ZWRcbiAqICAgICB3aXRoIHRoZSBkZWZhdWx0IHRoaXMuXG4gKiBAcmV0dXJuIHshQ2FuY2VsbGFibGVQcm9taXNlLjxSRVNVTFQ+fSBBIG5ldyBQcm9taXNlIHRoYXQgd2lsbCByZWNlaXZlIHRoZVxuICogICAgIHJlc3VsdCBvZiB0aGUgZnVsZmlsbG1lbnQgb3IgcmVqZWN0aW9uIGNhbGxiYWNrLlxuICogQHRlbXBsYXRlIFJFU1VMVCxUSElTXG4gKi9cblRoZW5hYmxlLnByb3RvdHlwZS50aGVuID0gZnVuY3Rpb24oKSB7fTtcblxuXG4vKipcbiAqIEFuIGV4cGFuZG8gcHJvcGVydHkgdG8gaW5kaWNhdGUgdGhhdCBhbiBvYmplY3QgaW1wbGVtZW50c1xuICoge0Bjb2RlIFRoZW5hYmxlfS5cbiAqXG4gKiB7QHNlZSBhZGRJbXBsZW1lbnRhdGlvbn0uXG4gKlxuICogQGNvbnN0XG4gKi9cblRoZW5hYmxlLklNUExFTUVOVEVEX0JZX1BST1AgPSAnJGdvb2dfVGhlbmFibGUnO1xuXG5cbi8qKlxuICogTWFya3MgYSBnaXZlbiBjbGFzcyAoY29uc3RydWN0b3IpIGFzIGFuIGltcGxlbWVudGF0aW9uIG9mIFRoZW5hYmxlLCBzb1xuICogdGhhdCB3ZSBjYW4gcXVlcnkgdGhhdCBmYWN0IGF0IHJ1bnRpbWUuIFRoZSBjbGFzcyBtdXN0IGhhdmUgYWxyZWFkeVxuICogaW1wbGVtZW50ZWQgdGhlIGludGVyZmFjZS5cbiAqIEV4cG9ydHMgYSAndGhlbicgbWV0aG9kIG9uIHRoZSBjb25zdHJ1Y3RvciBwcm90b3R5cGUsIHNvIHRoYXQgdGhlIG9iamVjdHNcbiAqIGFsc28gaW1wbGVtZW50IHRoZSBleHRlcm4ge0BzZWUgVGhlbmFibGV9IGludGVyZmFjZSBmb3IgaW50ZXJvcCB3aXRoXG4gKiBvdGhlciBQcm9taXNlIGltcGxlbWVudGF0aW9ucy5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24obmV3OlRoZW5hYmxlLC4uLls/XSl9IGN0b3IgVGhlIGNsYXNzIGNvbnN0cnVjdG9yLiBUaGVcbiAqICAgICBjb3JyZXNwb25kaW5nIGNsYXNzIG11c3QgaGF2ZSBhbHJlYWR5IGltcGxlbWVudGVkIHRoZSBpbnRlcmZhY2UuXG4gKi9cblRoZW5hYmxlLmFkZEltcGxlbWVudGF0aW9uID0gZnVuY3Rpb24oY3Rvcikge1xuICBjdG9yLnByb3RvdHlwZS50aGVuID0gY3Rvci5wcm90b3R5cGUudGhlbjtcbiAgY3Rvci5wcm90b3R5cGUuJGdvb2dfVGhlbmFibGUgPSB0cnVlO1xufTtcblxuXG4vKipcbiAqIEBwYXJhbSB7Kn0gb2JqZWN0XG4gKiBAcmV0dXJuIHtib29sZWFufSBXaGV0aGVyIGEgZ2l2ZW4gaW5zdGFuY2UgaW1wbGVtZW50cyB7QGNvZGUgVGhlbmFibGV9LlxuICogICAgIFRoZSBjbGFzcy9zdXBlcmNsYXNzIG9mIHRoZSBpbnN0YW5jZSBtdXN0IGNhbGwge0Bjb2RlIGFkZEltcGxlbWVudGF0aW9ufS5cbiAqL1xuVGhlbmFibGUuaXNJbXBsZW1lbnRlZEJ5ID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gIGlmICghb2JqZWN0KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHRyeSB7XG4gICAgcmV0dXJuICEhb2JqZWN0LiRnb29nX1RoZW5hYmxlO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gUHJvcGVydHkgYWNjZXNzIHNlZW1zIHRvIGJlIGZvcmJpZGRlbi5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBMaWtlIGJpbmQoKSwgZXhjZXB0IHRoYXQgYSAndGhpcyBvYmplY3QnIGlzIG5vdCByZXF1aXJlZC4gVXNlZnVsIHdoZW4gdGhlXG4gKiB0YXJnZXQgZnVuY3Rpb24gaXMgYWxyZWFkeSBib3VuZC5cbiAqXG4gKiBVc2FnZTpcbiAqIHZhciBnID0gcGFydGlhbChmLCBhcmcxLCBhcmcyKTtcbiAqIGcoYXJnMywgYXJnNCk7XG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gQSBmdW5jdGlvbiB0byBwYXJ0aWFsbHkgYXBwbHkuXG4gKiBAcGFyYW0gey4uLip9IHZhcl9hcmdzIEFkZGl0aW9uYWwgYXJndW1lbnRzIHRoYXQgYXJlIHBhcnRpYWxseSBhcHBsaWVkIHRvIGZuLlxuICogQHJldHVybiB7IUZ1bmN0aW9ufSBBIHBhcnRpYWxseS1hcHBsaWVkIGZvcm0gb2YgdGhlIGZ1bmN0aW9uIGJpbmQoKSB3YXNcbiAqICAgICBpbnZva2VkIGFzIGEgbWV0aG9kIG9mLlxuICovXG52YXIgcGFydGlhbCA9IGZ1bmN0aW9uKGZuKSB7XG4gIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgIC8vIENsb25lIHRoZSBhcnJheSAod2l0aCBzbGljZSgpKSBhbmQgYXBwZW5kIGFkZGl0aW9uYWwgYXJndW1lbnRzXG4gICAgLy8gdG8gdGhlIGV4aXN0aW5nIGFyZ3VtZW50cy5cbiAgICB2YXIgbmV3QXJncyA9IGFyZ3Muc2xpY2UoKTtcbiAgICBuZXdBcmdzLnB1c2guYXBwbHkobmV3QXJncywgYXJndW1lbnRzKTtcbiAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgbmV3QXJncyk7XG4gIH07XG59O1xuXG4vKipcbiAqIFByb21pc2VzIHByb3ZpZGUgYSByZXN1bHQgdGhhdCBtYXkgYmUgcmVzb2x2ZWQgYXN5bmNocm9ub3VzbHkuIEEgUHJvbWlzZSBtYXlcbiAqIGJlIHJlc29sdmVkIGJ5IGJlaW5nIGZ1bGZpbGxlZCBvciByZWplY3RlZCB3aXRoIGEgdmFsdWUsIHdoaWNoIHdpbGwgYmUga25vd25cbiAqIGFzIHRoZSBmdWxmaWxsbWVudCB2YWx1ZSBvciB0aGUgcmVqZWN0aW9uIHJlYXNvbi4gV2hldGhlciBmdWxmaWxsZWQgb3JcbiAqIHJlamVjdGVkLCB0aGUgUHJvbWlzZSByZXN1bHQgaXMgaW1tdXRhYmxlIG9uY2UgaXQgaXMgc2V0LlxuICpcbiAqIFByb21pc2VzIG1heSByZXByZXNlbnQgcmVzdWx0cyBvZiBhbnkgdHlwZSwgaW5jbHVkaW5nIHVuZGVmaW5lZC4gUmVqZWN0aW9uXG4gKiByZWFzb25zIGFyZSB0eXBpY2FsbHkgRXJyb3JzLCBidXQgbWF5IGFsc28gYmUgb2YgYW55IHR5cGUuIENsb3N1cmUgUHJvbWlzZXNcbiAqIGFsbG93IGZvciBvcHRpb25hbCB0eXBlIGFubm90YXRpb25zIHRoYXQgZW5mb3JjZSB0aGF0IGZ1bGZpbGxtZW50IHZhbHVlcyBhcmVcbiAqIG9mIHRoZSBhcHByb3ByaWF0ZSB0eXBlcyBhdCBjb21waWxlIHRpbWUuXG4gKlxuICogVGhlIHJlc3VsdCBvZiBhIFByb21pc2UgaXMgYWNjZXNzaWJsZSBieSBjYWxsaW5nIHtAY29kZSB0aGVufSBhbmQgcmVnaXN0ZXJpbmdcbiAqIHtAY29kZSBvbkZ1bGZpbGxlZH0gYW5kIHtAY29kZSBvblJlamVjdGVkfSBjYWxsYmFja3MuIE9uY2UgdGhlIFByb21pc2VcbiAqIHJlc29sdmVzLCB0aGUgcmVsZXZhbnQgY2FsbGJhY2tzIGFyZSBpbnZva2VkIHdpdGggdGhlIGZ1bGZpbGxtZW50IHZhbHVlIG9yXG4gKiByZWplY3Rpb24gcmVhc29uIGFzIGFyZ3VtZW50LiBDYWxsYmFja3MgYXJlIGFsd2F5cyBpbnZva2VkIGluIHRoZSBvcmRlciB0aGV5XG4gKiB3ZXJlIHJlZ2lzdGVyZWQsIGV2ZW4gd2hlbiBhZGRpdGlvbmFsIHtAY29kZSB0aGVufSBjYWxscyBhcmUgbWFkZSBmcm9tIGluc2lkZVxuICogYW5vdGhlciBjYWxsYmFjay4gQSBjYWxsYmFjayBpcyBhbHdheXMgcnVuIGFzeW5jaHJvbm91c2x5IHNvbWV0aW1lIGFmdGVyIHRoZVxuICogc2NvcGUgY29udGFpbmluZyB0aGUgcmVnaXN0ZXJpbmcge0Bjb2RlIHRoZW59IGludm9jYXRpb24gaGFzIHJldHVybmVkLlxuICpcbiAqIElmIGEgUHJvbWlzZSBpcyByZXNvbHZlZCB3aXRoIGFub3RoZXIgUHJvbWlzZSwgdGhlIGZpcnN0IFByb21pc2Ugd2lsbCBibG9ja1xuICogdW50aWwgdGhlIHNlY29uZCBpcyByZXNvbHZlZCwgYW5kIHRoZW4gYXNzdW1lcyB0aGUgc2FtZSByZXN1bHQgYXMgdGhlIHNlY29uZFxuICogUHJvbWlzZS4gVGhpcyBhbGxvd3MgUHJvbWlzZXMgdG8gZGVwZW5kIG9uIHRoZSByZXN1bHRzIG9mIG90aGVyIFByb21pc2VzLFxuICogbGlua2luZyB0b2dldGhlciBtdWx0aXBsZSBhc3luY2hyb25vdXMgb3BlcmF0aW9ucy5cbiAqXG4gKiBUaGlzIGltcGxlbWVudGF0aW9uIGlzIGNvbXBhdGlibGUgd2l0aCB0aGUgUHJvbWlzZXMvQSsgc3BlY2lmaWNhdGlvbiBhbmRcbiAqIHBhc3NlcyB0aGF0IHNwZWNpZmljYXRpb24ncyBjb25mb3JtYW5jZSB0ZXN0IHN1aXRlLiBBIENsb3N1cmUgUHJvbWlzZSBtYXkgYmVcbiAqIHJlc29sdmVkIHdpdGggYSBQcm9taXNlIGluc3RhbmNlIChvciBzdWZmaWNpZW50bHkgY29tcGF0aWJsZSBQcm9taXNlLWxpa2VcbiAqIG9iamVjdCkgY3JlYXRlZCBieSBvdGhlciBQcm9taXNlIGltcGxlbWVudGF0aW9ucy4gRnJvbSB0aGUgc3BlY2lmaWNhdGlvbixcbiAqIFByb21pc2UtbGlrZSBvYmplY3RzIGFyZSBrbm93biBhcyBcIlRoZW5hYmxlc1wiLlxuICpcbiAqIEBzZWUgaHR0cDovL3Byb21pc2VzYXBsdXMuY29tL1xuICpcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oXG4gKiAgICAgICAgICAgICB0aGlzOlJFU09MVkVSX0NPTlRFWFQsXG4gKiAgICAgICAgICAgICBmdW5jdGlvbigoVFlQRXxJVGhlbmFibGUuPFRZUEU+fFRoZW5hYmxlKSksXG4gKiAgICAgICAgICAgICBmdW5jdGlvbigqKSk6IHZvaWR9IHJlc29sdmVyXG4gKiAgICAgSW5pdGlhbGl6YXRpb24gZnVuY3Rpb24gdGhhdCBpcyBpbnZva2VkIGltbWVkaWF0ZWx5IHdpdGgge0Bjb2RlIHJlc29sdmV9XG4gKiAgICAgYW5kIHtAY29kZSByZWplY3R9IGZ1bmN0aW9ucyBhcyBhcmd1bWVudHMuIFRoZSBQcm9taXNlIGlzIHJlc29sdmVkIG9yXG4gKiAgICAgcmVqZWN0ZWQgd2l0aCB0aGUgZmlyc3QgYXJndW1lbnQgcGFzc2VkIHRvIGVpdGhlciBmdW5jdGlvbi5cbiAqIEBwYXJhbSB7UkVTT0xWRVJfQ09OVEVYVD19IG9wdF9jb250ZXh0IEFuIG9wdGlvbmFsIGNvbnRleHQgZm9yIGV4ZWN1dGluZyB0aGVcbiAqICAgICByZXNvbHZlciBmdW5jdGlvbi4gSWYgdW5zcGVjaWZpZWQsIHRoZSByZXNvbHZlciBmdW5jdGlvbiB3aWxsIGJlIGV4ZWN1dGVkXG4gKiAgICAgaW4gdGhlIGRlZmF1bHQgc2NvcGUuXG4gKiBAY29uc3RydWN0b3JcbiAqIEBzdHJ1Y3RcbiAqIEBmaW5hbFxuICogQGltcGxlbWVudHMge1RoZW5hYmxlLjxUWVBFPn1cbiAqIEB0ZW1wbGF0ZSBUWVBFLFJFU09MVkVSX0NPTlRFWFRcbiAqL1xudmFyIENhbmNlbGxhYmxlUHJvbWlzZSA9IGZ1bmN0aW9uKHJlc29sdmVyLCBvcHRfY29udGV4dCkge1xuICAvKipcbiAgICogVGhlIGludGVybmFsIHN0YXRlIG9mIHRoaXMgUHJvbWlzZS4gRWl0aGVyIFBFTkRJTkcsIEZVTEZJTExFRCwgUkVKRUNURUQsIG9yXG4gICAqIEJMT0NLRUQuXG4gICAqIEBwcml2YXRlIHtDYW5jZWxsYWJsZVByb21pc2UuU3RhdGVffVxuICAgKi9cbiAgdGhpcy5zdGF0ZV8gPSBDYW5jZWxsYWJsZVByb21pc2UuU3RhdGVfLlBFTkRJTkc7XG5cbiAgLyoqXG4gICAqIFRoZSByZXNvbHZlZCByZXN1bHQgb2YgdGhlIFByb21pc2UuIEltbXV0YWJsZSBvbmNlIHNldCB3aXRoIGVpdGhlciBhXG4gICAqIGZ1bGZpbGxtZW50IHZhbHVlIG9yIHJlamVjdGlvbiByZWFzb24uXG4gICAqIEBwcml2YXRlIHsqfVxuICAgKi9cbiAgdGhpcy5yZXN1bHRfID0gdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBGb3IgUHJvbWlzZXMgY3JlYXRlZCBieSBjYWxsaW5nIHtAY29kZSB0aGVuKCl9LCB0aGUgb3JpZ2luYXRpbmcgcGFyZW50LlxuICAgKiBAcHJpdmF0ZSB7Q2FuY2VsbGFibGVQcm9taXNlfVxuICAgKi9cbiAgdGhpcy5wYXJlbnRfID0gbnVsbDtcblxuICAvKipcbiAgICogVGhlIGxpc3Qgb2Yge0Bjb2RlIG9uRnVsZmlsbGVkfSBhbmQge0Bjb2RlIG9uUmVqZWN0ZWR9IGNhbGxiYWNrcyBhZGRlZCB0b1xuICAgKiB0aGlzIFByb21pc2UgYnkgY2FsbHMgdG8ge0Bjb2RlIHRoZW4oKX0uXG4gICAqIEBwcml2YXRlIHtBcnJheS48Q2FuY2VsbGFibGVQcm9taXNlLkNhbGxiYWNrRW50cnlfPn1cbiAgICovXG4gIHRoaXMuY2FsbGJhY2tFbnRyaWVzXyA9IG51bGw7XG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhlIFByb21pc2UgaXMgaW4gdGhlIHF1ZXVlIG9mIFByb21pc2VzIHRvIGV4ZWN1dGUuXG4gICAqIEBwcml2YXRlIHtib29sZWFufVxuICAgKi9cbiAgdGhpcy5leGVjdXRpbmdfID0gZmFsc2U7XG5cbiAgaWYgKENhbmNlbGxhYmxlUHJvbWlzZS5VTkhBTkRMRURfUkVKRUNUSU9OX0RFTEFZID4gMCkge1xuICAgIC8qKlxuICAgICAqIEEgdGltZW91dCBJRCB1c2VkIHdoZW4gdGhlIHtAY29kZSBVTkhBTkRMRURfUkVKRUNUSU9OX0RFTEFZfSBpcyBncmVhdGVyXG4gICAgICogdGhhbiAwIG1pbGxpc2Vjb25kcy4gVGhlIElEIGlzIHNldCB3aGVuIHRoZSBQcm9taXNlIGlzIHJlamVjdGVkLCBhbmRcbiAgICAgKiBjbGVhcmVkIG9ubHkgaWYgYW4ge0Bjb2RlIG9uUmVqZWN0ZWR9IGNhbGxiYWNrIGlzIGludm9rZWQgZm9yIHRoZVxuICAgICAqIFByb21pc2UgKG9yIG9uZSBvZiBpdHMgZGVzY2VuZGFudHMpIGJlZm9yZSB0aGUgZGVsYXkgaXMgZXhjZWVkZWQuXG4gICAgICpcbiAgICAgKiBJZiB0aGUgcmVqZWN0aW9uIGlzIG5vdCBoYW5kbGVkIGJlZm9yZSB0aGUgdGltZW91dCBjb21wbGV0ZXMsIHRoZVxuICAgICAqIHJlamVjdGlvbiByZWFzb24gaXMgcGFzc2VkIHRvIHRoZSB1bmhhbmRsZWQgcmVqZWN0aW9uIGhhbmRsZXIuXG4gICAgICogQHByaXZhdGUge251bWJlcn1cbiAgICAgKi9cbiAgICB0aGlzLnVuaGFuZGxlZFJlamVjdGlvbklkXyA9IDA7XG4gIH0gZWxzZSBpZiAoQ2FuY2VsbGFibGVQcm9taXNlLlVOSEFORExFRF9SRUpFQ1RJT05fREVMQVkgPT09IDApIHtcbiAgICAvKipcbiAgICAgKiBXaGVuIHRoZSB7QGNvZGUgVU5IQU5ETEVEX1JFSkVDVElPTl9ERUxBWX0gaXMgc2V0IHRvIDAgbWlsbGlzZWNvbmRzLCBhXG4gICAgICogYm9vbGVhbiB0aGF0IGlzIHNldCBpZiB0aGUgUHJvbWlzZSBpcyByZWplY3RlZCwgYW5kIHJlc2V0IHRvIGZhbHNlIGlmIGFuXG4gICAgICoge0Bjb2RlIG9uUmVqZWN0ZWR9IGNhbGxiYWNrIGlzIGludm9rZWQgZm9yIHRoZSBQcm9taXNlIChvciBvbmUgb2YgaXRzXG4gICAgICogZGVzY2VuZGFudHMpLiBJZiB0aGUgcmVqZWN0aW9uIGlzIG5vdCBoYW5kbGVkIGJlZm9yZSB0aGUgbmV4dCB0aW1lc3RlcCxcbiAgICAgKiB0aGUgcmVqZWN0aW9uIHJlYXNvbiBpcyBwYXNzZWQgdG8gdGhlIHVuaGFuZGxlZCByZWplY3Rpb24gaGFuZGxlci5cbiAgICAgKiBAcHJpdmF0ZSB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB0aGlzLmhhZFVuaGFuZGxlZFJlamVjdGlvbl8gPSBmYWxzZTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHJlc29sdmVyLmNhbGwoXG4gICAgICBvcHRfY29udGV4dCwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgc2VsZi5yZXNvbHZlXyhDYW5jZWxsYWJsZVByb21pc2UuU3RhdGVfLkZVTEZJTExFRCwgdmFsdWUpO1xuICAgICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XG4gICAgICAgIHNlbGYucmVzb2x2ZV8oQ2FuY2VsbGFibGVQcm9taXNlLlN0YXRlXy5SRUpFQ1RFRCwgcmVhc29uKTtcbiAgICAgIH0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgdGhpcy5yZXNvbHZlXyhDYW5jZWxsYWJsZVByb21pc2UuU3RhdGVfLlJFSkVDVEVELCBlKTtcbiAgfVxufTtcblxuLyoqXG4gKiBUaGUgZGVsYXkgaW4gbWlsbGlzZWNvbmRzIGJlZm9yZSBhIHJlamVjdGVkIFByb21pc2UncyByZWFzb24gaXMgcGFzc2VkIHRvXG4gKiB0aGUgcmVqZWN0aW9uIGhhbmRsZXIuIEJ5IGRlZmF1bHQsIHRoZSByZWplY3Rpb24gaGFuZGxlciByZXRocm93cyB0aGVcbiAqIHJlamVjdGlvbiByZWFzb24gc28gdGhhdCBpdCBhcHBlYXJzIGluIHRoZSBkZXZlbG9wZXIgY29uc29sZSBvclxuICoge0Bjb2RlIHdpbmRvdy5vbmVycm9yfSBoYW5kbGVyLlxuICogUmVqZWN0aW9ucyBhcmUgcmV0aHJvd24gYXMgcXVpY2tseSBhcyBwb3NzaWJsZSBieSBkZWZhdWx0LiBBIG5lZ2F0aXZlIHZhbHVlXG4gKiBkaXNhYmxlcyByZWplY3Rpb24gaGFuZGxpbmcgZW50aXJlbHkuXG4gKiBAdHlwZSB7bnVtYmVyfVxuICovXG5DYW5jZWxsYWJsZVByb21pc2UuVU5IQU5ETEVEX1JFSkVDVElPTl9ERUxBWSA9IDA7XG5cblxuLyoqXG4gKiBUaGUgcG9zc2libGUgaW50ZXJuYWwgc3RhdGVzIGZvciBhIFByb21pc2UuIFRoZXNlIHN0YXRlcyBhcmUgbm90IGRpcmVjdGx5XG4gKiBvYnNlcnZhYmxlIHRvIGV4dGVybmFsIGNhbGxlcnMuXG4gKiBAZW51bSB7bnVtYmVyfVxuICogQHByaXZhdGVcbiAqL1xuQ2FuY2VsbGFibGVQcm9taXNlLlN0YXRlXyA9IHtcbiAgLyoqIFRoZSBQcm9taXNlIGlzIHdhaXRpbmcgZm9yIHJlc29sdXRpb24uICovXG4gIFBFTkRJTkc6IDAsXG5cbiAgLyoqIFRoZSBQcm9taXNlIGlzIGJsb2NrZWQgd2FpdGluZyBmb3IgdGhlIHJlc3VsdCBvZiBhbm90aGVyIFRoZW5hYmxlLiAqL1xuICBCTE9DS0VEOiAxLFxuXG4gIC8qKiBUaGUgUHJvbWlzZSBoYXMgYmVlbiByZXNvbHZlZCB3aXRoIGEgZnVsZmlsbG1lbnQgdmFsdWUuICovXG4gIEZVTEZJTExFRDogMixcblxuICAvKiogVGhlIFByb21pc2UgaGFzIGJlZW4gcmVzb2x2ZWQgd2l0aCBhIHJlamVjdGlvbiByZWFzb24uICovXG4gIFJFSkVDVEVEOiAzXG59O1xuXG5cbi8qKlxuICogVHlwZWRlZiBmb3IgZW50cmllcyBpbiB0aGUgY2FsbGJhY2sgY2hhaW4uIEVhY2ggY2FsbCB0byB7QGNvZGUgdGhlbn0sXG4gKiB7QGNvZGUgdGhlbkNhdGNofSwgb3Ige0Bjb2RlIHRoZW5BbHdheXN9IGNyZWF0ZXMgYW4gZW50cnkgY29udGFpbmluZyB0aGVcbiAqIGZ1bmN0aW9ucyB0aGF0IG1heSBiZSBpbnZva2VkIG9uY2UgdGhlIFByb21pc2UgaXMgcmVzb2x2ZWQuXG4gKlxuICogQHR5cGVkZWYge3tcbiAqICAgY2hpbGQ6IENhbmNlbGxhYmxlUHJvbWlzZSxcbiAqICAgb25GdWxmaWxsZWQ6IGZ1bmN0aW9uKCopLFxuICogICBvblJlamVjdGVkOiBmdW5jdGlvbigqKVxuICogfX1cbiAqIEBwcml2YXRlXG4gKi9cbkNhbmNlbGxhYmxlUHJvbWlzZS5DYWxsYmFja0VudHJ5XyA9IG51bGw7XG5cblxuLyoqXG4gKiBAcGFyYW0geyhUWVBFfFRoZW5hYmxlLjxUWVBFPnxUaGVuYWJsZSk9fSBvcHRfdmFsdWVcbiAqIEByZXR1cm4geyFDYW5jZWxsYWJsZVByb21pc2UuPFRZUEU+fSBBIG5ldyBQcm9taXNlIHRoYXQgaXMgaW1tZWRpYXRlbHkgcmVzb2x2ZWRcbiAqICAgICB3aXRoIHRoZSBnaXZlbiB2YWx1ZS5cbiAqIEB0ZW1wbGF0ZSBUWVBFXG4gKi9cbkNhbmNlbGxhYmxlUHJvbWlzZS5yZXNvbHZlID0gZnVuY3Rpb24ob3B0X3ZhbHVlKSB7XG4gIHJldHVybiBuZXcgQ2FuY2VsbGFibGVQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiAgICAgIHJlc29sdmUob3B0X3ZhbHVlKTtcbiAgICB9KTtcbn07XG5cblxuLyoqXG4gKiBAcGFyYW0geyo9fSBvcHRfcmVhc29uXG4gKiBAcmV0dXJuIHshQ2FuY2VsbGFibGVQcm9taXNlfSBBIG5ldyBQcm9taXNlIHRoYXQgaXMgaW1tZWRpYXRlbHkgcmVqZWN0ZWQgd2l0aCB0aGVcbiAqICAgICBnaXZlbiByZWFzb24uXG4gKi9cbkNhbmNlbGxhYmxlUHJvbWlzZS5yZWplY3QgPSBmdW5jdGlvbihvcHRfcmVhc29uKSB7XG4gIHJldHVybiBuZXcgQ2FuY2VsbGFibGVQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgcmVqZWN0KG9wdF9yZWFzb24pO1xuICAgIH0pO1xufTtcblxuXG4vKipcbiAqIEBwYXJhbSB7IUFycmF5LjwhKFRoZW5hYmxlLjxUWVBFPnxUaGVuYWJsZSk+fSBwcm9taXNlc1xuICogQHJldHVybiB7IUNhbmNlbGxhYmxlUHJvbWlzZS48VFlQRT59IEEgUHJvbWlzZSB0aGF0IHJlY2VpdmVzIHRoZSByZXN1bHQgb2YgdGhlXG4gKiAgICAgZmlyc3QgUHJvbWlzZSAob3IgUHJvbWlzZS1saWtlKSBpbnB1dCB0byBjb21wbGV0ZS5cbiAqIEB0ZW1wbGF0ZSBUWVBFXG4gKi9cbkNhbmNlbGxhYmxlUHJvbWlzZS5yYWNlID0gZnVuY3Rpb24ocHJvbWlzZXMpIHtcbiAgcmV0dXJuIG5ldyBDYW5jZWxsYWJsZVByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBpZiAoIXByb21pc2VzLmxlbmd0aCkge1xuICAgICAgICByZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpID0gMCwgcHJvbWlzZTsgKHByb21pc2UgPSBwcm9taXNlc1tpXSk7IGkrKykge1xuICAgICAgICBwcm9taXNlLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgIH1cbiAgICB9KTtcbn07XG5cblxuLyoqXG4gKiBAcGFyYW0geyFBcnJheS48IShUaGVuYWJsZS48VFlQRT58VGhlbmFibGUpPn0gcHJvbWlzZXNcbiAqIEByZXR1cm4geyFDYW5jZWxsYWJsZVByb21pc2UuPCFBcnJheS48VFlQRT4+fSBBIFByb21pc2UgdGhhdCByZWNlaXZlcyBhIGxpc3Qgb2ZcbiAqICAgICBldmVyeSBmdWxmaWxsZWQgdmFsdWUgb25jZSBldmVyeSBpbnB1dCBQcm9taXNlIChvciBQcm9taXNlLWxpa2UpIGlzXG4gKiAgICAgc3VjY2Vzc2Z1bGx5IGZ1bGZpbGxlZCwgb3IgaXMgcmVqZWN0ZWQgYnkgdGhlIGZpcnN0IHJlamVjdGlvbiByZXN1bHQuXG4gKiBAdGVtcGxhdGUgVFlQRVxuICovXG5DYW5jZWxsYWJsZVByb21pc2UuYWxsID0gZnVuY3Rpb24ocHJvbWlzZXMpIHtcbiAgcmV0dXJuIG5ldyBDYW5jZWxsYWJsZVByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgdG9GdWxmaWxsID0gcHJvbWlzZXMubGVuZ3RoO1xuICAgICAgdmFyIHZhbHVlcyA9IFtdO1xuXG4gICAgICBpZiAoIXRvRnVsZmlsbCkge1xuICAgICAgICByZXNvbHZlKHZhbHVlcyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIG9uRnVsZmlsbCA9IGZ1bmN0aW9uKGluZGV4LCB2YWx1ZSkge1xuICAgICAgICB0b0Z1bGZpbGwtLTtcbiAgICAgICAgdmFsdWVzW2luZGV4XSA9IHZhbHVlO1xuICAgICAgICBpZiAodG9GdWxmaWxsID09PSAwKSB7XG4gICAgICAgICAgcmVzb2x2ZSh2YWx1ZXMpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB2YXIgb25SZWplY3QgPSBmdW5jdGlvbihyZWFzb24pIHtcbiAgICAgICAgcmVqZWN0KHJlYXNvbik7XG4gICAgICB9O1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgcHJvbWlzZTsgKHByb21pc2UgPSBwcm9taXNlc1tpXSk7IGkrKykge1xuICAgICAgICBwcm9taXNlLnRoZW4ocGFydGlhbChvbkZ1bGZpbGwsIGkpLCBvblJlamVjdCk7XG4gICAgICB9XG4gICAgfSk7XG59O1xuXG5cbi8qKlxuICogQHBhcmFtIHshQXJyYXkuPCEoVGhlbmFibGUuPFRZUEU+fFRoZW5hYmxlKT59IHByb21pc2VzXG4gKiBAcmV0dXJuIHshQ2FuY2VsbGFibGVQcm9taXNlLjxUWVBFPn0gQSBQcm9taXNlIHRoYXQgcmVjZWl2ZXMgdGhlIHZhbHVlIG9mXG4gKiAgICAgdGhlIGZpcnN0IGlucHV0IHRvIGJlIGZ1bGZpbGxlZCwgb3IgaXMgcmVqZWN0ZWQgd2l0aCBhIGxpc3Qgb2YgZXZlcnlcbiAqICAgICByZWplY3Rpb24gcmVhc29uIGlmIGFsbCBpbnB1dHMgYXJlIHJlamVjdGVkLlxuICogQHRlbXBsYXRlIFRZUEVcbiAqL1xuQ2FuY2VsbGFibGVQcm9taXNlLmZpcnN0RnVsZmlsbGVkID0gZnVuY3Rpb24ocHJvbWlzZXMpIHtcbiAgcmV0dXJuIG5ldyBDYW5jZWxsYWJsZVByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICB2YXIgdG9SZWplY3QgPSBwcm9taXNlcy5sZW5ndGg7XG4gICAgICB2YXIgcmVhc29ucyA9IFtdO1xuXG4gICAgICBpZiAoIXRvUmVqZWN0KSB7XG4gICAgICAgIHJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgb25GdWxmaWxsID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmVzb2x2ZSh2YWx1ZSk7XG4gICAgICB9O1xuXG4gICAgICB2YXIgb25SZWplY3QgPSBmdW5jdGlvbihpbmRleCwgcmVhc29uKSB7XG4gICAgICAgIHRvUmVqZWN0LS07XG4gICAgICAgIHJlYXNvbnNbaW5kZXhdID0gcmVhc29uO1xuICAgICAgICBpZiAodG9SZWplY3QgPT09IDApIHtcbiAgICAgICAgICByZWplY3QocmVhc29ucyk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBwcm9taXNlOyAocHJvbWlzZSA9IHByb21pc2VzW2ldKTsgaSsrKSB7XG4gICAgICAgIHByb21pc2UudGhlbihvbkZ1bGZpbGwsIHBhcnRpYWwob25SZWplY3QsIGkpKTtcbiAgICAgIH1cbiAgICB9KTtcbn07XG5cblxuLyoqXG4gKiBBZGRzIGNhbGxiYWNrcyB0aGF0IHdpbGwgb3BlcmF0ZSBvbiB0aGUgcmVzdWx0IG9mIHRoZSBQcm9taXNlLCByZXR1cm5pbmcgYVxuICogbmV3IGNoaWxkIFByb21pc2UuXG4gKlxuICogSWYgdGhlIFByb21pc2UgaXMgZnVsZmlsbGVkLCB0aGUge0Bjb2RlIG9uRnVsZmlsbGVkfSBjYWxsYmFjayB3aWxsIGJlIGludm9rZWRcbiAqIHdpdGggdGhlIGZ1bGZpbGxtZW50IHZhbHVlIGFzIGFyZ3VtZW50LCBhbmQgdGhlIGNoaWxkIFByb21pc2Ugd2lsbCBiZVxuICogZnVsZmlsbGVkIHdpdGggdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgY2FsbGJhY2suIElmIHRoZSBjYWxsYmFjayB0aHJvd3MgYW5cbiAqIGV4Y2VwdGlvbiwgdGhlIGNoaWxkIFByb21pc2Ugd2lsbCBiZSByZWplY3RlZCB3aXRoIHRoZSB0aHJvd24gdmFsdWUgaW5zdGVhZC5cbiAqXG4gKiBJZiB0aGUgUHJvbWlzZSBpcyByZWplY3RlZCwgdGhlIHtAY29kZSBvblJlamVjdGVkfSBjYWxsYmFjayB3aWxsIGJlIGludm9rZWRcbiAqIHdpdGggdGhlIHJlamVjdGlvbiByZWFzb24gYXMgYXJndW1lbnQsIGFuZCB0aGUgY2hpbGQgUHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkXG4gKiB3aXRoIHRoZSByZXR1cm4gdmFsdWUgKG9yIHRocm93biB2YWx1ZSkgb2YgdGhlIGNhbGxiYWNrLlxuICpcbiAqIEBvdmVycmlkZVxuICovXG5DYW5jZWxsYWJsZVByb21pc2UucHJvdG90eXBlLnRoZW4gPSBmdW5jdGlvbihvcHRfb25GdWxmaWxsZWQsIG9wdF9vblJlamVjdGVkLCBvcHRfY29udGV4dCkge1xuICByZXR1cm4gdGhpcy5hZGRDaGlsZFByb21pc2VfKFxuICAgIGlzRnVuY3Rpb24ob3B0X29uRnVsZmlsbGVkKSA/IG9wdF9vbkZ1bGZpbGxlZCA6IG51bGwsXG4gICAgaXNGdW5jdGlvbihvcHRfb25SZWplY3RlZCkgPyBvcHRfb25SZWplY3RlZCA6IG51bGwsXG4gICAgb3B0X2NvbnRleHQpO1xufTtcblRoZW5hYmxlLmFkZEltcGxlbWVudGF0aW9uKENhbmNlbGxhYmxlUHJvbWlzZSk7XG5cblxuLyoqXG4gKiBBZGRzIGEgY2FsbGJhY2sgdGhhdCB3aWxsIGJlIGludm9rZWQgd2hldGhlciB0aGUgUHJvbWlzZSBpcyBmdWxmaWxsZWQgb3JcbiAqIHJlamVjdGVkLiBUaGUgY2FsbGJhY2sgcmVjZWl2ZXMgbm8gYXJndW1lbnQsIGFuZCBubyBuZXcgY2hpbGQgUHJvbWlzZSBpc1xuICogY3JlYXRlZC4gVGhpcyBpcyB1c2VmdWwgZm9yIGVuc3VyaW5nIHRoYXQgY2xlYW51cCB0YWtlcyBwbGFjZSBhZnRlciBjZXJ0YWluXG4gKiBhc3luY2hyb25vdXMgb3BlcmF0aW9ucy4gQ2FsbGJhY2tzIGFkZGVkIHdpdGgge0Bjb2RlIHRoZW5BbHdheXN9IHdpbGwgYmVcbiAqIGV4ZWN1dGVkIGluIHRoZSBzYW1lIG9yZGVyIHdpdGggb3RoZXIgY2FsbHMgdG8ge0Bjb2RlIHRoZW59LFxuICoge0Bjb2RlIHRoZW5BbHdheXN9LCBvciB7QGNvZGUgdGhlbkNhdGNofS5cbiAqXG4gKiBTaW5jZSBpdCBkb2VzIG5vdCBwcm9kdWNlIGEgbmV3IGNoaWxkIFByb21pc2UsIGNhbmNlbGxhdGlvbiBwcm9wYWdhdGlvbiBpc1xuICogbm90IHByZXZlbnRlZCBieSBhZGRpbmcgY2FsbGJhY2tzIHdpdGgge0Bjb2RlIHRoZW5BbHdheXN9LiBBIFByb21pc2UgdGhhdCBoYXNcbiAqIGEgY2xlYW51cCBoYW5kbGVyIGFkZGVkIHdpdGgge0Bjb2RlIHRoZW5BbHdheXN9IHdpbGwgYmUgY2FuY2VsZWQgaWYgYWxsIG9mXG4gKiBpdHMgY2hpbGRyZW4gY3JlYXRlZCBieSB7QGNvZGUgdGhlbn0gKG9yIHtAY29kZSB0aGVuQ2F0Y2h9KSBhcmUgY2FuY2VsZWQuXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbih0aGlzOlRISVMpOiB2b2lkfSBvblJlc29sdmVkIEEgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGludm9rZWRcbiAqICAgICB3aGVuIHRoZSBQcm9taXNlIGlzIHJlc29sdmVkLlxuICogQHBhcmFtIHtUSElTPX0gb3B0X2NvbnRleHQgQW4gb3B0aW9uYWwgY29udGV4dCBvYmplY3QgdGhhdCB3aWxsIGJlIHRoZVxuICogICAgIGV4ZWN1dGlvbiBjb250ZXh0IGZvciB0aGUgY2FsbGJhY2tzLiBCeSBkZWZhdWx0LCBmdW5jdGlvbnMgYXJlIGV4ZWN1dGVkXG4gKiAgICAgaW4gdGhlIGdsb2JhbCBzY29wZS5cbiAqIEByZXR1cm4geyFDYW5jZWxsYWJsZVByb21pc2UuPFRZUEU+fSBUaGlzIFByb21pc2UsIGZvciBjaGFpbmluZyBhZGRpdGlvbmFsIGNhbGxzLlxuICogQHRlbXBsYXRlIFRISVNcbiAqL1xuQ2FuY2VsbGFibGVQcm9taXNlLnByb3RvdHlwZS50aGVuQWx3YXlzID0gZnVuY3Rpb24ob25SZXNvbHZlZCwgb3B0X2NvbnRleHQpIHtcbiAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24oKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIEVuc3VyZSB0aGF0IG5vIGFyZ3VtZW50cyBhcmUgcGFzc2VkIHRvIG9uUmVzb2x2ZWQuXG4gICAgICBvblJlc29sdmVkLmNhbGwob3B0X2NvbnRleHQpO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgQ2FuY2VsbGFibGVQcm9taXNlLmhhbmRsZVJlamVjdGlvbl8uY2FsbChudWxsLCBlcnIpO1xuICAgIH1cbiAgfTtcblxuICB0aGlzLmFkZENhbGxiYWNrRW50cnlfKHtcbiAgICBjaGlsZDogbnVsbCxcbiAgICBvblJlamVjdGVkOiBjYWxsYmFjayxcbiAgICBvbkZ1bGZpbGxlZDogY2FsbGJhY2tcbiAgfSk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuXG4vKipcbiAqIEFkZHMgYSBjYWxsYmFjayB0aGF0IHdpbGwgYmUgaW52b2tlZCBvbmx5IGlmIHRoZSBQcm9taXNlIGlzIHJlamVjdGVkLiBUaGlzXG4gKiBpcyBlcXVpdmFsZW50IHRvIHtAY29kZSB0aGVuKG51bGwsIG9uUmVqZWN0ZWQpfS5cbiAqXG4gKiBAcGFyYW0geyFmdW5jdGlvbih0aGlzOlRISVMsICopOiAqfSBvblJlamVjdGVkIEEgZnVuY3Rpb24gdGhhdCB3aWxsIGJlXG4gKiAgICAgaW52b2tlZCB3aXRoIHRoZSByZWplY3Rpb24gcmVhc29uIGlmIHRoZSBQcm9taXNlIGlzIHJlamVjdGVkLlxuICogQHBhcmFtIHtUSElTPX0gb3B0X2NvbnRleHQgQW4gb3B0aW9uYWwgY29udGV4dCBvYmplY3QgdGhhdCB3aWxsIGJlIHRoZVxuICogICAgIGV4ZWN1dGlvbiBjb250ZXh0IGZvciB0aGUgY2FsbGJhY2tzLiBCeSBkZWZhdWx0LCBmdW5jdGlvbnMgYXJlIGV4ZWN1dGVkXG4gKiAgICAgaW4gdGhlIGdsb2JhbCBzY29wZS5cbiAqIEByZXR1cm4geyFDYW5jZWxsYWJsZVByb21pc2V9IEEgbmV3IFByb21pc2UgdGhhdCB3aWxsIHJlY2VpdmUgdGhlIHJlc3VsdCBvZiB0aGVcbiAqICAgICBjYWxsYmFjay5cbiAqIEB0ZW1wbGF0ZSBUSElTXG4gKi9cbkNhbmNlbGxhYmxlUHJvbWlzZS5wcm90b3R5cGUudGhlbkNhdGNoID0gZnVuY3Rpb24ob25SZWplY3RlZCwgb3B0X2NvbnRleHQpIHtcbiAgcmV0dXJuIHRoaXMuYWRkQ2hpbGRQcm9taXNlXyhudWxsLCBvblJlamVjdGVkLCBvcHRfY29udGV4dCk7XG59O1xuXG4vKipcbiAqIEFsaWFzIG9mIHtAbGluayBDYW5jZWxsYWJsZVByb21pc2UucHJvdG90eXBlLnRoZW5DYXRjaH1cbiAqL1xuQ2FuY2VsbGFibGVQcm9taXNlLnByb3RvdHlwZS5jYXRjaCA9IENhbmNlbGxhYmxlUHJvbWlzZS5wcm90b3R5cGUudGhlbkNhdGNoO1xuXG5cbi8qKlxuICogQ2FuY2VscyB0aGUgUHJvbWlzZSBpZiBpdCBpcyBzdGlsbCBwZW5kaW5nIGJ5IHJlamVjdGluZyBpdCB3aXRoIGEgY2FuY2VsXG4gKiBFcnJvci4gTm8gYWN0aW9uIGlzIHBlcmZvcm1lZCBpZiB0aGUgUHJvbWlzZSBpcyBhbHJlYWR5IHJlc29sdmVkLlxuICpcbiAqIEFsbCBjaGlsZCBQcm9taXNlcyBvZiB0aGUgY2FuY2VsZWQgUHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkIHdpdGggdGhlIHNhbWVcbiAqIGNhbmNlbCBlcnJvciwgYXMgd2l0aCBub3JtYWwgUHJvbWlzZSByZWplY3Rpb24uIElmIHRoZSBQcm9taXNlIHRvIGJlIGNhbmNlbGVkXG4gKiBpcyB0aGUgb25seSBjaGlsZCBvZiBhIHBlbmRpbmcgUHJvbWlzZSwgdGhlIHBhcmVudCBQcm9taXNlIHdpbGwgYWxzbyBiZVxuICogY2FuY2VsZWQuIENhbmNlbGxhdGlvbiBtYXkgcHJvcGFnYXRlIHVwd2FyZCB0aHJvdWdoIG11bHRpcGxlIGdlbmVyYXRpb25zLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0X21lc3NhZ2UgQW4gb3B0aW9uYWwgZGVidWdnaW5nIG1lc3NhZ2UgZm9yIGRlc2NyaWJpbmcgdGhlXG4gKiAgICAgY2FuY2VsbGF0aW9uIHJlYXNvbi5cbiAqL1xuQ2FuY2VsbGFibGVQcm9taXNlLnByb3RvdHlwZS5jYW5jZWwgPSBmdW5jdGlvbihvcHRfbWVzc2FnZSkge1xuICBpZiAodGhpcy5zdGF0ZV8gPT09IENhbmNlbGxhYmxlUHJvbWlzZS5TdGF0ZV8uUEVORElORykge1xuICAgIGFzeW5jLnJ1bihmdW5jdGlvbigpIHtcbiAgICAgIHZhciBlcnIgPSBuZXcgQ2FuY2VsbGFibGVQcm9taXNlLkNhbmNlbGxhdGlvbkVycm9yKG9wdF9tZXNzYWdlKTtcbiAgICAgIGVyci5JU19DQU5DRUxMQVRJT05fRVJST1IgPSB0cnVlO1xuICAgICAgdGhpcy5jYW5jZWxJbnRlcm5hbF8oZXJyKTtcbiAgICB9LCB0aGlzKTtcbiAgfVxufTtcblxuXG4vKipcbiAqIENhbmNlbHMgdGhpcyBQcm9taXNlIHdpdGggdGhlIGdpdmVuIGVycm9yLlxuICpcbiAqIEBwYXJhbSB7IUVycm9yfSBlcnIgVGhlIGNhbmNlbGxhdGlvbiBlcnJvci5cbiAqIEBwcml2YXRlXG4gKi9cbkNhbmNlbGxhYmxlUHJvbWlzZS5wcm90b3R5cGUuY2FuY2VsSW50ZXJuYWxfID0gZnVuY3Rpb24oZXJyKSB7XG4gIGlmICh0aGlzLnN0YXRlXyA9PT0gQ2FuY2VsbGFibGVQcm9taXNlLlN0YXRlXy5QRU5ESU5HKSB7XG4gICAgaWYgKHRoaXMucGFyZW50Xykge1xuICAgICAgLy8gQ2FuY2VsIHRoZSBQcm9taXNlIGFuZCByZW1vdmUgaXQgZnJvbSB0aGUgcGFyZW50J3MgY2hpbGQgbGlzdC5cbiAgICAgIHRoaXMucGFyZW50Xy5jYW5jZWxDaGlsZF8odGhpcywgZXJyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5yZXNvbHZlXyhDYW5jZWxsYWJsZVByb21pc2UuU3RhdGVfLlJFSkVDVEVELCBlcnIpO1xuICAgIH1cbiAgfVxufTtcblxuXG4vKipcbiAqIENhbmNlbHMgYSBjaGlsZCBQcm9taXNlIGZyb20gdGhlIGxpc3Qgb2YgY2FsbGJhY2sgZW50cmllcy4gSWYgdGhlIFByb21pc2UgaGFzXG4gKiBub3QgYWxyZWFkeSBiZWVuIHJlc29sdmVkLCByZWplY3QgaXQgd2l0aCBhIGNhbmNlbCBlcnJvci4gSWYgdGhlcmUgYXJlIG5vXG4gKiBvdGhlciBjaGlsZHJlbiBpbiB0aGUgbGlzdCBvZiBjYWxsYmFjayBlbnRyaWVzLCBwcm9wYWdhdGUgdGhlIGNhbmNlbGxhdGlvblxuICogYnkgY2FuY2VsaW5nIHRoaXMgUHJvbWlzZSBhcyB3ZWxsLlxuICpcbiAqIEBwYXJhbSB7IUNhbmNlbGxhYmxlUHJvbWlzZX0gY2hpbGRQcm9taXNlIFRoZSBQcm9taXNlIHRvIGNhbmNlbC5cbiAqIEBwYXJhbSB7IUVycm9yfSBlcnIgVGhlIGNhbmNlbCBlcnJvciB0byB1c2UgZm9yIHJlamVjdGluZyB0aGUgUHJvbWlzZS5cbiAqIEBwcml2YXRlXG4gKi9cbkNhbmNlbGxhYmxlUHJvbWlzZS5wcm90b3R5cGUuY2FuY2VsQ2hpbGRfID0gZnVuY3Rpb24oY2hpbGRQcm9taXNlLCBlcnIpIHtcbiAgaWYgKCF0aGlzLmNhbGxiYWNrRW50cmllc18pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIGNoaWxkQ291bnQgPSAwO1xuICB2YXIgY2hpbGRJbmRleCA9IC0xO1xuXG4gIC8vIEZpbmQgdGhlIGNhbGxiYWNrIGVudHJ5IGZvciB0aGUgY2hpbGRQcm9taXNlLCBhbmQgY291bnQgd2hldGhlciB0aGVyZSBhcmVcbiAgLy8gYWRkaXRpb25hbCBjaGlsZCBQcm9taXNlcy5cbiAgZm9yICh2YXIgaSA9IDAsIGVudHJ5OyAoZW50cnkgPSB0aGlzLmNhbGxiYWNrRW50cmllc19baV0pOyBpKyspIHtcbiAgICB2YXIgY2hpbGQgPSBlbnRyeS5jaGlsZDtcbiAgICBpZiAoY2hpbGQpIHtcbiAgICAgIGNoaWxkQ291bnQrKztcbiAgICAgIGlmIChjaGlsZCA9PT0gY2hpbGRQcm9taXNlKSB7XG4gICAgICAgIGNoaWxkSW5kZXggPSBpO1xuICAgICAgfVxuICAgICAgaWYgKGNoaWxkSW5kZXggPj0gMCAmJiBjaGlsZENvdW50ID4gMSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBJZiB0aGUgY2hpbGQgUHJvbWlzZSB3YXMgdGhlIG9ubHkgY2hpbGQsIGNhbmNlbCB0aGlzIFByb21pc2UgYXMgd2VsbC5cbiAgLy8gT3RoZXJ3aXNlLCByZWplY3Qgb25seSB0aGUgY2hpbGQgUHJvbWlzZSB3aXRoIHRoZSBjYW5jZWwgZXJyb3IuXG4gIGlmIChjaGlsZEluZGV4ID49IDApIHtcbiAgICBpZiAodGhpcy5zdGF0ZV8gPT09IENhbmNlbGxhYmxlUHJvbWlzZS5TdGF0ZV8uUEVORElORyAmJiBjaGlsZENvdW50ID09PSAxKSB7XG4gICAgICB0aGlzLmNhbmNlbEludGVybmFsXyhlcnIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgY2FsbGJhY2tFbnRyeSA9IHRoaXMuY2FsbGJhY2tFbnRyaWVzXy5zcGxpY2UoY2hpbGRJbmRleCwgMSlbMF07XG4gICAgICB0aGlzLmV4ZWN1dGVDYWxsYmFja18oXG4gICAgICAgIGNhbGxiYWNrRW50cnksIENhbmNlbGxhYmxlUHJvbWlzZS5TdGF0ZV8uUkVKRUNURUQsIGVycik7XG4gICAgfVxuICB9XG59O1xuXG5cbi8qKlxuICogQWRkcyBhIGNhbGxiYWNrIGVudHJ5IHRvIHRoZSBjdXJyZW50IFByb21pc2UsIGFuZCBzY2hlZHVsZXMgY2FsbGJhY2tcbiAqIGV4ZWN1dGlvbiBpZiB0aGUgUHJvbWlzZSBoYXMgYWxyZWFkeSBiZWVuIHJlc29sdmVkLlxuICpcbiAqIEBwYXJhbSB7Q2FuY2VsbGFibGVQcm9taXNlLkNhbGxiYWNrRW50cnlffSBjYWxsYmFja0VudHJ5IFJlY29yZCBjb250YWluaW5nXG4gKiAgICAge0Bjb2RlIG9uRnVsZmlsbGVkfSBhbmQge0Bjb2RlIG9uUmVqZWN0ZWR9IGNhbGxiYWNrcyB0byBleGVjdXRlIGFmdGVyXG4gKiAgICAgdGhlIFByb21pc2UgaXMgcmVzb2x2ZWQuXG4gKiBAcHJpdmF0ZVxuICovXG5DYW5jZWxsYWJsZVByb21pc2UucHJvdG90eXBlLmFkZENhbGxiYWNrRW50cnlfID0gZnVuY3Rpb24oY2FsbGJhY2tFbnRyeSkge1xuICBpZiAoKCF0aGlzLmNhbGxiYWNrRW50cmllc18gfHwgIXRoaXMuY2FsbGJhY2tFbnRyaWVzXy5sZW5ndGgpICYmXG4gICAgKHRoaXMuc3RhdGVfID09PSBDYW5jZWxsYWJsZVByb21pc2UuU3RhdGVfLkZVTEZJTExFRCB8fFxuICAgIHRoaXMuc3RhdGVfID09PSBDYW5jZWxsYWJsZVByb21pc2UuU3RhdGVfLlJFSkVDVEVEKSkge1xuICAgIHRoaXMuc2NoZWR1bGVDYWxsYmFja3NfKCk7XG4gIH1cbiAgaWYgKCF0aGlzLmNhbGxiYWNrRW50cmllc18pIHtcbiAgICB0aGlzLmNhbGxiYWNrRW50cmllc18gPSBbXTtcbiAgfVxuICB0aGlzLmNhbGxiYWNrRW50cmllc18ucHVzaChjYWxsYmFja0VudHJ5KTtcbn07XG5cblxuLyoqXG4gKiBDcmVhdGVzIGEgY2hpbGQgUHJvbWlzZSBhbmQgYWRkcyBpdCB0byB0aGUgY2FsbGJhY2sgZW50cnkgbGlzdC4gVGhlIHJlc3VsdCBvZlxuICogdGhlIGNoaWxkIFByb21pc2UgaXMgZGV0ZXJtaW5lZCBieSB0aGUgc3RhdGUgb2YgdGhlIHBhcmVudCBQcm9taXNlIGFuZCB0aGVcbiAqIHJlc3VsdCBvZiB0aGUge0Bjb2RlIG9uRnVsZmlsbGVkfSBvciB7QGNvZGUgb25SZWplY3RlZH0gY2FsbGJhY2tzIGFzXG4gKiBzcGVjaWZpZWQgaW4gdGhlIFByb21pc2UgcmVzb2x1dGlvbiBwcm9jZWR1cmUuXG4gKlxuICogQHNlZSBodHRwOi8vcHJvbWlzZXNhcGx1cy5jb20vI3RoZV9fbWV0aG9kXG4gKlxuICogQHBhcmFtIHs/ZnVuY3Rpb24odGhpczpUSElTLCBUWVBFKTpcbiAqICAgICAgICAgIChSRVNVTFR8Q2FuY2VsbGFibGVQcm9taXNlLjxSRVNVTFQ+fFRoZW5hYmxlKX0gb25GdWxmaWxsZWQgQSBjYWxsYmFjayB0aGF0XG4gKiAgICAgd2lsbCBiZSBpbnZva2VkIGlmIHRoZSBQcm9taXNlIGlzIGZ1bGxmaWxsZWQsIG9yIG51bGwuXG4gKiBAcGFyYW0gez9mdW5jdGlvbih0aGlzOlRISVMsICopOiAqfSBvblJlamVjdGVkIEEgY2FsbGJhY2sgdGhhdCB3aWxsIGJlXG4gKiAgICAgaW52b2tlZCBpZiB0aGUgUHJvbWlzZSBpcyByZWplY3RlZCwgb3IgbnVsbC5cbiAqIEBwYXJhbSB7VEhJUz19IG9wdF9jb250ZXh0IEFuIG9wdGlvbmFsIGV4ZWN1dGlvbiBjb250ZXh0IGZvciB0aGUgY2FsbGJhY2tzLlxuICogICAgIGluIHRoZSBkZWZhdWx0IGNhbGxpbmcgY29udGV4dC5cbiAqIEByZXR1cm4geyFDYW5jZWxsYWJsZVByb21pc2V9IFRoZSBjaGlsZCBQcm9taXNlLlxuICogQHRlbXBsYXRlIFJFU1VMVCxUSElTXG4gKiBAcHJpdmF0ZVxuICovXG5DYW5jZWxsYWJsZVByb21pc2UucHJvdG90eXBlLmFkZENoaWxkUHJvbWlzZV8gPSBmdW5jdGlvbihcbm9uRnVsZmlsbGVkLCBvblJlamVjdGVkLCBvcHRfY29udGV4dCkge1xuXG4gIHZhciBjYWxsYmFja0VudHJ5ID0ge1xuICAgIGNoaWxkOiBudWxsLFxuICAgIG9uRnVsZmlsbGVkOiBudWxsLFxuICAgIG9uUmVqZWN0ZWQ6IG51bGxcbiAgfTtcblxuICBjYWxsYmFja0VudHJ5LmNoaWxkID0gbmV3IENhbmNlbGxhYmxlUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAvLyBJbnZva2Ugb25GdWxmaWxsZWQsIG9yIHJlc29sdmUgd2l0aCB0aGUgcGFyZW50J3MgdmFsdWUgaWYgYWJzZW50LlxuICAgIGNhbGxiYWNrRW50cnkub25GdWxmaWxsZWQgPSBvbkZ1bGZpbGxlZCA/IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gb25GdWxmaWxsZWQuY2FsbChvcHRfY29udGV4dCwgdmFsdWUpO1xuICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICB9XG4gICAgfSA6IHJlc29sdmU7XG5cbiAgICAvLyBJbnZva2Ugb25SZWplY3RlZCwgb3IgcmVqZWN0IHdpdGggdGhlIHBhcmVudCdzIHJlYXNvbiBpZiBhYnNlbnQuXG4gICAgY2FsbGJhY2tFbnRyeS5vblJlamVjdGVkID0gb25SZWplY3RlZCA/IGZ1bmN0aW9uKHJlYXNvbikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IG9uUmVqZWN0ZWQuY2FsbChvcHRfY29udGV4dCwgcmVhc29uKTtcbiAgICAgICAgaWYgKCFpc0RlZihyZXN1bHQpICYmIHJlYXNvbi5JU19DQU5DRUxMQVRJT05fRVJST1IpIHtcbiAgICAgICAgICAvLyBQcm9wYWdhdGUgY2FuY2VsbGF0aW9uIHRvIGNoaWxkcmVuIGlmIG5vIG90aGVyIHJlc3VsdCBpcyByZXR1cm5lZC5cbiAgICAgICAgICByZWplY3QocmVhc29uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgIH1cbiAgICB9IDogcmVqZWN0O1xuICB9KTtcblxuICBjYWxsYmFja0VudHJ5LmNoaWxkLnBhcmVudF8gPSB0aGlzO1xuICB0aGlzLmFkZENhbGxiYWNrRW50cnlfKFxuICAgIC8qKiBAdHlwZSB7Q2FuY2VsbGFibGVQcm9taXNlLkNhbGxiYWNrRW50cnlffSAqLyAoY2FsbGJhY2tFbnRyeSkpO1xuICByZXR1cm4gY2FsbGJhY2tFbnRyeS5jaGlsZDtcbn07XG5cblxuLyoqXG4gKiBVbmJsb2NrcyB0aGUgUHJvbWlzZSBhbmQgZnVsZmlsbHMgaXQgd2l0aCB0aGUgZ2l2ZW4gdmFsdWUuXG4gKlxuICogQHBhcmFtIHtUWVBFfSB2YWx1ZVxuICogQHByaXZhdGVcbiAqL1xuQ2FuY2VsbGFibGVQcm9taXNlLnByb3RvdHlwZS51bmJsb2NrQW5kRnVsZmlsbF8gPSBmdW5jdGlvbih2YWx1ZSkge1xuICBpZiAodGhpcy5zdGF0ZV8gIT09IENhbmNlbGxhYmxlUHJvbWlzZS5TdGF0ZV8uQkxPQ0tFRCkge1xuICAgIHRocm93IG5ldyBFcnJvcignQ2FuY2VsbGFibGVQcm9taXNlIGlzIG5vdCBibG9ja2VkLicpO1xuICB9XG4gIHRoaXMuc3RhdGVfID0gQ2FuY2VsbGFibGVQcm9taXNlLlN0YXRlXy5QRU5ESU5HO1xuICB0aGlzLnJlc29sdmVfKENhbmNlbGxhYmxlUHJvbWlzZS5TdGF0ZV8uRlVMRklMTEVELCB2YWx1ZSk7XG59O1xuXG5cbi8qKlxuICogVW5ibG9ja3MgdGhlIFByb21pc2UgYW5kIHJlamVjdHMgaXQgd2l0aCB0aGUgZ2l2ZW4gcmVqZWN0aW9uIHJlYXNvbi5cbiAqXG4gKiBAcGFyYW0geyp9IHJlYXNvblxuICogQHByaXZhdGVcbiAqL1xuQ2FuY2VsbGFibGVQcm9taXNlLnByb3RvdHlwZS51bmJsb2NrQW5kUmVqZWN0XyA9IGZ1bmN0aW9uKHJlYXNvbikge1xuICBpZiAodGhpcy5zdGF0ZV8gIT09IENhbmNlbGxhYmxlUHJvbWlzZS5TdGF0ZV8uQkxPQ0tFRCkge1xuICAgIHRocm93IG5ldyBFcnJvcignQ2FuY2VsbGFibGVQcm9taXNlIGlzIG5vdCBibG9ja2VkLicpO1xuICB9XG4gIHRoaXMuc3RhdGVfID0gQ2FuY2VsbGFibGVQcm9taXNlLlN0YXRlXy5QRU5ESU5HO1xuICB0aGlzLnJlc29sdmVfKENhbmNlbGxhYmxlUHJvbWlzZS5TdGF0ZV8uUkVKRUNURUQsIHJlYXNvbik7XG59O1xuXG5cbi8qKlxuICogQXR0ZW1wdHMgdG8gcmVzb2x2ZSBhIFByb21pc2Ugd2l0aCBhIGdpdmVuIHJlc29sdXRpb24gc3RhdGUgYW5kIHZhbHVlLiBUaGlzXG4gKiBpcyBhIG5vLW9wIGlmIHRoZSBnaXZlbiBQcm9taXNlIGhhcyBhbHJlYWR5IGJlZW4gcmVzb2x2ZWQuXG4gKlxuICogSWYgdGhlIGdpdmVuIHJlc3VsdCBpcyBhIFRoZW5hYmxlIChzdWNoIGFzIGFub3RoZXIgUHJvbWlzZSksIHRoZSBQcm9taXNlIHdpbGxcbiAqIGJlIHJlc29sdmVkIHdpdGggdGhlIHNhbWUgc3RhdGUgYW5kIHJlc3VsdCBhcyB0aGUgVGhlbmFibGUgb25jZSBpdCBpcyBpdHNlbGZcbiAqIHJlc29sdmVkLlxuICpcbiAqIElmIHRoZSBnaXZlbiByZXN1bHQgaXMgbm90IGEgVGhlbmFibGUsIHRoZSBQcm9taXNlIHdpbGwgYmUgZnVsZmlsbGVkIG9yXG4gKiByZWplY3RlZCB3aXRoIHRoYXQgcmVzdWx0IGJhc2VkIG9uIHRoZSBnaXZlbiBzdGF0ZS5cbiAqXG4gKiBAc2VlIGh0dHA6Ly9wcm9taXNlc2FwbHVzLmNvbS8jdGhlX3Byb21pc2VfcmVzb2x1dGlvbl9wcm9jZWR1cmVcbiAqXG4gKiBAcGFyYW0ge0NhbmNlbGxhYmxlUHJvbWlzZS5TdGF0ZV99IHN0YXRlXG4gKiBAcGFyYW0geyp9IHggVGhlIHJlc3VsdCB0byBhcHBseSB0byB0aGUgUHJvbWlzZS5cbiAqIEBwcml2YXRlXG4gKi9cbkNhbmNlbGxhYmxlUHJvbWlzZS5wcm90b3R5cGUucmVzb2x2ZV8gPSBmdW5jdGlvbihzdGF0ZSwgeCkge1xuICBpZiAodGhpcy5zdGF0ZV8gIT09IENhbmNlbGxhYmxlUHJvbWlzZS5TdGF0ZV8uUEVORElORykge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICh0aGlzID09PSB4KSB7XG4gICAgc3RhdGUgPSBDYW5jZWxsYWJsZVByb21pc2UuU3RhdGVfLlJFSkVDVEVEO1xuICAgIHggPSBuZXcgVHlwZUVycm9yKCdDYW5jZWxsYWJsZVByb21pc2UgY2Fubm90IHJlc29sdmUgdG8gaXRzZWxmJyk7XG5cbiAgfSBlbHNlIGlmIChUaGVuYWJsZS5pc0ltcGxlbWVudGVkQnkoeCkpIHtcbiAgICB4ID0gLyoqIEB0eXBlIHshVGhlbmFibGV9ICovICh4KTtcbiAgICB0aGlzLnN0YXRlXyA9IENhbmNlbGxhYmxlUHJvbWlzZS5TdGF0ZV8uQkxPQ0tFRDtcbiAgICB4LnRoZW4odGhpcy51bmJsb2NrQW5kRnVsZmlsbF8sIHRoaXMudW5ibG9ja0FuZFJlamVjdF8sIHRoaXMpO1xuICAgIHJldHVybjtcblxuICB9IGVsc2UgaWYgKGlzT2JqZWN0KHgpKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciB0aGVuID0geC50aGVuO1xuICAgICAgaWYgKGlzRnVuY3Rpb24odGhlbikpIHtcbiAgICAgICAgdGhpcy50cnlUaGVuXyh4LCB0aGVuKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHN0YXRlID0gQ2FuY2VsbGFibGVQcm9taXNlLlN0YXRlXy5SRUpFQ1RFRDtcbiAgICAgIHggPSBlO1xuICAgIH1cbiAgfVxuXG4gIHRoaXMucmVzdWx0XyA9IHg7XG4gIHRoaXMuc3RhdGVfID0gc3RhdGU7XG4gIHRoaXMuc2NoZWR1bGVDYWxsYmFja3NfKCk7XG5cbiAgaWYgKHN0YXRlID09PSBDYW5jZWxsYWJsZVByb21pc2UuU3RhdGVfLlJFSkVDVEVEICYmICF4LklTX0NBTkNFTExBVElPTl9FUlJPUikge1xuICAgIENhbmNlbGxhYmxlUHJvbWlzZS5hZGRVbmhhbmRsZWRSZWplY3Rpb25fKHRoaXMsIHgpO1xuICB9XG59O1xuXG5cbi8qKlxuICogQXR0ZW1wdHMgdG8gY2FsbCB0aGUge0Bjb2RlIHRoZW59IG1ldGhvZCBvbiBhbiBvYmplY3QgaW4gdGhlIGhvcGVzIHRoYXQgaXQgaXNcbiAqIGEgUHJvbWlzZS1jb21wYXRpYmxlIGluc3RhbmNlLiBUaGlzIGFsbG93cyBpbnRlcm9wZXJhdGlvbiBiZXR3ZWVuIGRpZmZlcmVudFxuICogUHJvbWlzZSBpbXBsZW1lbnRhdGlvbnMsIGhvd2V2ZXIgYSBub24tY29tcGxpYW50IG9iamVjdCBtYXkgY2F1c2UgYSBQcm9taXNlXG4gKiB0byBoYW5nIGluZGVmaW5pdGVseS4gSWYgdGhlIHtAY29kZSB0aGVufSBtZXRob2QgdGhyb3dzIGFuIGV4Y2VwdGlvbiwgdGhlXG4gKiBkZXBlbmRlbnQgUHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkIHdpdGggdGhlIHRocm93biB2YWx1ZS5cbiAqXG4gKiBAc2VlIGh0dHA6Ly9wcm9taXNlc2FwbHVzLmNvbS8jcG9pbnQtNzBcbiAqXG4gKiBAcGFyYW0ge1RoZW5hYmxlfSB0aGVuYWJsZSBBbiBvYmplY3Qgd2l0aCBhIHtAY29kZSB0aGVufSBtZXRob2QgdGhhdCBtYXkgYmVcbiAqICAgICBjb21wYXRpYmxlIHdpdGggdGhlIFByb21pc2UvQSsgc3BlY2lmaWNhdGlvbi5cbiAqIEBwYXJhbSB7IUZ1bmN0aW9ufSB0aGVuIFRoZSB7QGNvZGUgdGhlbn0gbWV0aG9kIG9mIHRoZSBUaGVuYWJsZSBvYmplY3QuXG4gKiBAcHJpdmF0ZVxuICovXG5DYW5jZWxsYWJsZVByb21pc2UucHJvdG90eXBlLnRyeVRoZW5fID0gZnVuY3Rpb24odGhlbmFibGUsIHRoZW4pIHtcbiAgdGhpcy5zdGF0ZV8gPSBDYW5jZWxsYWJsZVByb21pc2UuU3RhdGVfLkJMT0NLRUQ7XG4gIHZhciBwcm9taXNlID0gdGhpcztcbiAgdmFyIGNhbGxlZCA9IGZhbHNlO1xuXG4gIHZhciByZXNvbHZlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAoIWNhbGxlZCkge1xuICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgIHByb21pc2UudW5ibG9ja0FuZEZ1bGZpbGxfKHZhbHVlKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHJlamVjdCA9IGZ1bmN0aW9uKHJlYXNvbikge1xuICAgIGlmICghY2FsbGVkKSB7XG4gICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgcHJvbWlzZS51bmJsb2NrQW5kUmVqZWN0XyhyZWFzb24pO1xuICAgIH1cbiAgfTtcblxuICB0cnkge1xuICAgIHRoZW4uY2FsbCh0aGVuYWJsZSwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJlamVjdChlKTtcbiAgfVxufTtcblxuXG4vKipcbiAqIEV4ZWN1dGVzIHRoZSBwZW5kaW5nIGNhbGxiYWNrcyBvZiBhIHJlc29sdmVkIFByb21pc2UgYWZ0ZXIgYSB0aW1lb3V0LlxuICpcbiAqIFNlY3Rpb24gMi4yLjQgb2YgdGhlIFByb21pc2VzL0ErIHNwZWNpZmljYXRpb24gcmVxdWlyZXMgdGhhdCBQcm9taXNlXG4gKiBjYWxsYmFja3MgbXVzdCBvbmx5IGJlIGludm9rZWQgZnJvbSBhIGNhbGwgc3RhY2sgdGhhdCBvbmx5IGNvbnRhaW5zIFByb21pc2VcbiAqIGltcGxlbWVudGF0aW9uIGNvZGUsIHdoaWNoIHdlIGFjY29tcGxpc2ggYnkgaW52b2tpbmcgY2FsbGJhY2sgZXhlY3V0aW9uIGFmdGVyXG4gKiBhIHRpbWVvdXQuIElmIHtAY29kZSBzdGFydEV4ZWN1dGlvbl99IGlzIGNhbGxlZCBtdWx0aXBsZSB0aW1lcyBmb3IgdGhlIHNhbWVcbiAqIFByb21pc2UsIHRoZSBjYWxsYmFjayBjaGFpbiB3aWxsIGJlIGV2YWx1YXRlZCBvbmx5IG9uY2UuIEFkZGl0aW9uYWwgY2FsbGJhY2tzXG4gKiBtYXkgYmUgYWRkZWQgZHVyaW5nIHRoZSBldmFsdWF0aW9uIHBoYXNlLCBhbmQgd2lsbCBiZSBleGVjdXRlZCBpbiB0aGUgc2FtZVxuICogZXZlbnQgbG9vcC5cbiAqXG4gKiBBbGwgUHJvbWlzZXMgYWRkZWQgdG8gdGhlIHdhaXRpbmcgbGlzdCBkdXJpbmcgdGhlIHNhbWUgYnJvd3NlciBldmVudCBsb29wXG4gKiB3aWxsIGJlIGV4ZWN1dGVkIGluIG9uZSBiYXRjaCB0byBhdm9pZCB1c2luZyBhIHNlcGFyYXRlIHRpbWVvdXQgcGVyIFByb21pc2UuXG4gKlxuICogQHByaXZhdGVcbiAqL1xuQ2FuY2VsbGFibGVQcm9taXNlLnByb3RvdHlwZS5zY2hlZHVsZUNhbGxiYWNrc18gPSBmdW5jdGlvbigpIHtcbiAgaWYgKCF0aGlzLmV4ZWN1dGluZ18pIHtcbiAgICB0aGlzLmV4ZWN1dGluZ18gPSB0cnVlO1xuICAgIGFzeW5jLnJ1bih0aGlzLmV4ZWN1dGVDYWxsYmFja3NfLCB0aGlzKTtcbiAgfVxufTtcblxuXG4vKipcbiAqIEV4ZWN1dGVzIGFsbCBwZW5kaW5nIGNhbGxiYWNrcyBmb3IgdGhpcyBQcm9taXNlLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbkNhbmNlbGxhYmxlUHJvbWlzZS5wcm90b3R5cGUuZXhlY3V0ZUNhbGxiYWNrc18gPSBmdW5jdGlvbigpIHtcbiAgd2hpbGUgKHRoaXMuY2FsbGJhY2tFbnRyaWVzXyAmJiB0aGlzLmNhbGxiYWNrRW50cmllc18ubGVuZ3RoKSB7XG4gICAgdmFyIGVudHJpZXMgPSB0aGlzLmNhbGxiYWNrRW50cmllc187XG4gICAgdGhpcy5jYWxsYmFja0VudHJpZXNfID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVudHJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuZXhlY3V0ZUNhbGxiYWNrXyhlbnRyaWVzW2ldLCB0aGlzLnN0YXRlXywgdGhpcy5yZXN1bHRfKTtcbiAgICB9XG4gIH1cbiAgdGhpcy5leGVjdXRpbmdfID0gZmFsc2U7XG59O1xuXG5cbi8qKlxuICogRXhlY3V0ZXMgYSBwZW5kaW5nIGNhbGxiYWNrIGZvciB0aGlzIFByb21pc2UuIEludm9rZXMgYW4ge0Bjb2RlIG9uRnVsZmlsbGVkfVxuICogb3Ige0Bjb2RlIG9uUmVqZWN0ZWR9IGNhbGxiYWNrIGJhc2VkIG9uIHRoZSByZXNvbHZlZCBzdGF0ZSBvZiB0aGUgUHJvbWlzZS5cbiAqXG4gKiBAcGFyYW0geyFDYW5jZWxsYWJsZVByb21pc2UuQ2FsbGJhY2tFbnRyeV99IGNhbGxiYWNrRW50cnkgQW4gZW50cnkgY29udGFpbmluZyB0aGVcbiAqICAgICBvbkZ1bGZpbGxlZCBhbmQvb3Igb25SZWplY3RlZCBjYWxsYmFja3MgZm9yIHRoaXMgc3RlcC5cbiAqIEBwYXJhbSB7Q2FuY2VsbGFibGVQcm9taXNlLlN0YXRlX30gc3RhdGUgVGhlIHJlc29sdXRpb24gc3RhdHVzIG9mIHRoZSBQcm9taXNlLFxuICogICAgIGVpdGhlciBGVUxGSUxMRUQgb3IgUkVKRUNURUQuXG4gKiBAcGFyYW0geyp9IHJlc3VsdCBUaGUgcmVzb2x2ZWQgcmVzdWx0IG9mIHRoZSBQcm9taXNlLlxuICogQHByaXZhdGVcbiAqL1xuQ2FuY2VsbGFibGVQcm9taXNlLnByb3RvdHlwZS5leGVjdXRlQ2FsbGJhY2tfID0gZnVuY3Rpb24oXG5jYWxsYmFja0VudHJ5LCBzdGF0ZSwgcmVzdWx0KSB7XG4gIGlmIChzdGF0ZSA9PT0gQ2FuY2VsbGFibGVQcm9taXNlLlN0YXRlXy5GVUxGSUxMRUQpIHtcbiAgICBjYWxsYmFja0VudHJ5Lm9uRnVsZmlsbGVkKHJlc3VsdCk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5yZW1vdmVVbmhhbmRsZWRSZWplY3Rpb25fKCk7XG4gICAgY2FsbGJhY2tFbnRyeS5vblJlamVjdGVkKHJlc3VsdCk7XG4gIH1cbn07XG5cblxuLyoqXG4gKiBNYXJrcyB0aGlzIHJlamVjdGVkIFByb21pc2UgYXMgaGF2aW5nIGJlaW5nIGhhbmRsZWQuIEFsc28gbWFya3MgYW55IHBhcmVudFxuICogUHJvbWlzZXMgaW4gdGhlIHJlamVjdGVkIHN0YXRlIGFzIGhhbmRsZWQuIFRoZSByZWplY3Rpb24gaGFuZGxlciB3aWxsIG5vXG4gKiBsb25nZXIgYmUgaW52b2tlZCBmb3IgdGhpcyBQcm9taXNlIChpZiBpdCBoYXMgbm90IGJlZW4gY2FsbGVkIGFscmVhZHkpLlxuICpcbiAqIEBwcml2YXRlXG4gKi9cbkNhbmNlbGxhYmxlUHJvbWlzZS5wcm90b3R5cGUucmVtb3ZlVW5oYW5kbGVkUmVqZWN0aW9uXyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcDtcbiAgaWYgKENhbmNlbGxhYmxlUHJvbWlzZS5VTkhBTkRMRURfUkVKRUNUSU9OX0RFTEFZID4gMCkge1xuICAgIGZvciAocCA9IHRoaXM7IHAgJiYgcC51bmhhbmRsZWRSZWplY3Rpb25JZF87IHAgPSBwLnBhcmVudF8pIHtcbiAgICAgIGNsZWFyVGltZW91dChwLnVuaGFuZGxlZFJlamVjdGlvbklkXyk7XG4gICAgICBwLnVuaGFuZGxlZFJlamVjdGlvbklkXyA9IDA7XG4gICAgfVxuICB9IGVsc2UgaWYgKENhbmNlbGxhYmxlUHJvbWlzZS5VTkhBTkRMRURfUkVKRUNUSU9OX0RFTEFZID09PSAwKSB7XG4gICAgZm9yIChwID0gdGhpczsgcCAmJiBwLmhhZFVuaGFuZGxlZFJlamVjdGlvbl87IHAgPSBwLnBhcmVudF8pIHtcbiAgICAgIHAuaGFkVW5oYW5kbGVkUmVqZWN0aW9uXyA9IGZhbHNlO1xuICAgIH1cbiAgfVxufTtcblxuXG4vKipcbiAqIE1hcmtzIHRoaXMgcmVqZWN0ZWQgUHJvbWlzZSBhcyB1bmhhbmRsZWQuIElmIG5vIHtAY29kZSBvblJlamVjdGVkfSBjYWxsYmFja1xuICogaXMgY2FsbGVkIGZvciB0aGlzIFByb21pc2UgYmVmb3JlIHRoZSB7QGNvZGUgVU5IQU5ETEVEX1JFSkVDVElPTl9ERUxBWX1cbiAqIGV4cGlyZXMsIHRoZSByZWFzb24gd2lsbCBiZSBwYXNzZWQgdG8gdGhlIHVuaGFuZGxlZCByZWplY3Rpb24gaGFuZGxlci4gVGhlXG4gKiBoYW5kbGVyIHR5cGljYWxseSByZXRocm93cyB0aGUgcmVqZWN0aW9uIHJlYXNvbiBzbyB0aGF0IGl0IGJlY29tZXMgdmlzaWJsZSBpblxuICogdGhlIGRldmVsb3BlciBjb25zb2xlLlxuICpcbiAqIEBwYXJhbSB7IUNhbmNlbGxhYmxlUHJvbWlzZX0gcHJvbWlzZSBUaGUgcmVqZWN0ZWQgUHJvbWlzZS5cbiAqIEBwYXJhbSB7Kn0gcmVhc29uIFRoZSBQcm9taXNlIHJlamVjdGlvbiByZWFzb24uXG4gKiBAcHJpdmF0ZVxuICovXG5DYW5jZWxsYWJsZVByb21pc2UuYWRkVW5oYW5kbGVkUmVqZWN0aW9uXyA9IGZ1bmN0aW9uKHByb21pc2UsIHJlYXNvbikge1xuICBpZiAoQ2FuY2VsbGFibGVQcm9taXNlLlVOSEFORExFRF9SRUpFQ1RJT05fREVMQVkgPiAwKSB7XG4gICAgcHJvbWlzZS51bmhhbmRsZWRSZWplY3Rpb25JZF8gPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgQ2FuY2VsbGFibGVQcm9taXNlLmhhbmRsZVJlamVjdGlvbl8uY2FsbChudWxsLCByZWFzb24pO1xuICAgIH0sIENhbmNlbGxhYmxlUHJvbWlzZS5VTkhBTkRMRURfUkVKRUNUSU9OX0RFTEFZKTtcblxuICB9IGVsc2UgaWYgKENhbmNlbGxhYmxlUHJvbWlzZS5VTkhBTkRMRURfUkVKRUNUSU9OX0RFTEFZID09PSAwKSB7XG4gICAgcHJvbWlzZS5oYWRVbmhhbmRsZWRSZWplY3Rpb25fID0gdHJ1ZTtcbiAgICBhc3luYy5ydW4oZnVuY3Rpb24oKSB7XG4gICAgICBpZiAocHJvbWlzZS5oYWRVbmhhbmRsZWRSZWplY3Rpb25fKSB7XG4gICAgICAgIENhbmNlbGxhYmxlUHJvbWlzZS5oYW5kbGVSZWplY3Rpb25fLmNhbGwobnVsbCwgcmVhc29uKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufTtcblxuXG4vKipcbiAqIEEgbWV0aG9kIHRoYXQgaXMgaW52b2tlZCB3aXRoIHRoZSByZWplY3Rpb24gcmVhc29ucyBmb3IgUHJvbWlzZXMgdGhhdCBhcmVcbiAqIHJlamVjdGVkIGJ1dCBoYXZlIG5vIHtAY29kZSBvblJlamVjdGVkfSBjYWxsYmFja3MgcmVnaXN0ZXJlZCB5ZXQuXG4gKiBAdHlwZSB7ZnVuY3Rpb24oKil9XG4gKiBAcHJpdmF0ZVxuICovXG5DYW5jZWxsYWJsZVByb21pc2UuaGFuZGxlUmVqZWN0aW9uXyA9IGFzeW5jLnRocm93RXhjZXB0aW9uO1xuXG5cbi8qKlxuICogU2V0cyBhIGhhbmRsZXIgdGhhdCB3aWxsIGJlIGNhbGxlZCB3aXRoIHJlYXNvbnMgZnJvbSB1bmhhbmRsZWQgcmVqZWN0ZWRcbiAqIFByb21pc2VzLiBJZiB0aGUgcmVqZWN0ZWQgUHJvbWlzZSAob3Igb25lIG9mIGl0cyBkZXNjZW5kYW50cykgaGFzIGFuXG4gKiB7QGNvZGUgb25SZWplY3RlZH0gY2FsbGJhY2sgcmVnaXN0ZXJlZCwgdGhlIHJlamVjdGlvbiB3aWxsIGJlIGNvbnNpZGVyZWRcbiAqIGhhbmRsZWQsIGFuZCB0aGUgcmVqZWN0aW9uIGhhbmRsZXIgd2lsbCBub3QgYmUgY2FsbGVkLlxuICpcbiAqIEJ5IGRlZmF1bHQsIHVuaGFuZGxlZCByZWplY3Rpb25zIGFyZSByZXRocm93biBzbyB0aGF0IHRoZSBlcnJvciBtYXkgYmVcbiAqIGNhcHR1cmVkIGJ5IHRoZSBkZXZlbG9wZXIgY29uc29sZSBvciBhIHtAY29kZSB3aW5kb3cub25lcnJvcn0gaGFuZGxlci5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9uKCopfSBoYW5kbGVyIEEgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aXRoIHJlYXNvbnMgZnJvbVxuICogICAgIHJlamVjdGVkIFByb21pc2VzLiBEZWZhdWx0cyB0byB7QGNvZGUgYXN5bmMudGhyb3dFeGNlcHRpb259LlxuICovXG5DYW5jZWxsYWJsZVByb21pc2Uuc2V0VW5oYW5kbGVkUmVqZWN0aW9uSGFuZGxlciA9IGZ1bmN0aW9uKGhhbmRsZXIpIHtcbiAgQ2FuY2VsbGFibGVQcm9taXNlLmhhbmRsZVJlamVjdGlvbl8gPSBoYW5kbGVyO1xufTtcblxuXG5cbi8qKlxuICogRXJyb3IgdXNlZCBhcyBhIHJlamVjdGlvbiByZWFzb24gZm9yIGNhbmNlbGVkIFByb21pc2VzLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0X21lc3NhZ2VcbiAqIEBjb25zdHJ1Y3RvclxuICogQGV4dGVuZHMge0Vycm9yfVxuICogQGZpbmFsXG4gKi9cbkNhbmNlbGxhYmxlUHJvbWlzZS5DYW5jZWxsYXRpb25FcnJvciA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihvcHRfbWVzc2FnZSkge1xuICAgICBzdXBlcihvcHRfbWVzc2FnZSk7XG5cbiAgICAgaWYgKG9wdF9tZXNzYWdlKSB7XG4gICAgICAgdGhpcy5tZXNzYWdlID0gb3B0X21lc3NhZ2U7XG4gICAgIH1cbiAgIH1cbn07XG5cbi8qKiBAb3ZlcnJpZGUgKi9cbkNhbmNlbGxhYmxlUHJvbWlzZS5DYW5jZWxsYXRpb25FcnJvci5wcm90b3R5cGUubmFtZSA9ICdjYW5jZWwnO1xuXG5leHBvcnQge0NhbmNlbGxhYmxlUHJvbWlzZX07XG5leHBvcnQgZGVmYXVsdCBDYW5jZWxsYWJsZVByb21pc2U7XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IGlzRGVmLCBpc0RlZkFuZE5vdE51bGwgfSBmcm9tICdtZXRhbCc7XG5pbXBvcnQgVXJpIGZyb20gJ21ldGFsLXVyaSc7XG5pbXBvcnQgeyBDYW5jZWxsYWJsZVByb21pc2UgYXMgUHJvbWlzZSB9IGZyb20gJ21ldGFsLXByb21pc2UnO1xuXG5jbGFzcyBBamF4IHtcblxuXHQvKipcblx0ICogWG1sSHR0cFJlcXVlc3QncyBnZXRBbGxSZXNwb25zZUhlYWRlcnMoKSBtZXRob2QgcmV0dXJucyBhIHN0cmluZyBvZlxuXHQgKiByZXNwb25zZSBoZWFkZXJzIGFjY29yZGluZyB0byB0aGUgZm9ybWF0IGRlc2NyaWJlZCBvbiB0aGUgc3BlYzpcblx0ICoge0BsaW5rIGh0dHA6Ly93d3cudzMub3JnL1RSL1hNTEh0dHBSZXF1ZXN0LyN0aGUtZ2V0YWxscmVzcG9uc2VoZWFkZXJzLW1ldGhvZH0uXG5cdCAqIFRoaXMgbWV0aG9kIHBhcnNlcyB0aGF0IHN0cmluZyBpbnRvIGEgdXNlci1mcmllbmRseSBuYW1lL3ZhbHVlIHBhaXJcblx0ICogb2JqZWN0LlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gYWxsSGVhZGVycyBBbGwgaGVhZGVycyBhcyBzdHJpbmcuXG5cdCAqIEByZXR1cm4geyFBcnJheS48T2JqZWN0PHN0cmluZywgc3RyaW5nPj59XG5cdCAqL1xuXHRzdGF0aWMgcGFyc2VSZXNwb25zZUhlYWRlcnMoYWxsSGVhZGVycykge1xuXHRcdHZhciBoZWFkZXJzID0gW107XG5cdFx0aWYgKCFhbGxIZWFkZXJzKSB7XG5cdFx0XHRyZXR1cm4gaGVhZGVycztcblx0XHR9XG5cdFx0dmFyIHBhaXJzID0gYWxsSGVhZGVycy5zcGxpdCgnXFx1MDAwZFxcdTAwMGEnKTtcblx0XHRmb3IgKHZhciBpID0gMDsgaSA8IHBhaXJzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaW5kZXggPSBwYWlyc1tpXS5pbmRleE9mKCdcXHUwMDNhXFx1MDAyMCcpO1xuXHRcdFx0aWYgKGluZGV4ID4gMCkge1xuXHRcdFx0XHR2YXIgbmFtZSA9IHBhaXJzW2ldLnN1YnN0cmluZygwLCBpbmRleCk7XG5cdFx0XHRcdHZhciB2YWx1ZSA9IHBhaXJzW2ldLnN1YnN0cmluZyhpbmRleCArIDIpO1xuXHRcdFx0XHRoZWFkZXJzLnB1c2goe1xuXHRcdFx0XHRcdG5hbWU6IG5hbWUsXG5cdFx0XHRcdFx0dmFsdWU6IHZhbHVlXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gaGVhZGVycztcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXF1ZXN0cyB0aGUgdXJsIHVzaW5nIFhNTEh0dHBSZXF1ZXN0LlxuXHQgKiBAcGFyYW0geyFzdHJpbmd9IHVybFxuXHQgKiBAcGFyYW0geyFzdHJpbmd9IG1ldGhvZFxuXHQgKiBAcGFyYW0gez9zdHJpbmd9IGJvZHlcblx0ICogQHBhcmFtIHtNdWx0aU1hcD19IG9wdF9oZWFkZXJzXG5cdCAqIEBwYXJhbSB7TXVsdGlNYXA9fSBvcHRfcGFyYW1zXG5cdCAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X3RpbWVvdXRcblx0ICogQHBhcmFtIHtib29sZWFuPX0gb3B0X3N5bmNcblx0ICogQHBhcmFtIHtib29sZWFuPX0gb3B0X3dpdGhDcmVkZW50aWFsc1xuXHQgKiBAcmV0dXJuIHtQcm9taXNlfSBEZWZlcnJlZCBhamF4IHJlcXVlc3QuXG5cdCAqIEBwcm90ZWN0ZWRcblx0ICovXG5cdHN0YXRpYyByZXF1ZXN0KHVybCwgbWV0aG9kLCBib2R5LCBvcHRfaGVhZGVycywgb3B0X3BhcmFtcywgb3B0X3RpbWVvdXQsIG9wdF9zeW5jLCBvcHRfd2l0aENyZWRlbnRpYWxzKSB7XG5cdFx0dXJsID0gdXJsIHx8ICcnO1xuXHRcdG1ldGhvZCA9IG1ldGhvZCB8fCAnR0VUJztcblxuXHRcdHZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cblx0XHR2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuXHRcdFx0cmVxdWVzdC5vbmxvYWQgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0aWYgKHJlcXVlc3QuYWJvcnRlZCkge1xuXHRcdFx0XHRcdHJlcXVlc3Qub25lcnJvcigpO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXNvbHZlKHJlcXVlc3QpO1xuXHRcdFx0fTtcblx0XHRcdHJlcXVlc3Qub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgZXJyb3IgPSBuZXcgRXJyb3IoJ1JlcXVlc3QgZXJyb3InKTtcblx0XHRcdFx0ZXJyb3IucmVxdWVzdCA9IHJlcXVlc3Q7XG5cdFx0XHRcdHJlamVjdChlcnJvcik7XG5cdFx0XHR9O1xuXHRcdH0pLnRoZW5DYXRjaChmdW5jdGlvbihyZWFzb24pIHtcblx0XHRcdHJlcXVlc3QuYWJvcnQoKTtcblx0XHRcdHRocm93IHJlYXNvbjtcblx0XHR9KS50aGVuQWx3YXlzKGZ1bmN0aW9uKCkge1xuXHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuXHRcdH0pO1xuXG5cdFx0aWYgKG9wdF9wYXJhbXMpIHtcblx0XHRcdHVybCA9IG5ldyBVcmkodXJsKS5hZGRQYXJhbWV0ZXJzRnJvbU11bHRpTWFwKG9wdF9wYXJhbXMpLnRvU3RyaW5nKCk7XG5cdFx0fVxuXG5cdFx0cmVxdWVzdC5vcGVuKG1ldGhvZCwgdXJsLCAhb3B0X3N5bmMpO1xuXG5cdFx0aWYgKG9wdF93aXRoQ3JlZGVudGlhbHMpIHtcblx0XHRcdHJlcXVlc3Qud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcblx0XHR9XG5cblx0XHRpZiAob3B0X2hlYWRlcnMpIHtcblx0XHRcdG9wdF9oZWFkZXJzLm5hbWVzKCkuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG5cdFx0XHRcdHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcihuYW1lLCBvcHRfaGVhZGVycy5nZXRBbGwobmFtZSkuam9pbignLCAnKSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRyZXF1ZXN0LnNlbmQoaXNEZWYoYm9keSkgPyBib2R5IDogbnVsbCk7XG5cblx0XHRpZiAoaXNEZWZBbmROb3ROdWxsKG9wdF90aW1lb3V0KSkge1xuXHRcdFx0dmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRwcm9taXNlLmNhbmNlbCgnUmVxdWVzdCB0aW1lb3V0Jyk7XG5cdFx0XHR9LCBvcHRfdGltZW91dCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHByb21pc2U7XG5cdH1cblxufVxuXG5leHBvcnQgZGVmYXVsdCBBamF4O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFByb3ZpZGVzIGEgY29udmVuaWVudCBpbnRlcmZhY2UgZm9yIGRhdGEgdHJhbnNwb3J0LlxuICogQGludGVyZmFjZVxuICovXG5jbGFzcyBUcmFuc3BvcnQge1xuXG5cdC8qKlxuXHQgKiBTZW5kcyBhIG1lc3NhZ2UgZm9yIHRoZSBzcGVjaWZpZWQgY2xpZW50LlxuXHQgKiBAcGFyYW0geyFDbGllbnRSZXF1ZXN0fSBjbGllbnRSZXF1ZXN0XG5cdCAqIEByZXR1cm4geyFQcm9taXNlfSBEZWZlcnJlZCByZXF1ZXN0LlxuXHQgKi9cblx0c2VuZCgpIHt9XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgVHJhbnNwb3J0O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgeyBjb3JlIH0gZnJvbSAnbWV0YWwnO1xuaW1wb3J0IHsgTXVsdGlNYXAgfSBmcm9tICdtZXRhbC1zdHJ1Y3RzJztcblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgY2xpZW50IG1lc3NhZ2UgKGUuZy4gYSByZXF1ZXN0IG9yIGEgcmVzcG9uc2UpLlxuICovXG5jbGFzcyBDbGllbnRNZXNzYWdlIHtcblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0dGhpcy5oZWFkZXJzXyA9IG5ldyBNdWx0aU1hcCgpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEZsdWVudCBnZXR0ZXIgYW5kIHNldHRlciBmb3IgcmVxdWVzdCBib2R5LlxuXHQgKiBAcGFyYW0geyo9fSBvcHRfYm9keSBSZXF1ZXN0IGJvZHkgdG8gYmUgc2V0LiBJZiBub25lIGlzIGdpdmVuLFxuXHQgKiAgIHRoZSBjdXJyZW50IHZhbHVlIG9mIHRoZSBib2R5IHdpbGwgYmUgcmV0dXJuZWQuXG5cdCAqIEByZXR1cm4geyp9IFJldHVybnMgcmVxdWVzdCBib2R5IGlmIG5vIGJvZHkgdmFsdWUgd2FzIGdpdmVuLiBPdGhlcndpc2Vcblx0ICogICByZXR1cm5zIHRoZSB7QGxpbmsgQ2xpZW50TWVzc2FnZX0gb2JqZWN0IGl0c2VsZiwgc28gY2FsbHMgY2FuIGJlIGNoYWluZWQuXG5cdCAqIEBjaGFpbmFibGUgQ2hhaW5hYmxlIHdoZW4gdXNlZCBhcyBzZXR0ZXIuXG5cdCAqL1xuXHRib2R5KG9wdF9ib2R5KSB7XG5cdFx0aWYgKGNvcmUuaXNEZWYob3B0X2JvZHkpKSB7XG5cdFx0XHR0aGlzLmJvZHlfID0gb3B0X2JvZHk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuYm9keV87XG5cdH1cblxuXHQvKipcblx0ICogQWRkcyBhIGhlYWRlci4gSWYgYSBoZWFkZXIgd2l0aCB0aGUgc2FtZSBuYW1lIGFscmVhZHkgZXhpc3RzLCBpdCB3aWxsIG5vdCBiZVxuXHQgKiBvdmVyd3JpdHRlbiwgYnV0IHRoZSBuZXcgdmFsdWUgd2lsbCBiZSBzdG9yZWQgYXMgd2VsbC4gVGhlIG9yZGVyIGlzIHByZXNlcnZlZC5cblx0ICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcblx0ICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG5cdCAqIEBjaGFpbmFibGVcblx0ICovXG5cdGhlYWRlcihuYW1lLCB2YWx1ZSkge1xuXHRcdGlmIChhcmd1bWVudHMubGVuZ3RoICE9PSAyKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgYXJndW1lbnRzJyk7XG5cdFx0fVxuXHRcdHRoaXMuaGVhZGVyc18uc2V0KG5hbWUsIHZhbHVlKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdC8qKlxuXHQgKiBGbHVlbnQgZ2V0dGVyIGFuZCBzZXR0ZXIgZm9yIHJlcXVlc3QgaGVhZGVycy5cblx0ICogQHBhcmFtIHtNdWx0aU1hcHxPYmplY3Q9fSBvcHRfaGVhZGVycyBSZXF1ZXN0IGhlYWRlcnMgbGlzdCB0b1xuXHQgKiAgIGJlIHNldC4gSWYgbm9uZSBpcyBnaXZlbiB0aGUgY3VycmVudCB2YWx1ZSBvZiB0aGUgaGVhZGVycyB3aWxsXG5cdCAqICAgYmUgcmV0dXJuZWQuXG5cdCAqIEByZXR1cm4geyFNdWx0aU1hcHxDbGllbnRNZXNzYWdlfSBSZXR1cm5zIG1hcCBvZiByZXF1ZXN0IGhlYWRlcnNcblx0ICogICBpZiBubyBuZXcgdmFsdWUgd2FzIGdpdmVuLiBPdGhlcndpc2UgcmV0dXJucyB0aGUge0BsaW5rIENsaWVudE1lc3NhZ2V9XG5cdCAqICAgb2JqZWN0IGl0c2VsZiwgc28gY2FsbHMgY2FuIGJlIGNoYWluZWQuXG5cdCAqIEBjaGFpbmFibGUgQ2hhaW5hYmxlIHdoZW4gdXNlZCBhcyBzZXR0ZXIuXG5cdCAqL1xuXHRoZWFkZXJzKG9wdF9oZWFkZXJzKSB7XG5cdFx0aWYgKGNvcmUuaXNEZWYob3B0X2hlYWRlcnMpKSB7XG5cdFx0XHRpZiAob3B0X2hlYWRlcnMgaW5zdGFuY2VvZiBNdWx0aU1hcCkge1xuXHRcdFx0XHR0aGlzLmhlYWRlcnNfID0gb3B0X2hlYWRlcnM7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR0aGlzLmhlYWRlcnNfLnZhbHVlcyA9IG9wdF9oZWFkZXJzO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG9wdF9oZWFkZXJzO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5oZWFkZXJzXztcblx0fVxuXG5cdC8qKlxuXHQgKiBSZW1vdmVzIHRoZSBib2R5LlxuXHQgKi9cblx0cmVtb3ZlQm9keSgpIHtcblx0XHR0aGlzLmJvZHlfID0gdW5kZWZpbmVkO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENsaWVudE1lc3NhZ2U7XG4iLCIndXNlIHN0cmljdCc7XG5cbmltcG9ydCB7IGNvcmUgfSBmcm9tICdtZXRhbCc7XG5pbXBvcnQgQ2xpZW50TWVzc2FnZSBmcm9tICcuL0NsaWVudE1lc3NhZ2UnO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBjbGllbnQgcmVzcG9uc2Ugb2JqZWN0LlxuICogQGV4dGVuZHMge0NsaWVudE1lc3NhZ2V9XG4gKi9cbmNsYXNzIENsaWVudFJlc3BvbnNlIGV4dGVuZHMgQ2xpZW50TWVzc2FnZSB7XG5cdGNvbnN0cnVjdG9yKGNsaWVudFJlcXVlc3QpIHtcblx0XHRzdXBlcigpO1xuXHRcdGlmICghY2xpZW50UmVxdWVzdCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdDYW5cXCd0IGNyZWF0ZSByZXNwb25zZSB3aXRob3V0IHJlcXVlc3QnKTtcblx0XHR9XG5cdFx0dGhpcy5jbGllbnRSZXF1ZXN0XyA9IGNsaWVudFJlcXVlc3Q7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyByZXF1ZXN0IHRoYXQgY3JlYXRlZCB0aGlzIHJlc3BvbnNlLlxuXHQgKiBAcmV0dXJuIHshQ2xpZW50UmVxdWVzdH1cblx0ICovXG5cdHJlcXVlc3QoKSB7XG5cdFx0cmV0dXJuIHRoaXMuY2xpZW50UmVxdWVzdF87XG5cdH1cblxuXHQvKipcblx0ICogRmx1ZW50IGdldHRlciBhbmQgc2V0dGVyIGZvciByZXNwb25zZSBzdGF0dXMgY29kZS5cblx0ICogQHBhcmFtIHtudW1iZXI9fSBvcHRfc3RhdHVzQ29kZSBSZXF1ZXN0IHN0YXR1cyBjb2RlIHRvIGJlIHNldC4gSWYgbm9uZSBpcyBnaXZlbixcblx0ICogICB0aGUgY3VycmVudCBzdGF0dXMgY29kZSB2YWx1ZSB3aWxsIGJlIHJldHVybmVkLlxuXHQgKiBAcmV0dXJuIHshQ2xpZW50TWVzc2FnZXxudW1iZXJ9IFJldHVybnMgcmVzcG9uc2Ugc3RhdHVzIGNvZGUgaWYgbm8gbmV3IHZhbHVlIHdhc1xuXHQgKiAgIGdpdmVuLiBPdGhlcndpc2UgcmV0dXJucyB0aGUge0BsaW5rIENsaWVudE1lc3NhZ2V9IG9iamVjdCBpdHNlbGYsIHNvIGNhbGxzIGNhblxuXHQgKiAgIGJlIGNoYWluZWQuXG5cdCAqIEBjaGFpbmFibGUgQ2hhaW5hYmxlIHdoZW4gdXNlZCBhcyBzZXR0ZXIuXG5cdCAqL1xuXHRzdGF0dXNDb2RlKG9wdF9zdGF0dXNDb2RlKSB7XG5cdFx0aWYgKGNvcmUuaXNEZWYob3B0X3N0YXR1c0NvZGUpKSB7XG5cdFx0XHR0aGlzLnN0YXR1c0NvZGVfID0gb3B0X3N0YXR1c0NvZGU7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuc3RhdHVzQ29kZV87XG5cdH1cblxuXHQvKipcblx0ICogRmx1ZW50IGdldHRlciBhbmQgc2V0dGVyIGZvciByZXNwb25zZSBzdGF0dXMgdGV4dC5cblx0ICogQHBhcmFtIHtzdHJpbmc9fSBvcHRfc3RhdHVzVGV4dCBSZXF1ZXN0IHN0YXR1cyB0ZXh0IHRvIGJlIHNldC4gSWYgbm9uZSBpcyBnaXZlbixcblx0ICogICB0aGUgY3VycmVudCBzdGF0dXMgdGV4dCB2YWx1ZSB3aWxsIGJlIHJldHVybmVkLlxuXHQgKiBAcmV0dXJuIHshQ2xpZW50TWVzc2FnZXxudW1iZXJ9IFJldHVybnMgcmVzcG9uc2Ugc3RhdHVzIHRleHQgaWYgbm8gbmV3IHZhbHVlIHdhc1xuXHQgKiAgIGdpdmVuLiBPdGhlcndpc2UgcmV0dXJucyB0aGUge0BsaW5rIENsaWVudE1lc3NhZ2V9IG9iamVjdCBpdHNlbGYsIHNvIGNhbGxzIGNhblxuXHQgKiAgIGJlIGNoYWluZWQuXG5cdCAqIEBjaGFpbmFibGUgQ2hhaW5hYmxlIHdoZW4gdXNlZCBhcyBzZXR0ZXIuXG5cdCAqL1xuXHRzdGF0dXNUZXh0KG9wdF9zdGF0dXNUZXh0KSB7XG5cdFx0aWYgKGNvcmUuaXNEZWYob3B0X3N0YXR1c1RleHQpKSB7XG5cdFx0XHR0aGlzLnN0YXR1c1RleHRfID0gb3B0X3N0YXR1c1RleHQ7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuc3RhdHVzVGV4dF87XG5cdH1cblxuXHQvKipcblx0ICogQ2hlY2tzIGlmIHJlc3BvbnNlIHN1Y2NlZWRlZC4gQW55IHN0YXR1cyBjb2RlIDJ4eCBvciAzeHggaXMgY29uc2lkZXJlZCB2YWxpZC5cblx0ICogQHJldHVybiB7Ym9vbGVhbn1cblx0ICovXG5cdHN1Y2NlZWRlZCgpIHtcblx0XHRyZXR1cm4gdGhpcy5zdGF0dXNDb2RlKCkgPj0gMjAwICYmIHRoaXMuc3RhdHVzQ29kZSgpIDw9IDM5OTtcblx0fVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IENsaWVudFJlc3BvbnNlO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgQWpheCBmcm9tICdtZXRhbC1hamF4JztcbmltcG9ydCBUcmFuc3BvcnQgZnJvbSAnLi4vVHJhbnNwb3J0JztcbmltcG9ydCBDbGllbnRSZXNwb25zZSBmcm9tICcuLi9DbGllbnRSZXNwb25zZSc7XG5cbi8qKlxuICogVGhlIGltcGxlbWVudGF0aW9uIG9mIGFuIGFqYXggdHJhbnNwb3J0IHRvIGJlIHVzZWQgd2l0aCB7QGxpbmsgV2VEZXBsb3l9LlxuICogQGV4dGVuZHMge1RyYW5zcG9ydH1cbiAqL1xuY2xhc3MgQWpheFRyYW5zcG9ydCBleHRlbmRzIFRyYW5zcG9ydCB7XG5cdC8qKlxuXHQgKiBAaW5oZXJpdERvY1xuXHQgKi9cblx0c2VuZChjbGllbnRSZXF1ZXN0KSB7XG5cdFx0dmFyIGRlZmVycmVkID0gQWpheC5yZXF1ZXN0KFxuXHRcdFx0Y2xpZW50UmVxdWVzdC51cmwoKSwgY2xpZW50UmVxdWVzdC5tZXRob2QoKSwgY2xpZW50UmVxdWVzdC5ib2R5KCksXG5cdFx0XHRjbGllbnRSZXF1ZXN0LmhlYWRlcnMoKSwgY2xpZW50UmVxdWVzdC5wYXJhbXMoKSwgbnVsbCwgZmFsc2UsIGNsaWVudFJlcXVlc3Qud2l0aENyZWRlbnRpYWxzKCkpO1xuXG5cdFx0cmV0dXJuIGRlZmVycmVkLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcblx0XHRcdHZhciBjbGllbnRSZXNwb25zZSA9IG5ldyBDbGllbnRSZXNwb25zZShjbGllbnRSZXF1ZXN0KTtcblx0XHRcdGNsaWVudFJlc3BvbnNlLmJvZHkocmVzcG9uc2UucmVzcG9uc2VUZXh0KTtcblx0XHRcdGNsaWVudFJlc3BvbnNlLnN0YXR1c0NvZGUocmVzcG9uc2Uuc3RhdHVzKTtcblx0XHRcdGNsaWVudFJlc3BvbnNlLnN0YXR1c1RleHQocmVzcG9uc2Uuc3RhdHVzVGV4dCk7XG5cdFx0XHRBamF4LnBhcnNlUmVzcG9uc2VIZWFkZXJzKHJlc3BvbnNlLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKS5mb3JFYWNoKGZ1bmN0aW9uKGhlYWRlcikge1xuXHRcdFx0XHRjbGllbnRSZXNwb25zZS5oZWFkZXIoaGVhZGVyLm5hbWUsIGhlYWRlci52YWx1ZSk7XG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiBjbGllbnRSZXNwb25zZTtcblx0XHR9KTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBBamF4VHJhbnNwb3J0O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5pbXBvcnQgQWpheFRyYW5zcG9ydCBmcm9tICcuL2Jyb3dzZXIvQWpheFRyYW5zcG9ydCc7XG5cbi8qKlxuICogUHJvdmlkZXMgYSBmYWN0b3J5IGZvciBkYXRhIHRyYW5zcG9ydC5cbiAqL1xuY2xhc3MgVHJhbnNwb3J0RmFjdG9yeSB7XG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdHRoaXMudHJhbnNwb3J0cyA9IHt9O1xuXHRcdHRoaXMudHJhbnNwb3J0c1tUcmFuc3BvcnRGYWN0b3J5LkRFRkFVTFRfVFJBTlNQT1JUX05BTUVdID0gVHJhbnNwb3J0RmFjdG9yeVtUcmFuc3BvcnRGYWN0b3J5LkRFRkFVTFRfVFJBTlNQT1JUX05BTUVdO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMge0BsaW5rIFRyYW5zcG9ydEZhY3Rvcnl9IGluc3RhbmNlLlxuXHQgKi9cblx0c3RhdGljIGluc3RhbmNlKCkge1xuXHRcdGlmICghVHJhbnNwb3J0RmFjdG9yeS5pbnN0YW5jZV8pIHtcblx0XHRcdFRyYW5zcG9ydEZhY3RvcnkuaW5zdGFuY2VfID0gbmV3IFRyYW5zcG9ydEZhY3RvcnkoKTtcblx0XHR9XG5cdFx0cmV0dXJuIFRyYW5zcG9ydEZhY3RvcnkuaW5zdGFuY2VfO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldHMgYW4gaW5zdGFuY2Ugb2YgdGhlIHRyYW5zcG9ydCBpbXBsZW1lbnRhdGlvbiB3aXRoIHRoZSBnaXZlbiBuYW1lLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gaW1wbGVtZW50YXRpb25OYW1lXG5cdCAqIEByZXR1cm4geyFUcmFuc3BvcnR9XG5cdCAqL1xuXHRnZXQoaW1wbGVtZW50YXRpb25OYW1lKSB7XG5cdFx0dmFyIFRyYW5zcG9ydENsYXNzID0gdGhpcy50cmFuc3BvcnRzW2ltcGxlbWVudGF0aW9uTmFtZV07XG5cblx0XHRpZiAoIVRyYW5zcG9ydENsYXNzKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgdHJhbnNwb3J0IG5hbWU6ICcgKyBpbXBsZW1lbnRhdGlvbk5hbWUpO1xuXHRcdH1cblxuXHRcdHRyeSB7XG5cdFx0XHRyZXR1cm4gbmV3IChUcmFuc3BvcnRDbGFzcykoKTtcblx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignQ2FuXFwndCBjcmVhdGUgdHJhbnNwb3J0JywgZXJyKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgZGVmYXVsdCB0cmFuc3BvcnQgaW1wbGVtZW50YXRpb24uXG5cdCAqIEByZXR1cm4geyFUcmFuc3BvcnR9XG5cdCAqL1xuXHRnZXREZWZhdWx0KCkge1xuXHRcdHJldHVybiB0aGlzLmdldChUcmFuc3BvcnRGYWN0b3J5LkRFRkFVTFRfVFJBTlNQT1JUX05BTUUpO1xuXHR9XG59XG5cblRyYW5zcG9ydEZhY3RvcnkuREVGQVVMVF9UUkFOU1BPUlRfTkFNRSA9ICdkZWZhdWx0JztcblxuVHJhbnNwb3J0RmFjdG9yeVtUcmFuc3BvcnRGYWN0b3J5LkRFRkFVTFRfVFJBTlNQT1JUX05BTUVdID0gQWpheFRyYW5zcG9ydDtcblxuZXhwb3J0IGRlZmF1bHQgVHJhbnNwb3J0RmFjdG9yeTtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IHsgY29yZSB9IGZyb20gJ21ldGFsJztcbmltcG9ydCBDbGllbnRNZXNzYWdlIGZyb20gJy4vQ2xpZW50TWVzc2FnZSc7XG5pbXBvcnQgeyBNdWx0aU1hcCB9IGZyb20gJ21ldGFsLXN0cnVjdHMnO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBjbGllbnQgcmVxdWVzdCBvYmplY3QuXG4gKiBAZXh0ZW5kcyB7Q2xpZW50TWVzc2FnZX1cbiAqL1xuY2xhc3MgQ2xpZW50UmVxdWVzdCBleHRlbmRzIENsaWVudE1lc3NhZ2Uge1xuXHRjb25zdHJ1Y3RvcigpIHtcblx0XHRzdXBlcigpO1xuXHRcdHRoaXMucGFyYW1zXyA9IG5ldyBNdWx0aU1hcCgpO1xuXHRcdHRoaXMud2l0aENyZWRlbnRpYWxzXyA9IHRydWU7XG5cdH1cblxuXHQvKipcblx0ICogRmx1ZW50IGdldHRlciBhbmQgc2V0dGVyIGZvciB3aXRoIGNyZWRlbnRpYWxzIG9wdGlvbi5cblx0ICogQHBhcmFtIHtib29sZWFuPX0gb3B0X3dpdGhDcmVkZW50aWFsc1xuXHQgKiBAY2hhaW5hYmxlIENoYWluYWJsZSB3aGVuIHVzZWQgYXMgc2V0dGVyLlxuXHQgKi9cblx0d2l0aENyZWRlbnRpYWxzKG9wdF93aXRoQ3JlZGVudGlhbHMpIHtcblx0XHRpZiAoY29yZS5pc0RlZihvcHRfd2l0aENyZWRlbnRpYWxzKSkge1xuXHRcdFx0dGhpcy53aXRoQ3JlZGVudGlhbHNfID0gISFvcHRfd2l0aENyZWRlbnRpYWxzO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLndpdGhDcmVkZW50aWFsc187XG5cdH1cblxuXHQvKipcblx0ICogRmx1ZW50IGdldHRlciBhbmQgc2V0dGVyIGZvciByZXF1ZXN0IG1ldGhvZC5cblx0ICogQHBhcmFtIHtzdHJpbmc9fSBvcHRfbWV0aG9kIFJlcXVlc3QgbWV0aG9kIHRvIGJlIHNldC4gSWYgbm9uZSBpcyBnaXZlbixcblx0ICogICB0aGUgY3VycmVudCBtZXRob2QgdmFsdWUgd2lsbCBiZSByZXR1cm5lZC5cblx0ICogQHJldHVybiB7IUNsaWVudE1lc3NhZ2V8c3RyaW5nfSBSZXR1cm5zIHJlcXVlc3QgbWV0aG9kIGlmIG5vIG5ldyB2YWx1ZSB3YXNcblx0ICogICBnaXZlbi4gT3RoZXJ3aXNlIHJldHVybnMgdGhlIHtAbGluayBDbGllbnRNZXNzYWdlfSBvYmplY3QgaXRzZWxmLCBzb1xuXHQgKiAgIGNhbGxzIGNhbiBiZSBjaGFpbmVkLlxuXHQgKiBAY2hhaW5hYmxlIENoYWluYWJsZSB3aGVuIHVzZWQgYXMgc2V0dGVyLlxuXHQgKi9cblx0bWV0aG9kKG9wdF9tZXRob2QpIHtcblx0XHRpZiAoY29yZS5pc0RlZihvcHRfbWV0aG9kKSkge1xuXHRcdFx0dGhpcy5tZXRob2RfID0gb3B0X21ldGhvZDtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5tZXRob2RfIHx8IENsaWVudFJlcXVlc3QuREVGQVVMVF9NRVRIT0Q7XG5cdH1cblxuXHQvKipcblx0ICogQWRkcyBhIHF1ZXJ5LiBJZiBhIHF1ZXJ5IHdpdGggdGhlIHNhbWUgbmFtZSBhbHJlYWR5IGV4aXN0cywgaXQgd2lsbCBub3Rcblx0ICogYmUgb3ZlcndyaXR0ZW4sIGJ1dCBuZXcgdmFsdWUgd2lsbCBiZSBzdG9yZWQgYXMgd2VsbC4gVGhlIG9yZGVyIGlzIHByZXNlcnZlZC5cblx0ICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcblx0ICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlXG5cdCAqIEBjaGFpbmFibGVcblx0ICovXG5cdHBhcmFtKG5hbWUsIHZhbHVlKSB7XG5cdFx0aWYgKGFyZ3VtZW50cy5sZW5ndGggIT09IDIpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignSW52YWxpZCBhcmd1bWVudHMnKTtcblx0XHR9XG5cdFx0dGhpcy5wYXJhbXNfLnNldChuYW1lLCB2YWx1ZSk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKipcblx0ICogRmx1ZW50IGdldHRlciBhbmQgc2V0dGVyIGZvciByZXF1ZXN0IHF1ZXJ5c3RyaW5nLlxuXHQgKiBAcGFyYW0ge011bHRpTWFwfE9iamVjdD19IG9wdF9wYXJhbXMgUmVxdWVzdCBxdWVyeXN0cmluZyBtYXAgdG8gYmUgc2V0LlxuXHQgKiAgIElmIG5vbmUgaXMgZ2l2ZW4gdGhlIGN1cnJlbnQgdmFsdWUgb2YgdGhlIHBhcmFtcyB3aWxsIGJlIHJldHVybmVkLlxuXHQgKiBAcmV0dXJuIHshTXVsdGlNYXB8Q2xpZW50TWVzc2FnZX0gUmV0dXJucyBtYXAgb2YgcmVxdWVzdCBxdWVyeXN0cmluZyBpZlxuXHQgKiAgIG5vIG5ldyB2YWx1ZSB3YXMgZ2l2ZW4uIE90aGVyd2lzZSByZXR1cm5zIHRoZSB7QGxpbmsgQ2xpZW50TWVzc2FnZX1cblx0ICogICBvYmplY3QgaXRzZWxmLCBzbyBjYWxscyBjYW4gYmUgY2hhaW5lZC5cblx0ICovXG5cdHBhcmFtcyhvcHRfcGFyYW1zKSB7XG5cdFx0aWYgKGNvcmUuaXNEZWYob3B0X3BhcmFtcykpIHtcblx0XHRcdGlmIChvcHRfcGFyYW1zIGluc3RhbmNlb2YgTXVsdGlNYXApIHtcblx0XHRcdFx0dGhpcy5wYXJhbXNfID0gb3B0X3BhcmFtcztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMucGFyYW1zXy52YWx1ZXMgPSBvcHRfcGFyYW1zO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG9wdF9wYXJhbXM7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLnBhcmFtc187XG5cdH1cblxuXHQvKipcblx0ICogRmx1ZW50IGdldHRlciBhbmQgc2V0dGVyIGZvciByZXF1ZXN0IHVybC5cblx0ICogQHBhcmFtIHtzdHJpbmc9fSBvcHRfdXJsIFJlcXVlc3QgdXJsIHRvIGJlIHNldC4gSWYgbm9uZSBpcyBnaXZlbixcblx0ICogICB0aGUgY3VycmVudCB2YWx1ZSBvZiB0aGUgdXJsIHdpbGwgYmUgcmV0dXJuZWQuXG5cdCAqIEByZXR1cm4geyFDbGllbnRNZXNzYWdlfHN0cmluZ30gUmV0dXJucyByZXF1ZXN0IHVybCBpZiBubyBuZXcgdmFsdWUgd2FzIGdpdmVuLlxuXHQgKiAgIE90aGVyd2lzZSByZXR1cm5zIHRoZSB7QGxpbmsgQ2xpZW50TWVzc2FnZX0gb2JqZWN0IGl0c2VsZiwgc28gY2FsbHMgY2FuIGJlXG5cdCAqICAgY2hhaW5lZC5cblx0ICogQGNoYWluYWJsZSBDaGFpbmFibGUgd2hlbiB1c2VkIGFzIHNldHRlci5cblx0ICovXG5cdHVybChvcHRfdXJsKSB7XG5cdFx0aWYgKGNvcmUuaXNEZWYob3B0X3VybCkpIHtcblx0XHRcdHRoaXMudXJsXyA9IG9wdF91cmw7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMudXJsXztcblx0fVxuXG59XG5cbkNsaWVudFJlcXVlc3QuREVGQVVMVF9NRVRIT0QgPSAnR0VUJztcblxuZXhwb3J0IGRlZmF1bHQgQ2xpZW50UmVxdWVzdDtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IGdsb2JhbHMgZnJvbSAnLi4vZ2xvYmFscy9nbG9iYWxzJztcbmltcG9ydCB7IGNvcmUgfSBmcm9tICdtZXRhbCc7XG5pbXBvcnQgQXV0aCBmcm9tICcuL2F1dGgvQXV0aCc7XG5pbXBvcnQgQXV0aEFwaUhlbHBlciBmcm9tICcuL2F1dGgvQXV0aEFwaUhlbHBlcic7XG5pbXBvcnQgRGF0YUFwaUhlbHBlciBmcm9tICcuL2RhdGEvRGF0YUFwaUhlbHBlcic7XG5pbXBvcnQgQmFzZTY0IGZyb20gJy4uL2NyeXB0L0Jhc2U2NCc7XG5pbXBvcnQgRW1ib2RpZWQgZnJvbSAnLi4vYXBpLXF1ZXJ5L0VtYm9kaWVkJztcbmltcG9ydCBRdWVyeSBmcm9tICcuLi9hcGktcXVlcnkvUXVlcnknO1xuaW1wb3J0IEZpbHRlciBmcm9tICcuLi9hcGktcXVlcnkvRmlsdGVyJztcbmltcG9ydCBUcmFuc3BvcnRGYWN0b3J5IGZyb20gJy4vVHJhbnNwb3J0RmFjdG9yeSc7XG5pbXBvcnQgQ2xpZW50UmVxdWVzdCBmcm9tICcuL0NsaWVudFJlcXVlc3QnO1xuaW1wb3J0IHsgTXVsdGlNYXAgfSBmcm9tICdtZXRhbC1zdHJ1Y3RzJztcbmltcG9ydCBVcmkgZnJvbSAnbWV0YWwtdXJpJztcbmltcG9ydCB7IGFzc2VydFVyaVdpdGhOb1BhdGggfSBmcm9tICcuL2Fzc2VydGlvbnMnO1xuXG5cbnZhciBpbztcblxuLy8gT3B0aW1pc3RpYyBpbml0aWFsaXphdGlvbiBvZiBgaW9gIHJlZmVyZW5jZSBmcm9tIGdsb2JhbCBgZ2xvYmFscy53aW5kb3cuaW9gLlxuaWYgKHR5cGVvZiBnbG9iYWxzLndpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0aW8gPSBnbG9iYWxzLndpbmRvdy5pbztcbn1cblxuLyoqXG4gKiBUaGUgbWFpbiBjbGFzcyBmb3IgbWFraW5nIGFwaSByZXF1ZXN0cy4gU2VuZGluZyByZXF1ZXN0cyByZXR1cm5zIGEgcHJvbWlzZVxuICogdGhhdCBpcyByZXNvbHZlZCB3aGVuIHRoZSByZXNwb25zZSBhcnJpdmVzLiBVc2FnZSBleGFtcGxlOlxuICogYGBgamF2YXNjcmlwdFxuICogV2VEZXBsb3lcbiAqICAgLnVybCgnL2RhdGEvdGFza3MnKVxuICogICAucG9zdCh7ZGVzYzogJ0J1eSBtaWxrbCd9KVxuICogICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICogICAgIC8vIEhhbmRsZSByZXNwb25zZSBoZXJlLlxuICogICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmJvZHkoKSlcbiAqICAgfSk7XG4gKiBgYGBcbiAqL1xuY2xhc3MgV2VEZXBsb3kge1xuXHQvKipcblx0ICogV2VEZXBsb3kgY29uc3RydWN0b3IgZnVuY3Rpb24uXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIGJhc2UgdXJsLlxuXHQgKiBAcGFyYW0gey4uLnN0cmluZ30gcGF0aHMgQW55IGFtb3VudCBvZiBwYXRocyB0byBiZSBhcHBlbmRlZCB0byB0aGUgYmFzZVxuXHQgKiB1cmwuXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKi9cblx0Y29uc3RydWN0b3IodXJsLCAuLi5wYXRocykge1xuXHRcdGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgYXJndW1lbnRzLCB0cnkgYG5ldyBXZURlcGxveShiYXNlVXJsLCB1cmwpYCcpO1xuXHRcdH1cblxuXHRcdHRoaXMuYXV0aF8gPSBudWxsO1xuXHRcdHRoaXMuYm9keV8gPSBudWxsO1xuXHRcdHRoaXMudXJsXyA9IFVyaS5qb2luUGF0aHModXJsIHx8ICcnLCAuLi5wYXRocyk7XG5cdFx0dGhpcy5oZWFkZXJzXyA9IG5ldyBNdWx0aU1hcCgpO1xuXHRcdHRoaXMucGFyYW1zXyA9IG5ldyBNdWx0aU1hcCgpO1xuXHRcdHRoaXMud2l0aENyZWRlbnRpYWxzXyA9IHRydWU7XG5cblx0XHR0aGlzLmhlYWRlcignQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcblx0XHR0aGlzLmhlYWRlcignWC1SZXF1ZXN0ZWQtV2l0aCcsICdYTUxIdHRwUmVxdWVzdCcpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFN0YXRpYyBmYWN0b3J5IGZvciBjcmVhdGluZyBXZURlcGxveSBkYXRhIGZvciB0aGUgZ2l2ZW4gdXJsLlxuXHQgKiBAcGFyYW0ge3N0cmluZz19IG9wdF9kYXRhVXJsIFRoZSB1cmwgdGhhdCBwb2ludHMgdG8gdGhlIGRhdGEgc2VydmljZXMuXG5cdCAqIEByZXR1cm4gQHJldHVybiB7ZGF0YX0gV2VEZXBsb3kgZGF0YSBpbnN0YW5jZS5cblx0ICovXG5cdHN0YXRpYyBkYXRhKG9wdF9kYXRhVXJsKSB7XG5cdFx0YXNzZXJ0VXJpV2l0aE5vUGF0aChvcHRfZGF0YVVybCwgJ1RoZSBkYXRhIHVybCBzaG91bGQgbm90IGhhdmUgYSBwYXRoJyk7XG5cblx0XHRpZiAoY29yZS5pc1N0cmluZyhvcHRfZGF0YVVybCkpIHtcblx0XHRcdFdlRGVwbG95LmRhdGFVcmxfID0gb3B0X2RhdGFVcmw7XG5cdFx0fVxuXHRcdGlmICghV2VEZXBsb3kuZGF0YV8pIHtcblx0XHRcdFdlRGVwbG95LmRhdGFfID0gbmV3IERhdGFBcGlIZWxwZXIoV2VEZXBsb3kpO1xuXHRcdFx0V2VEZXBsb3kuZGF0YV8uYXV0aChXZURlcGxveS5hdXRoKCkuY3VycmVudFVzZXIpO1xuXHRcdH1cblx0XHRyZXR1cm4gV2VEZXBsb3kuZGF0YV87XG5cdH1cblxuXHQvKipcblx0ICogQWRkcyBhdXRob3JpemF0aW9uIGluZm9ybWF0aW9uIHRvIHRoaXMgcmVxdWVzdC5cblx0ICogQHBhcmFtIHshQXV0aHxzdHJpbmd9IGF1dGhPclRva2VuT3JFbWFpbCBFaXRoZXIgYW4ge0BsaW5rIEF1dGh9IGluc3RhbmNlLFxuXHQgKiBhbiBhdXRob3JpemF0aW9uIHRva2VuLCBvciB0aGUgZW1haWwuXG5cdCAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0X3Bhc3N3b3JkIElmIGEgZW1haWwgaXMgZ2l2ZW4gYXMgdGhlIGZpcnN0IHBhcmFtLFxuXHQgKiB0aGlzIHNob3VsZCBiZSB0aGUgcGFzc3dvcmQuXG5cdCAqIEBjaGFpbmFibGVcblx0ICovXG5cdGF1dGgoYXV0aE9yVG9rZW5PckVtYWlsLCBvcHRfcGFzc3dvcmQpIHtcblx0XHR0aGlzLmF1dGhfID0gYXV0aE9yVG9rZW5PckVtYWlsO1xuXHRcdGlmICghKHRoaXMuYXV0aF8gaW5zdGFuY2VvZiBBdXRoKSkge1xuXHRcdFx0dGhpcy5hdXRoXyA9IEF1dGguY3JlYXRlKGF1dGhPclRva2VuT3JFbWFpbCwgb3B0X3Bhc3N3b3JkKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKipcblx0ICogU3RhdGljIGZhY3RvcnkgZm9yIGNyZWF0aW5nIFdlRGVwbG95IGF1dGggZm9yIHRoZSBnaXZlbiB1cmwuXG5cdCAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0X2F1dGhVcmwgVGhlIHVybCB0aGF0IHBvaW50cyB0byB0aGUgYXV0aCBzZXJ2aWNlLlxuXHQgKi9cblx0c3RhdGljIGF1dGgob3B0X2F1dGhVcmwpIHtcblx0XHRpZiAoY29yZS5pc1N0cmluZyhvcHRfYXV0aFVybCkpIHtcblx0XHRcdFdlRGVwbG95LmF1dGhVcmxfID0gb3B0X2F1dGhVcmw7XG5cdFx0fVxuXHRcdGlmICghV2VEZXBsb3kuYXV0aF8pIHtcblx0XHRcdFdlRGVwbG95LmF1dGhfID0gbmV3IEF1dGhBcGlIZWxwZXIoV2VEZXBsb3kpO1xuXHRcdH1cblx0XHRyZXR1cm4gV2VEZXBsb3kuYXV0aF87XG5cdH1cblxuXHQvKipcblx0ICogU2V0cyB0aGUgYm9keSB0aGF0IHdpbGwgYmUgc2VudCB3aXRoIHRoaXMgcmVxdWVzdC5cblx0ICogQHBhcmFtIHsqfSBib2R5XG5cdCAqIEBjaGFpbmFibGVcblx0ICovXG5cdGJvZHkoYm9keSkge1xuXHRcdHRoaXMuYm9keV8gPSBib2R5O1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIHRoZSBnaXZlbiBib2R5IG9iamVjdCB0byBxdWVyeSBwYXJhbXMuXG5cdCAqIEBwYXJhbSB7IUNsaWVudFJlcXVlc3R9IGNsaWVudFJlcXVlc3QgQ2xpZW50IHJlcXVlc3QuXG5cdCAqIEBwYXJhbSB7Kn0gYm9keVxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRjb252ZXJ0Qm9keVRvUGFyYW1zXyhjbGllbnRSZXF1ZXN0LCBib2R5KSB7XG5cdFx0aWYgKGNvcmUuaXNTdHJpbmcoYm9keSkpIHtcblx0XHRcdGJvZHkgPSB7XG5cdFx0XHRcdGJvZHk6IGJvZHlcblx0XHRcdH07XG5cdFx0fSBlbHNlIGlmIChib2R5IGluc3RhbmNlb2YgRW1ib2RpZWQpIHtcblx0XHRcdGJvZHkgPSBib2R5LmJvZHkoKTtcblx0XHR9XG5cdFx0T2JqZWN0LmtleXMoYm9keSB8fCB7fSkuZm9yRWFjaChuYW1lID0+IGNsaWVudFJlcXVlc3QucGFyYW0obmFtZSwgYm9keVtuYW1lXSkpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgY2xpZW50IHJlcXVlc3QgYW5kIGVuY29kZS5cblx0ICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZFxuXHQgKiBAcGFyYW0geyp9IGJvZHlcblx0ICogQHJldHVybiB7IUNsaWVudFJlcXVlc3R9IENsaWVudCByZXF1ZXN0LlxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRjcmVhdGVDbGllbnRSZXF1ZXN0XyhtZXRob2QsIGJvZHkpIHtcblx0XHRjb25zdCBjbGllbnRSZXF1ZXN0ID0gbmV3IENsaWVudFJlcXVlc3QoKTtcblxuXHRcdGNsaWVudFJlcXVlc3QuYm9keShib2R5IHx8IHRoaXMuYm9keV8pO1xuXG5cdFx0aWYgKCFjb3JlLmlzRGVmQW5kTm90TnVsbChjbGllbnRSZXF1ZXN0LmJvZHkoKSkpIHtcblx0XHRcdGlmICh0aGlzLmZvcm1EYXRhXykge1xuXHRcdFx0XHRjbGllbnRSZXF1ZXN0LmJvZHkodGhpcy5mb3JtRGF0YV8pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNsaWVudFJlcXVlc3QubWV0aG9kKG1ldGhvZCk7XG5cdFx0Y2xpZW50UmVxdWVzdC5oZWFkZXJzKHRoaXMuaGVhZGVycygpKTtcblx0XHRjbGllbnRSZXF1ZXN0LnBhcmFtcyh0aGlzLnBhcmFtcygpKTtcblx0XHRjbGllbnRSZXF1ZXN0LnVybCh0aGlzLnVybCgpKTtcblx0XHRjbGllbnRSZXF1ZXN0LndpdGhDcmVkZW50aWFscyh0aGlzLndpdGhDcmVkZW50aWFsc18pO1xuXG5cdFx0dGhpcy5lbmNvZGUoY2xpZW50UmVxdWVzdCk7XG5cblx0XHRyZXR1cm4gY2xpZW50UmVxdWVzdDtcblx0fVxuXG5cdC8qKlxuXHQgKiBEZWNvZGVzIGNsaWVudFJlc3BvbnNlIGJvZHksIHBhcnNpbmcgdGhlIGJvZHkgZm9yIGV4YW1wbGUuXG5cdCAqIEBwYXJhbSB7IUNsaWVudFJlc3BvbnNlfSBjbGllbnRSZXNwb25zZSBUaGUgcmVzcG9uc2Ugb2JqZWN0IHRvIGJlXG5cdCAqIGRlY29kZWQuXG5cdCAqIEByZXR1cm4geyFDbGllbnRSZXNwb25zZX0gVGhlIGRlY29kZWQgcmVzcG9uc2UuXG5cdCAqL1xuXHRkZWNvZGUoY2xpZW50UmVzcG9uc2UpIHtcblx0XHRpZiAoV2VEZXBsb3kuaXNDb250ZW50VHlwZUpzb24oY2xpZW50UmVzcG9uc2UpKSB7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjbGllbnRSZXNwb25zZS5ib2R5KEpTT04ucGFyc2UoY2xpZW50UmVzcG9uc2UuYm9keSgpKSk7XG5cdFx0XHR9IGNhdGNoIChlcnIpIHt9XG5cdFx0fVxuXHRcdHJldHVybiBjbGllbnRSZXNwb25zZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBTZW5kcyBtZXNzYWdlIHdpdGggdGhlIERFTEVURSBodHRwIHZlcmIuXG5cdCAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0X2JvZHkgQ29udGVudCB0byBiZSBzZW50IGFzIHRoZSByZXF1ZXN0J3MgYm9keS5cblx0ICogQHJldHVybiB7IUNhbmNlbGxhYmxlUHJvbWlzZX1cblx0ICovXG5cdGRlbGV0ZShvcHRfYm9keSkge1xuXHRcdHJldHVybiB0aGlzLnNlbmRBc3luYygnREVMRVRFJywgb3B0X2JvZHkpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEVuY29kZXMgdGhlIGdpdmVuIHtAbGluayBDbGllbnRSZXF1ZXN0fSwgY29udmVydGluZyBpdHMgYm9keSB0byBhblxuXHQgKiBhcHByb3ByaWF0ZSBmb3JtYXQgZm9yIGV4YW1wbGUuXG5cdCAqIEBwYXJhbSB7IUNsaWVudFJlcXVlc3R9IGNsaWVudFJlcXVlc3QgVGhlIHJlcXVlc3Qgb2JqZWN0IHRvIGVuY29kZS5cblx0ICogQHJldHVybiB7IUNsaWVudFJlcXVlc3R9IFRoZSBlbmNvZGVkIHJlcXVlc3QuXG5cdCAqL1xuXHRlbmNvZGUoY2xpZW50UmVxdWVzdCkge1xuXHRcdGxldCBib2R5ID0gY2xpZW50UmVxdWVzdC5ib2R5KCk7XG5cblx0XHRpZiAoY29yZS5pc0VsZW1lbnQoYm9keSkpIHtcblx0XHRcdGJvZHkgPSBuZXcgRm9ybURhdGEoYm9keSk7XG5cdFx0XHRjbGllbnRSZXF1ZXN0LmJvZHkoYm9keSk7XG5cdFx0fVxuXG5cdFx0Ym9keSA9IHRoaXMubWF5YmVXcmFwV2l0aFF1ZXJ5Xyhib2R5KTtcblx0XHRpZiAoY2xpZW50UmVxdWVzdC5tZXRob2QoKSA9PT0gJ0dFVCcpIHtcblx0XHRcdHRoaXMuY29udmVydEJvZHlUb1BhcmFtc18oY2xpZW50UmVxdWVzdCwgYm9keSk7XG5cdFx0XHRjbGllbnRSZXF1ZXN0LnJlbW92ZUJvZHkoKTtcblx0XHRcdGJvZHkgPSBudWxsO1xuXHRcdH1cblxuXHRcdGlmICh0eXBlb2YgRm9ybURhdGEgIT09ICd1bmRlZmluZWQnICYmIGJvZHkgaW5zdGFuY2VvZiBGb3JtRGF0YSkge1xuXHRcdFx0Y2xpZW50UmVxdWVzdC5oZWFkZXJzKCkucmVtb3ZlKCdjb250ZW50LXR5cGUnKTtcblx0XHR9IGVsc2UgaWYgKGJvZHkgaW5zdGFuY2VvZiBFbWJvZGllZCkge1xuXHRcdFx0Y2xpZW50UmVxdWVzdC5ib2R5KGJvZHkudG9TdHJpbmcoKSk7XG5cdFx0fSBlbHNlIGlmIChXZURlcGxveS5pc0NvbnRlbnRUeXBlSnNvbihjbGllbnRSZXF1ZXN0KSkge1xuXHRcdFx0Y2xpZW50UmVxdWVzdC5ib2R5KEpTT04uc3RyaW5naWZ5KGNsaWVudFJlcXVlc3QuYm9keSgpKSk7XG5cdFx0fVxuXG5cdFx0dGhpcy5lbmNvZGVQYXJhbXNfKGNsaWVudFJlcXVlc3QpO1xuXHRcdHRoaXMucmVzb2x2ZUF1dGhlbnRpY2F0aW9uXyhjbGllbnRSZXF1ZXN0KTtcblxuXHRcdHJldHVybiBjbGllbnRSZXF1ZXN0O1xuXHR9XG5cblx0LyoqXG5cdCAqIEVuY29kZXMgdGhlIHBhcmFtcyBmb3IgdGhlIGdpdmVuIHJlcXVlc3QsIGFjY29yZGluZyB0byB0aGVpciB0eXBlcy5cblx0ICogQHBhcmFtIHshQ2xpZW50UmVxdWVzdH0gY2xpZW50UmVxdWVzdFxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRlbmNvZGVQYXJhbXNfKGNsaWVudFJlcXVlc3QpIHtcblx0XHRsZXQgcGFyYW1zID0gY2xpZW50UmVxdWVzdC5wYXJhbXMoKTtcblx0XHRwYXJhbXMubmFtZXMoKS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpIHtcblx0XHRcdGxldCB2YWx1ZXMgPSBwYXJhbXMuZ2V0QWxsKG5hbWUpO1xuXHRcdFx0dmFsdWVzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7XG5cdFx0XHRcdGlmICh2YWx1ZSBpbnN0YW5jZW9mIEVtYm9kaWVkKSB7XG5cdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZS50b1N0cmluZygpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGNvcmUuaXNPYmplY3QodmFsdWUpIHx8ICh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5KSkge1xuXHRcdFx0XHRcdHZhbHVlID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHZhbHVlc1tpbmRleF0gPSB2YWx1ZTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIEFkZHMgYSBrZXkvdmFsdWUgcGFpciB0byBiZSBzZW50IHZpYSB0aGUgYm9keSBpbiBhIGBtdWx0aXBhcnQvZm9ybS1kYXRhYCBmb3JtYXQuXG5cdCAqIElmIHRoZSBib2R5IGlzIHNldCBieSBvdGhlciBtZWFucyAoZm9yIGV4YW1wbGUsIHRocm91Z2ggdGhlIGBib2R5YCBtZXRob2QpLCB0aGlzXG5cdCAqIHdpbGwgYmUgaWdub3JlZC5cblx0ICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcblx0ICogQHBhcmFtIHsqfSB2YWx1ZVxuXHQgKiBAY2hhaW5hYmxlXG5cdCAqL1xuXHRmb3JtKG5hbWUsIHZhbHVlKSB7XG5cdFx0aWYgKHR5cGVvZiBGb3JtRGF0YSA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignZm9ybSgpIGlzIG9ubHkgYXZhaWxhYmxlIHdoZW4gRm9ybURhdGEgQVBJIGlzIGF2YWlsYWJsZS4nKTtcblx0XHR9XG5cblx0XHRpZiAoIXRoaXMuZm9ybURhdGFfKSB7XG5cdFx0XHR0aGlzLmZvcm1EYXRhXyA9IG5ldyBGb3JtRGF0YSgpO1xuXHRcdH1cblx0XHR0aGlzLmZvcm1EYXRhXy5hcHBlbmQobmFtZSwgdmFsdWUpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0LyoqXG5cdCAqIFNlbmRzIG1lc3NhZ2Ugd2l0aCB0aGUgR0VUIGh0dHAgdmVyYi5cblx0ICogQHBhcmFtIHsqPX0gb3B0X3BhcmFtcyBQYXJhbXMgdG8gYmUgYWRkZWQgdG8gdGhlIHJlcXVlc3QgdXJsLlxuXHQgKiBAcmV0dXJuIHshQ2FuY2VsbGFibGVQcm9taXNlfVxuXHQgKi9cblx0Z2V0KG9wdF9wYXJhbXMpIHtcblx0XHRyZXR1cm4gdGhpcy5zZW5kQXN5bmMoJ0dFVCcsIG9wdF9wYXJhbXMpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEFkZHMgYSBoZWFkZXIuIElmIHRoZSBoZWFkZXIgd2l0aCB0aGUgc2FtZSBuYW1lIGFscmVhZHkgZXhpc3RzLCBpdCB3aWxsXG5cdCAqIG5vdCBiZSBvdmVyd3JpdHRlbiwgYnV0IG5ldyB2YWx1ZSB3aWxsIGJlIHN0b3JlZC4gVGhlIG9yZGVyIGlzIHByZXNlcnZlZC5cblx0ICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgSGVhZGVyIGtleS5cblx0ICogQHBhcmFtIHsqfSB2YWx1ZSBIZWFkZXIgdmFsdWUuXG5cdCAqIEBjaGFpbmFibGVcblx0ICovXG5cdGhlYWRlcihuYW1lLCB2YWx1ZSkge1xuXHRcdGlmIChhcmd1bWVudHMubGVuZ3RoICE9PSAyKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgYXJndW1lbnRzJyk7XG5cdFx0fVxuXHRcdHRoaXMuaGVhZGVyc18uc2V0KG5hbWUsIHZhbHVlKTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXRzIHRoZSBoZWFkZXJzLlxuXHQgKiBAcmV0dXJuIHshTXVsdGlNYXB9XG5cdCAqL1xuXHRoZWFkZXJzKCkge1xuXHRcdHJldHVybiB0aGlzLmhlYWRlcnNfO1xuXHR9XG5cblx0LyoqXG5cdCAqIENoZWNrIGlmIGNsaWVudE1lc3NhZ2UgY29udGVudCB0eXBlIGlzIGFwcGxpY2F0aW9uL2pzb24uXG5cdCAqIEBwYXJhbSB7Q2xpZW50TWVzc2FnZX0gY2xpZW50TWVzc2FnZSBDbGllbnQgbWVzc2FnZS5cblx0ICogQHJldHVybiB7Ym9vbGVhbn1cblx0ICovXG5cdHN0YXRpYyBpc0NvbnRlbnRUeXBlSnNvbihjbGllbnRNZXNzYWdlKSB7XG5cdFx0Y29uc3QgY29udGVudFR5cGUgPSBjbGllbnRNZXNzYWdlLmhlYWRlcnMoKS5nZXQoJ2NvbnRlbnQtdHlwZScpIHx8ICcnO1xuXHRcdHJldHVybiBjb250ZW50VHlwZS5pbmRleE9mKCdhcHBsaWNhdGlvbi9qc29uJykgPT09IDA7XG5cdH1cblxuXHQvKipcblx0ICogV3JhcHMgdGhlIGdpdmVuIGBFbWJvZGllZGAgaW5zdGFuY2Ugd2l0aCBhIHtAbGluayBRdWVyeX0gaW5zdGFuY2UgaWYgbmVlZGVkLlxuXHQgKiBAcGFyYW0ge0VtYm9kaWVkfSBlbWJvZGllZFxuXHQgKiBAcmV0dXJuIHtFbWJvZGllZH1cblx0ICogQHByb3RlY3RlZFxuXHQgKi9cblx0bWF5YmVXcmFwV2l0aFF1ZXJ5XyhlbWJvZGllZCkge1xuXHRcdGlmIChlbWJvZGllZCBpbnN0YW5jZW9mIEZpbHRlcikge1xuXHRcdFx0ZW1ib2RpZWQgPSBRdWVyeS5maWx0ZXIoZW1ib2RpZWQpO1xuXHRcdH1cblx0XHRyZXR1cm4gZW1ib2RpZWQ7XG5cdH1cblxuXHQvKipcblx0ICogQWRkcyBhIHF1ZXJ5LiBJZiB0aGUgcXVlcnkgd2l0aCB0aGUgc2FtZSBuYW1lIGFscmVhZHkgZXhpc3RzLCBpdCB3aWxsIG5vdFxuXHQgKiBiZSBvdmVyd3JpdHRlbiwgYnV0IG5ldyB2YWx1ZSB3aWxsIGJlIHN0b3JlZC4gVGhlIG9yZGVyIGlzIHByZXNlcnZlZC5cblx0ICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgUGFyYW0ga2V5LlxuXHQgKiBAcGFyYW0geyp9IHZhbHVlIFBhcmFtIHZhbHVlLlxuXHQgKiBAY2hhaW5hYmxlXG5cdCAqL1xuXHRwYXJhbShuYW1lLCB2YWx1ZSkge1xuXHRcdGlmIChhcmd1bWVudHMubGVuZ3RoICE9PSAyKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgYXJndW1lbnRzJyk7XG5cdFx0fVxuXHRcdHRoaXMucGFyYW1zXy5zZXQobmFtZSwgdmFsdWUpO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldHMgdGhlIHF1ZXJ5IHN0cmluZ3MgbWFwLlxuXHQgKiBAcmV0dXJuIHshTXVsdGlNYXB9XG5cdCAqL1xuXHRwYXJhbXMoKSB7XG5cdFx0cmV0dXJuIHRoaXMucGFyYW1zXztcblx0fVxuXG5cdC8qKlxuXHQgKiBTZW5kcyBtZXNzYWdlIHdpdGggdGhlIFBBVENIIGh0dHAgdmVyYi5cblx0ICogQHBhcmFtIHtzdHJpbmc9fSBvcHRfYm9keSBDb250ZW50IHRvIGJlIHNlbnQgYXMgdGhlIHJlcXVlc3QncyBib2R5LlxuXHQgKiBAcmV0dXJuIHshQ2FuY2VsbGFibGVQcm9taXNlfVxuXHQgKi9cblx0cGF0Y2gob3B0X2JvZHkpIHtcblx0XHRyZXR1cm4gdGhpcy5zZW5kQXN5bmMoJ1BBVENIJywgb3B0X2JvZHkpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYSBuZXcge0BsaW5rIFdlRGVwbG95fSBpbnN0YW5jZSBmb3IgaGFuZGxpbmcgdGhlIHVybCByZXN1bHRpbmcgaW4gdGhlXG5cdCAqIHVuaW9uIG9mIHRoZSBjdXJyZW50IHVybCB3aXRoIHRoZSBnaXZlbiBwYXRocy5cblx0ICogQHBhcmFtIHsuLi5zdHJpbmd9IHBhdGhzIEFueSBudW1iZXIgb2YgcGF0aHMuXG5cdCAqIEByZXR1cm4geyFXZURlcGxveX0gQSBuZXcge0BsaW5rIFdlRGVwbG95fSBpbnN0YW5jZSBmb3IgaGFuZGxpbmcgdGhlIGdpdmVuIHBhdGhzLlxuXHQgKi9cblx0cGF0aCguLi5wYXRocykge1xuXHRcdGxldCB3ZWRlcGxveUNsaWVudCA9IG5ldyBXZURlcGxveSh0aGlzLnVybCgpLCAuLi5wYXRocyk7XG5cblx0XHRpZiAoY29yZS5pc0RlZkFuZE5vdE51bGwodGhpcy5hdXRoXykpIHtcblx0XHRcdHdlZGVwbG95Q2xpZW50LmF1dGgodGhpcy5hdXRoXyk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHdlZGVwbG95Q2xpZW50LnVzZSh0aGlzLmN1c3RvbVRyYW5zcG9ydF8pO1xuXHR9XG5cblx0LyoqXG5cdCAqIFNlbmRzIG1lc3NhZ2Ugd2l0aCB0aGUgUE9TVCBodHRwIHZlcmIuXG5cdCAqIEBwYXJhbSB7c3RyaW5nPX0gb3B0X2JvZHkgQ29udGVudCB0byBiZSBzZW50IGFzIHRoZSByZXF1ZXN0J3MgYm9keS5cblx0ICogQHJldHVybiB7IUNhbmNlbGxhYmxlUHJvbWlzZX1cblx0ICovXG5cdHBvc3Qob3B0X2JvZHkpIHtcblx0XHRyZXR1cm4gdGhpcy5zZW5kQXN5bmMoJ1BPU1QnLCBvcHRfYm9keSk7XG5cdH1cblxuXHQvKipcblx0ICogU2VuZHMgbWVzc2FnZSB3aXRoIHRoZSBQVVQgaHR0cCB2ZXJiLlxuXHQgKiBAcGFyYW0ge3N0cmluZz19IG9wdF9ib2R5IENvbnRlbnQgdG8gYmUgc2VudCBhcyB0aGUgcmVxdWVzdCdzIGJvZHkuXG5cdCAqIEByZXR1cm4geyFDYW5jZWxsYWJsZVByb21pc2V9XG5cdCAqL1xuXHRwdXQob3B0X2JvZHkpIHtcblx0XHRyZXR1cm4gdGhpcy5zZW5kQXN5bmMoJ1BVVCcsIG9wdF9ib2R5KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBZGRzIHRoZSBhdXRoZW50aWNhdGlvbiBpbmZvcm1hdGlvbiB0byB0aGUgcmVxdWVzdC5cblx0ICogQHBhcmFtIHshQ2xpZW50UmVxdWVzdH0gY2xpZW50UmVxdWVzdFxuXHQgKiBAcHJvdGVjdGVkXG5cdCAqL1xuXHRyZXNvbHZlQXV0aGVudGljYXRpb25fKGNsaWVudFJlcXVlc3QpIHtcblx0XHRpZiAoIXRoaXMuYXV0aF8pIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aWYgKHRoaXMuYXV0aF8uaGFzVG9rZW4oKSkge1xuXHRcdFx0Y2xpZW50UmVxdWVzdC5oZWFkZXIoJ0F1dGhvcml6YXRpb24nLCAnQmVhcmVyICcgKyB0aGlzLmF1dGhfLnRva2VuKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc3QgY3JlZGVudGlhbHMgPSB0aGlzLmF1dGhfLmVtYWlsICsgJzonICsgdGhpcy5hdXRoXy5wYXNzd29yZDtcblx0XHRcdGNsaWVudFJlcXVlc3QuaGVhZGVyKCdBdXRob3JpemF0aW9uJywgJ0Jhc2ljICcgKyBCYXNlNjQuZW5jb2RlU3RyaW5nKGNyZWRlbnRpYWxzKSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFVzZXMgdHJhbnNwb3J0IHRvIHNlbmQgcmVxdWVzdCB3aXRoIGdpdmVuIG1ldGhvZCBuYW1lIGFuZCBib2R5XG5cdCAqIGFzeW5jaHJvbm91c2x5LlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kIFRoZSBIVFRQIG1ldGhvZCB0byBiZSB1c2VkIHdoZW4gc2VuZGluZyBkYXRhLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gYm9keSBDb250ZW50IHRvIGJlIHNlbnQgYXMgdGhlIHJlcXVlc3QncyBib2R5LlxuXHQgKiBAcmV0dXJuIHshQ2FuY2VsbGFibGVQcm9taXNlfSBEZWZlcnJlZCByZXF1ZXN0LlxuXHQgKi9cblx0c2VuZEFzeW5jKG1ldGhvZCwgYm9keSkge1xuXHRcdGNvbnN0IHRyYW5zcG9ydCA9IHRoaXMuY3VzdG9tVHJhbnNwb3J0XyB8fCBUcmFuc3BvcnRGYWN0b3J5Lmluc3RhbmNlKCkuZ2V0RGVmYXVsdCgpO1xuXG5cdFx0Y29uc3QgY2xpZW50UmVxdWVzdCA9IHRoaXMuY3JlYXRlQ2xpZW50UmVxdWVzdF8obWV0aG9kLCBib2R5KTtcblxuXHRcdHJldHVybiB0cmFuc3BvcnQuc2VuZChjbGllbnRSZXF1ZXN0KS50aGVuKHRoaXMuZGVjb2RlKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBTZXRzIHRoZSBzb2NrZXQgdHJhbnNwb3J0XG5cdCAqIEBwYXJhbSB7T2JqZWN0fSBzb2NrZXQgaW1wbGVtZW50YXRpb24gb2JqZWN0LlxuXHQgKi9cblx0c3RhdGljIHNvY2tldChzb2NrZXQpIHtcblx0XHRpbyA9IHNvY2tldDtcblx0fVxuXG5cdC8qKlxuXHQgKiBTdGF0aWMgZmFjdG9yeSBmb3IgY3JlYXRpbmcgV2VEZXBsb3kgY2xpZW50IGZvciB0aGUgZ2l2ZW4gdXJsLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSB1cmwgdGhhdCB0aGUgY2xpZW50IHNob3VsZCB1c2UgZm9yIHNlbmRpbmcgcmVxdWVzdHMuXG5cdCAqL1xuXHRzdGF0aWMgdXJsKHVybCkge1xuXHRcdHJldHVybiBuZXcgV2VEZXBsb3kodXJsKS51c2UodGhpcy5jdXN0b21UcmFuc3BvcnRfKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRoZSBVUkwgdXNlZCBieSB0aGlzIGNsaWVudC5cblx0ICovXG5cdHVybCgpIHtcblx0XHRyZXR1cm4gdGhpcy51cmxfO1xuXHR9XG5cblx0LyoqXG5cdCAqIFNwZWNpZmllcyB7QGxpbmsgVHJhbnNwb3J0fSBpbXBsZW1lbnRhdGlvbi5cblx0ICogQHBhcmFtIHshVHJhbnNwb3J0fSB0cmFuc3BvcnQgVGhlIHRyYW5zcG9ydCBpbXBsZW1lbnRhdGlvbiB0aGF0IHNob3VsZCBiZVxuXHQgKiB1c2VkLlxuXHQgKi9cblx0dXNlKHRyYW5zcG9ydCkge1xuXHRcdHRoaXMuY3VzdG9tVHJhbnNwb3J0XyA9IHRyYW5zcG9ydDtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIG5ldyBzb2NrZXQuaW8gaW5zdGFuY2UuIFRoZSBwYXJhbWV0ZXJzIHBhc3NlZCB0byBzb2NrZXQuaW9cblx0ICogY29uc3RydWN0b3Igd2lsbCBiZSBwcm92aWRlZDpcblx0ICpcblx0ICogYGBgamF2YXNjcmlwdFxuXHQgKiBXZURlcGxveS51cmwoJ2h0dHA6Ly9kb21haW46ODA4MC9wYXRoL2EnKS53YXRjaCh7aWQ6ICdteUlkJ30sIHtmb286IHRydWV9KTtcblx0ICogLy8gRXF1YWxzOlxuXHQgKiBpbygnZG9tYWluOjgwODAvP3VybD1wYXRoJTJGYSUzRmlkJTNEbXlJZCcsIHtmb286IHRydWV9KTtcblx0ICogYGBgXG5cdCAqXG5cdCAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0X3BhcmFtcyBQYXJhbXMgdG8gYmUgc2VudCB3aXRoIHRoZSBTb2NrZXQgSU8gcmVxdWVzdC5cblx0ICogQHBhcmFtIHtPYmplY3Q9fSBvcHRfb3B0aW9ucyBPYmplY3Qgd2l0aCBTb2NrZXQgSU8gb3B0aW9ucy5cblx0ICogQHJldHVybiB7IWlvfSBTb2NrZXQgSU8gcmVmZXJlbmNlLiBTZXJ2ZXIgZXZlbnRzIGNhbiBiZSBsaXN0ZW5lZCBvbiBpdC5cblx0ICovXG5cdHdhdGNoKG9wdF9wYXJhbXMsIG9wdF9vcHRpb25zKSB7XG5cdFx0aWYgKHR5cGVvZiBpbyA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignU29ja2V0LmlvIGNsaWVudCBub3QgbG9hZGVkJyk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgY2xpZW50UmVxdWVzdCA9IHRoaXMuY3JlYXRlQ2xpZW50UmVxdWVzdF8oJ0dFVCcsIG9wdF9wYXJhbXMpO1xuXHRcdGNvbnN0IHVyaSA9IG5ldyBVcmkoY2xpZW50UmVxdWVzdC51cmwoKSk7XG5cdFx0dXJpLmFkZFBhcmFtZXRlcnNGcm9tTXVsdGlNYXAoY2xpZW50UmVxdWVzdC5wYXJhbXMoKSk7XG5cblx0XHRvcHRfb3B0aW9ucyA9IG9wdF9vcHRpb25zIHx8IHtcblx0XHRcdGZvcmNlTmV3OiB0cnVlXG5cdFx0fTtcblx0XHRvcHRfb3B0aW9ucy5xdWVyeSA9ICd1cmw9JyArIGVuY29kZVVSSUNvbXBvbmVudCh1cmkuZ2V0UGF0aG5hbWUoKSArIHVyaS5nZXRTZWFyY2goKSk7XG5cdFx0b3B0X29wdGlvbnMucGF0aCA9IG9wdF9vcHRpb25zLnBhdGggfHwgdXJpLmdldFBhdGhuYW1lKCk7XG5cblx0XHRyZXR1cm4gaW8odXJpLmdldEhvc3QoKSwgb3B0X29wdGlvbnMpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0X3dpdGhDcmVkZW50aWFsc1xuXHQgKi9cblx0d2l0aENyZWRlbnRpYWxzKHdpdGhDcmVkZW50aWFscykge1xuXHRcdHRoaXMud2l0aENyZWRlbnRpYWxzXyA9ICEhd2l0aENyZWRlbnRpYWxzO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG59XG5cbldlRGVwbG95LmF1dGhfID0gbnVsbDtcbldlRGVwbG95LmF1dGhVcmxfID0gJyc7XG5XZURlcGxveS5kYXRhVXJsXyA9ICcnO1xuXG5leHBvcnQgZGVmYXVsdCBXZURlcGxveTtcbiIsIid1c2Ugc3RyaWN0JztcblxuaW1wb3J0IGdsb2JhbHMgZnJvbSAnLi4vZ2xvYmFscy9nbG9iYWxzJztcbmltcG9ydCBGaWx0ZXIgZnJvbSAnLi4vYXBpLXF1ZXJ5L0ZpbHRlcic7XG5pbXBvcnQgR2VvIGZyb20gJy4uL2FwaS1xdWVyeS9HZW8nO1xuaW1wb3J0IFdlRGVwbG95IGZyb20gJy4uL2FwaS9XZURlcGxveSc7XG5pbXBvcnQgUXVlcnkgZnJvbSAnLi4vYXBpLXF1ZXJ5L1F1ZXJ5JztcbmltcG9ydCBSYW5nZSBmcm9tICcuLi9hcGktcXVlcnkvUmFuZ2UnO1xuXG5nbG9iYWxzLndpbmRvdy5GaWx0ZXIgPSBGaWx0ZXI7XG5nbG9iYWxzLndpbmRvdy5HZW8gPSBHZW87XG5nbG9iYWxzLndpbmRvdy5RdWVyeSA9IFF1ZXJ5O1xuZ2xvYmFscy53aW5kb3cuUmFuZ2UgPSBSYW5nZTtcbmdsb2JhbHMud2luZG93LldlRGVwbG95ID0gV2VEZXBsb3k7XG5cbmV4cG9ydCB7IEZpbHRlciwgR2VvLCBRdWVyeSwgUmFuZ2UsIFdlRGVwbG95IH07XG5leHBvcnQgZGVmYXVsdCBXZURlcGxveTtcbiJdLCJuYW1lcyI6WyJnbG9iYWxzIiwid2luZG93IiwiZG9jdW1lbnQiLCJjb21wYXRpYmlsaXR5TW9kZURhdGFfIiwidW5pcXVlSWRDb3VudGVyXyIsIlVJRF9QUk9QRVJUWSIsIk1hdGgiLCJyYW5kb20iLCJhYnN0cmFjdE1ldGhvZCIsIkVycm9yIiwiY29sbGVjdFN1cGVyQ2xhc3Nlc1Byb3BlcnR5IiwiY29uc3RydWN0b3IiLCJwcm9wZXJ0eU5hbWUiLCJwcm9wZXJ0eVZhbHVlcyIsIl9fcHJvdG9fXyIsImlzUHJvdG90eXBlT2YiLCJGdW5jdGlvbiIsInB1c2giLCJkaXNhYmxlQ29tcGF0aWJpbGl0eU1vZGUiLCJ1bmRlZmluZWQiLCJlbmFibGVDb21wYXRpYmlsaXR5TW9kZSIsIm9wdF9kYXRhIiwiZ2V0Q29tcGF0aWJpbGl0eU1vZGVEYXRhIiwiX19NRVRBTF9DT01QQVRJQklMSVRZX18iLCJnZXRGdW5jdGlvbk5hbWUiLCJmbiIsIm5hbWUiLCJzdHIiLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsImluZGV4T2YiLCJnZXRVaWQiLCJvcHRfb2JqZWN0Iiwib3B0X25vSW5oZXJpdGFuY2UiLCJpZCIsImhhc093blByb3BlcnR5IiwiaWRlbnRpdHlGdW5jdGlvbiIsIm9wdF9yZXR1cm5WYWx1ZSIsImlzQm9vbGVhbiIsInZhbCIsImlzRGVmIiwiaXNEZWZBbmROb3ROdWxsIiwiaXNOdWxsIiwiaXNEb2N1bWVudCIsIm5vZGVUeXBlIiwiaXNFbGVtZW50IiwiaXNGdW5jdGlvbiIsImlzTnVtYmVyIiwiaXNXaW5kb3ciLCJpc09iamVjdCIsInR5cGUiLCJpc1Byb21pc2UiLCJ0aGVuIiwiaXNTdHJpbmciLCJTdHJpbmciLCJtZXJnZVN1cGVyQ2xhc3Nlc1Byb3BlcnR5Iiwib3B0X21lcmdlRm4iLCJtZXJnZWROYW1lIiwibWVyZ2VkIiwibnVsbEZ1bmN0aW9uIiwiYXJyYXkiLCJhcnIxIiwiYXJyMiIsImxlbmd0aCIsImkiLCJhcnIiLCJvcHRfb3V0cHV0Iiwib3V0cHV0IiwiQXJyYXkiLCJpc0FycmF5IiwiZmxhdHRlbiIsIm9iaiIsInJ2IiwicmVtb3ZlQXQiLCJwcm90b3R5cGUiLCJzcGxpY2UiLCJjYWxsIiwic3RhcnQiLCJvcHRfZW5kIiwic2xpY2VkIiwiZW5kIiwiYXN5bmMiLCJ0aHJvd0V4Y2VwdGlvbiIsImV4Y2VwdGlvbiIsIm5leHRUaWNrIiwicnVuIiwiY2FsbGJhY2siLCJvcHRfY29udGV4dCIsIndvcmtRdWV1ZVNjaGVkdWxlZF8iLCJwcm9jZXNzV29ya1F1ZXVlIiwid29ya1F1ZXVlXyIsIldvcmtJdGVtXyIsIndvcmtJdGVtcyIsIndvcmtJdGVtIiwic2NvcGUiLCJlIiwiY2IiLCJiaW5kIiwid3JhcENhbGxiYWNrXyIsInNldEltbWVkaWF0ZSIsInNldEltbWVkaWF0ZV8iLCJnZXRTZXRJbW1lZGlhdGVFbXVsYXRvcl8iLCJDaGFubmVsIiwiTWVzc2FnZUNoYW5uZWwiLCJwb3N0TWVzc2FnZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJpZnJhbWUiLCJjcmVhdGVFbGVtZW50Iiwic3R5bGUiLCJkaXNwbGF5Iiwic3JjIiwiZG9jdW1lbnRFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJ3aW4iLCJjb250ZW50V2luZG93IiwiZG9jIiwib3BlbiIsIndyaXRlIiwiY2xvc2UiLCJtZXNzYWdlIiwib3JpZ2luIiwibG9jYXRpb24iLCJwcm90b2NvbCIsImhvc3QiLCJvbm1lc3NhZ2UiLCJkYXRhIiwicG9ydDEiLCJwb3J0MiIsImNoYW5uZWwiLCJoZWFkIiwidGFpbCIsIm5leHQiLCJzY3JpcHQiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJEaXNwb3NhYmxlIiwiZGlzcG9zZWRfIiwiZGlzcG9zZUludGVybmFsIiwib2JqZWN0IiwidGFyZ2V0Iiwia2V5Iiwic291cmNlIiwiYXJndW1lbnRzIiwib3B0X29iaiIsInBhcnRzIiwic3BsaXQiLCJyZWR1Y2UiLCJwYXJ0IiwibWFwcGVkT2JqIiwia2V5cyIsIk9iamVjdCIsIm9iajEiLCJvYmoyIiwia2V5czEiLCJrZXlzMiIsInN0cmluZyIsInN0cjEiLCJzdHIyIiwidGVzdDEiLCJ0b0xvd2VyQ2FzZSIsInRlc3QyIiwicmVwbGFjZSIsIngiLCJmbG9vciIsImFicyIsIkRhdGUiLCJub3ciLCJoYXNoIiwibGVuIiwiY2hhckNvZGVBdCIsInZhbHVlIiwiRW1ib2RpZWQiLCJib2R5XyIsIkpTT04iLCJzdHJpbmdpZnkiLCJib2R5IiwiRmlsdGVyQm9keSIsImZpZWxkIiwib3BlcmF0b3JPclZhbHVlIiwib3B0X3ZhbHVlIiwiY29yZSIsImNyZWF0ZUJvZHlfIiwib3BlcmF0b3IiLCJvcHRfZmlsdGVyIiwiYWRkQXJyYXlPcGVyYXRvcl8iLCJmaWx0ZXIiLCJmaWx0ZXJzIiwiYWRkIiwiR2VvIiwidXBwZXJMZWZ0IiwibG93ZXJSaWdodCIsIkJvdW5kaW5nQm94IiwiY2VudGVyIiwicmFkaXVzIiwiQ2lyY2xlIiwicG9pbnRzIiwiTGluZSIsImxhdCIsImxvbiIsIlBvaW50IiwiUG9seWdvbiIsIm1hcCIsInRvQm9keSIsInBvaW50IiwiY29vcmRpbmF0ZXMiLCJhZGRDb29yZGluYXRlc18iLCJSYW5nZSIsImZyb20iLCJvcHRfdG8iLCJ0byIsIkZpbHRlciIsImZpZWxkT3JGaWx0ZXIiLCJvcHRfb3BlcmF0b3JPclZhbHVlIiwidG9GaWx0ZXIiLCJhZGRNYW55IiwiZ2V0T2JqZWN0IiwidmFsdWVzIiwic2xpY2UiLCJib3hPclVwcGVyTGVmdCIsIm9wdF9sb3dlclJpZ2h0IiwicG9seWdvbiIsImdldFBvaW50cyIsImxvY2F0aW9uT3JDaXJjbGUiLCJvcHRfcmFuZ2VPckRpc3RhbmNlIiwicmFuZ2UiLCJnZXRDZW50ZXIiLCJnZXRSYWRpdXMiLCJkaXN0YW5jZUludGVybmFsXyIsIm1pbiIsIm1heCIsImZpZWxkT3JRdWVyeSIsIm9wdF9xdWVyeU9yRnV6emluZXNzIiwib3B0X2Z1enppbmVzcyIsImZ1enp5SW50ZXJuYWxfIiwiYXJnMklzU3RyaW5nIiwiZnV6emluZXNzIiwiQUxMIiwib3B0X3F1ZXJ5IiwicXVlcnkiLCJyYW5nZU9yTWluIiwib3B0X21heCIsInNoYXBlcyIsInNoYXBlIiwicGFyc2VGcm9tQW5jaG9yIiwib3B0X3VyaSIsImxpbmsiLCJocmVmIiwiaG9zdG5hbWUiLCJwYXNzd29yZCIsInBhdGhuYW1lIiwicG9ydCIsInNlYXJjaCIsInVzZXJuYW1lIiwicGFyc2UiLCJVUkwiLCJjcmVhdGUiLCJNdWx0aU1hcCIsInNpemUiLCJuYW1lcyIsInNldCIsIlRyZWVOb2RlIiwidmFsdWVfIiwicGFyZW50XyIsImNoaWxkcmVuXyIsImNoaWxkIiwic2V0UGFyZW50Iiwibm9kZSIsImN1cnJlbnQiLCJnZXRQYXJlbnQiLCJhbmNlc3RvcnMiLCJpbmRleCIsImdldENoaWxkcmVuIiwiRU1QVFlfQVJSQVkiLCJkZXB0aCIsInJvb3QiLCJnZXRDaGlsZENvdW50IiwicmVtb3ZlIiwicGFyZW50Iiwib3B0X3ByZW9yZGVyRm4iLCJvcHRfcG9zdG9yZGVyRm4iLCJmb3JFYWNoIiwidHJhdmVyc2UiLCJhc3NlcnRDaGlsZEhhc05vUGFyZW50IiwicGFyc2VGbl8iLCJVcmkiLCJ1cmwiLCJtYXliZUFkZFByb3RvY29sQW5kSG9zdG5hbWVfIiwibXVsdGltYXAiLCJnZXRBbGwiLCJhZGRQYXJhbWV0ZXJWYWx1ZSIsImVuc3VyZVF1ZXJ5SW5pdGlhbGl6ZWRfIiwicGFyYW0iLCJ1cmxEZWNvZGUiLCJnZXRIb3N0bmFtZSIsImdldFBvcnQiLCJIT1NUTkFNRV9QTEFDRUhPTERFUiIsImdldEhvc3QiLCJnZXRQcm90b2NvbCIsImdldCIsInF1ZXJ5c3RyaW5nIiwiZ2V0UGFyYW1ldGVyTmFtZXMiLCJnZXRQYXJhbWV0ZXJWYWx1ZXMiLCJlbmNvZGVVUklDb21wb25lbnQiLCJjb250YWlucyIsInNldFBhcmFtZXRlclZhbHVlIiwiUkFORE9NX1BBUkFNIiwiZ2V0UmFuZG9tU3RyaW5nIiwiREVGQVVMVF9QUk9UT0NPTCIsImNoYXJBdCIsInJlbW92ZVBhcmFtZXRlciIsImdldFBhdGhuYW1lIiwiZ2V0U2VhcmNoIiwiZ2V0SGFzaCIsInBhcnNlZCIsInN1YnN0ciIsIm5vcm1hbGl6ZU9iamVjdCIsInBhcnNlRm4iLCJiYXNlUGF0aCIsInBhdGhzIiwicGF0aCIsImNvbmNhdCIsImpvaW4iLCJkZWNvZGVVUklDb21wb25lbnQiLCJhc3NlcnRCcm93c2VyRW52aXJvbm1lbnQiLCJhc3NlcnREZWZBbmROb3ROdWxsIiwiZXJyb3JNZXNzYWdlIiwiYXNzZXJ0RnVuY3Rpb24iLCJhc3NlcnRPYmplY3QiLCJhc3NlcnRSZXNwb25zZVN1Y2NlZWRlZCIsInJlc3BvbnNlIiwic3VjY2VlZGVkIiwiYXNzZXJ0VXNlclNpZ25lZEluIiwidXNlciIsImFzc2VydFVyaVdpdGhOb1BhdGgiLCJ1cmkiLCJBdXRoIiwidG9rZW5PckVtYWlsIiwib3B0X3Bhc3N3b3JkIiwidG9rZW4iLCJlbWFpbCIsImNyZWF0ZWRBdCIsInBob3RvVXJsIiwid2VkZXBsb3lDbGllbnQiLCJhdXRoVXJsXyIsImdldElkIiwiYXV0aCIsInBhdGNoIiwiZGVsZXRlIiwidG9rZW5PclVzZXJuYW1lIiwiQXBpSGVscGVyIiwiYXV0aE9yVG9rZW5PckVtYWlsIiwiaGVscGVyQXV0aFNjb3BlIiwiQXV0aFByb3ZpZGVyIiwicHJvdmlkZXIiLCJwcm92aWRlclNjb3BlIiwicmVkaXJlY3RVcmkiLCJvcHRfYXV0aFVybCIsInNldFBhdGhuYW1lIiwiaGFzUHJvdmlkZXIiLCJnZXRQcm92aWRlciIsImhhc1Byb3ZpZGVyU2NvcGUiLCJnZXRQcm92aWRlclNjb3BlIiwiaGFzUmVkaXJlY3RVcmkiLCJnZXRSZWRpcmVjdFVyaSIsImhhc1Njb3BlIiwiZ2V0U2NvcGUiLCJhc3NlcnRTdHJpbmdJZkRlZkFuZE5vdE51bGwiLCJGYWNlYm9va0F1dGhQcm92aWRlciIsIlBST1ZJREVSIiwiR2l0aHViQXV0aFByb3ZpZGVyIiwiR29vZ2xlQXV0aFByb3ZpZGVyIiwiU3RvcmFnZU1lY2hhbmlzbSIsIlN0b3JhZ2UiLCJtZWNoYW5pc20iLCJjbGVhciIsImpzb24iLCJFcnJvckNvZGUiLCJJTlZBTElEX1ZBTFVFIiwiYXNzZXJ0TWVjaGFuaXNtRGVmQW5kTm90TnVsbCIsImFzc2VydE1lY2hhbmlzbUludGFuY2VPZiIsIkxvY2FsU3RvcmFnZU1lY2hhbmlzbSIsImxvY2FsU3RvcmFnZSIsInN0b3JhZ2UiLCJnZXRJdGVtIiwicmVtb3ZlSXRlbSIsInNldEl0ZW0iLCJpc1N1cHBvcnRlZCIsIkF1dGhBcGlIZWxwZXIiLCJjdXJyZW50VXNlciIsIm9uU2lnbkluQ2FsbGJhY2siLCJvblNpZ25PdXRDYWxsYmFjayIsInByb2Nlc3NTaWduSW5fIiwicG9zdCIsIm1ha2VVc2VyQXV0aEZyb21EYXRhIiwiZnJhZ21lbnQiLCJ1c2VySWQiLCJyZXNvbHZlQXV0aFNjb3BlIiwic2V0V2VkZXBsb3lDbGllbnQiLCJzZXRDcmVhdGVkQXQiLCJzZXRFbWFpbCIsInNldElkIiwic2V0TmFtZSIsInNldFBob3RvVXJsIiwic2V0VG9rZW4iLCJyZWRpcmVjdEFjY2Vzc1Rva2VuIiwiZ2V0UmVkaXJlY3RBY2Nlc3NUb2tlbl8iLCJyZW1vdmVVcmxGcmFnbWVudENvbXBsZXRlbHlfIiwibG9hZEN1cnJlbnRVc2VyIiwibWF5YmVDYWxsT25TaWduSW5DYWxsYmFja18iLCJoaXN0b3J5IiwicHVzaFN0YXRlIiwidGl0bGUiLCJhY2Nlc3NfdG9rZW4iLCJzZXRSZWRpcmVjdFVyaSIsImdldEhyZWZXaXRob3V0RnJhZ21lbnRfIiwibWFrZUF1dGhvcml6YXRpb25VcmwiLCJtYXliZUNhbGxPblNpZ25PdXRDYWxsYmFja18iLCJ1bmxvYWRDdXJyZW50VXNlcl8iLCJhc3NlcnRTdXBwb3J0ZWRQcm92aWRlciIsIkFnZ3JlZ2F0aW9uIiwiZmllbGRfIiwib3BlcmF0b3JfIiwicmFuZ2VzIiwiRGlzdGFuY2VBZ2dyZWdhdGlvbiIsImludGVydmFsIiwiUmFuZ2VBZ2dyZWdhdGlvbiIsInJhbmdlT3JGcm9tIiwidW5pdCIsIlF1ZXJ5IiwiYWdncmVnYXRpb25PckZpZWxkIiwib3B0X29wZXJhdG9yIiwiYWdncmVnYXRpb24iLCJnZXRGaWVsZCIsImdldE9wZXJhdG9yIiwiZ2V0VmFsdWUiLCJvZmZzZXQiLCJoaWdobGlnaHQiLCJsaW1pdCIsImZpbHRlck9yVGV4dE9yRmllbGQiLCJvcHRfdGV4dE9yT3BlcmF0b3IiLCJtYXRjaCIsIm9wdF9kaXJlY3Rpb24iLCJzb3J0Iiwic29ydEVudHJ5IiwiYWdncmVnYXRlIiwiRGF0YUFwaUhlbHBlciIsImdldE9yQ3JlYXRlRmlsdGVyXyIsImFuZCIsIm9yIiwiYXJncyIsIndoZXJlIiwibm9uZSIsInNpbWlsYXIiLCJsdCIsImx0ZSIsImFueSIsImJvdW5kaW5nQm94IiwiZGlzdGFuY2UiLCJnZXRPckNyZWF0ZVF1ZXJ5XyIsImNvbGxlY3Rpb24iLCJkYXRhVXJsXyIsInB1dCIsImFkZEZpbHRlcnNUb1F1ZXJ5XyIsInF1ZXJ5XyIsIm9uU2VhcmNoXyIsIm9wdF9vcHRpb25zIiwid2F0Y2giLCJmaWx0ZXJfIiwidG9TZWFyY2hfIiwiQmFzZTY0IiwiYnRvYSIsIkJ1ZmZlciIsIlRoZW5hYmxlIiwiSU1QTEVNRU5URURfQllfUFJPUCIsImFkZEltcGxlbWVudGF0aW9uIiwiY3RvciIsIiRnb29nX1RoZW5hYmxlIiwiaXNJbXBsZW1lbnRlZEJ5IiwicGFydGlhbCIsIm5ld0FyZ3MiLCJhcHBseSIsIkNhbmNlbGxhYmxlUHJvbWlzZSIsInJlc29sdmVyIiwic3RhdGVfIiwiU3RhdGVfIiwiUEVORElORyIsInJlc3VsdF8iLCJjYWxsYmFja0VudHJpZXNfIiwiZXhlY3V0aW5nXyIsIlVOSEFORExFRF9SRUpFQ1RJT05fREVMQVkiLCJ1bmhhbmRsZWRSZWplY3Rpb25JZF8iLCJoYWRVbmhhbmRsZWRSZWplY3Rpb25fIiwic2VsZiIsInJlc29sdmVfIiwiRlVMRklMTEVEIiwicmVhc29uIiwiUkVKRUNURUQiLCJDYWxsYmFja0VudHJ5XyIsInJlc29sdmUiLCJyZWplY3QiLCJvcHRfcmVhc29uIiwicmFjZSIsInByb21pc2VzIiwicHJvbWlzZSIsImFsbCIsInRvRnVsZmlsbCIsIm9uRnVsZmlsbCIsIm9uUmVqZWN0IiwiZmlyc3RGdWxmaWxsZWQiLCJ0b1JlamVjdCIsInJlYXNvbnMiLCJvcHRfb25GdWxmaWxsZWQiLCJvcHRfb25SZWplY3RlZCIsImFkZENoaWxkUHJvbWlzZV8iLCJ0aGVuQWx3YXlzIiwib25SZXNvbHZlZCIsImVyciIsImhhbmRsZVJlamVjdGlvbl8iLCJhZGRDYWxsYmFja0VudHJ5XyIsInRoZW5DYXRjaCIsIm9uUmVqZWN0ZWQiLCJjYXRjaCIsImNhbmNlbCIsIm9wdF9tZXNzYWdlIiwiQ2FuY2VsbGF0aW9uRXJyb3IiLCJJU19DQU5DRUxMQVRJT05fRVJST1IiLCJjYW5jZWxJbnRlcm5hbF8iLCJjYW5jZWxDaGlsZF8iLCJjaGlsZFByb21pc2UiLCJjaGlsZENvdW50IiwiY2hpbGRJbmRleCIsImVudHJ5IiwiY2FsbGJhY2tFbnRyeSIsImV4ZWN1dGVDYWxsYmFja18iLCJzY2hlZHVsZUNhbGxiYWNrc18iLCJvbkZ1bGZpbGxlZCIsInJlc3VsdCIsInVuYmxvY2tBbmRGdWxmaWxsXyIsIkJMT0NLRUQiLCJ1bmJsb2NrQW5kUmVqZWN0XyIsInN0YXRlIiwiVHlwZUVycm9yIiwidHJ5VGhlbl8iLCJhZGRVbmhhbmRsZWRSZWplY3Rpb25fIiwidGhlbmFibGUiLCJjYWxsZWQiLCJleGVjdXRlQ2FsbGJhY2tzXyIsImVudHJpZXMiLCJyZW1vdmVVbmhhbmRsZWRSZWplY3Rpb25fIiwicCIsInNldFRpbWVvdXQiLCJzZXRVbmhhbmRsZWRSZWplY3Rpb25IYW5kbGVyIiwiaGFuZGxlciIsIkFqYXgiLCJhbGxIZWFkZXJzIiwiaGVhZGVycyIsInBhaXJzIiwibWV0aG9kIiwib3B0X2hlYWRlcnMiLCJvcHRfcGFyYW1zIiwib3B0X3RpbWVvdXQiLCJvcHRfc3luYyIsIm9wdF93aXRoQ3JlZGVudGlhbHMiLCJyZXF1ZXN0IiwiWE1MSHR0cFJlcXVlc3QiLCJQcm9taXNlIiwib25sb2FkIiwiYWJvcnRlZCIsIm9uZXJyb3IiLCJlcnJvciIsImFib3J0IiwidGltZW91dCIsImFkZFBhcmFtZXRlcnNGcm9tTXVsdGlNYXAiLCJ3aXRoQ3JlZGVudGlhbHMiLCJzZXRSZXF1ZXN0SGVhZGVyIiwic2VuZCIsIlRyYW5zcG9ydCIsIkNsaWVudE1lc3NhZ2UiLCJoZWFkZXJzXyIsIm9wdF9ib2R5IiwiQ2xpZW50UmVzcG9uc2UiLCJjbGllbnRSZXF1ZXN0IiwiY2xpZW50UmVxdWVzdF8iLCJvcHRfc3RhdHVzQ29kZSIsInN0YXR1c0NvZGVfIiwib3B0X3N0YXR1c1RleHQiLCJzdGF0dXNUZXh0XyIsInN0YXR1c0NvZGUiLCJBamF4VHJhbnNwb3J0IiwiZGVmZXJyZWQiLCJwYXJhbXMiLCJjbGllbnRSZXNwb25zZSIsInJlc3BvbnNlVGV4dCIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJwYXJzZVJlc3BvbnNlSGVhZGVycyIsImdldEFsbFJlc3BvbnNlSGVhZGVycyIsImhlYWRlciIsIlRyYW5zcG9ydEZhY3RvcnkiLCJ0cmFuc3BvcnRzIiwiREVGQVVMVF9UUkFOU1BPUlRfTkFNRSIsImltcGxlbWVudGF0aW9uTmFtZSIsIlRyYW5zcG9ydENsYXNzIiwiaW5zdGFuY2VfIiwiQ2xpZW50UmVxdWVzdCIsInBhcmFtc18iLCJ3aXRoQ3JlZGVudGlhbHNfIiwib3B0X21ldGhvZCIsIm1ldGhvZF8iLCJERUZBVUxUX01FVEhPRCIsIm9wdF91cmwiLCJ1cmxfIiwiaW8iLCJXZURlcGxveSIsImF1dGhfIiwiam9pblBhdGhzIiwiZm9ybURhdGFfIiwiZW5jb2RlIiwiaXNDb250ZW50VHlwZUpzb24iLCJzZW5kQXN5bmMiLCJGb3JtRGF0YSIsIm1heWJlV3JhcFdpdGhRdWVyeV8iLCJjb252ZXJ0Qm9keVRvUGFyYW1zXyIsInJlbW92ZUJvZHkiLCJlbmNvZGVQYXJhbXNfIiwicmVzb2x2ZUF1dGhlbnRpY2F0aW9uXyIsImFwcGVuZCIsImVtYm9kaWVkIiwidXNlIiwiY3VzdG9tVHJhbnNwb3J0XyIsImhhc1Rva2VuIiwiY3JlZGVudGlhbHMiLCJlbmNvZGVTdHJpbmciLCJ0cmFuc3BvcnQiLCJpbnN0YW5jZSIsImdldERlZmF1bHQiLCJjcmVhdGVDbGllbnRSZXF1ZXN0XyIsImRlY29kZSIsIm9wdF9kYXRhVXJsIiwiZGF0YV8iLCJjbGllbnRNZXNzYWdlIiwiY29udGVudFR5cGUiLCJzb2Nr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"}